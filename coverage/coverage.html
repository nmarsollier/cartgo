
<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>cart: Go Coverage Report</title>
		<style>
			body {
				background: black;
				color: rgb(80, 80, 80);
			}
			body, pre, #legend span {
				font-family: Menlo, monospace;
				font-weight: bold;
			}
			#topbar {
				background: black;
				position: fixed;
				top: 0; left: 0; right: 0;
				height: 42px;
				border-bottom: 1px solid rgb(80, 80, 80);
			}
			#content {
				margin-top: 50px;
			}
			#nav, #legend {
				float: left;
				margin-left: 10px;
			}
			#legend {
				margin-top: 12px;
			}
			#nav {
				margin-top: 10px;
			}
			#legend span {
				margin: 0 5px;
			}
			.cov0 { color: rgb(192, 0, 0) }
.cov1 { color: rgb(128, 128, 128) }
.cov2 { color: rgb(116, 140, 131) }
.cov3 { color: rgb(104, 152, 134) }
.cov4 { color: rgb(92, 164, 137) }
.cov5 { color: rgb(80, 176, 140) }
.cov6 { color: rgb(68, 188, 143) }
.cov7 { color: rgb(56, 200, 146) }
.cov8 { color: rgb(44, 212, 149) }
.cov9 { color: rgb(32, 224, 152) }
.cov10 { color: rgb(20, 236, 155) }

		</style>
	</head>
	<body>
		<div id="topbar">
			<div id="nav">
				<select id="files">
				
				<option value="file0">github.com/nmarsollier/cartgo/cart/add_article_service.go (0.0%)</option>
				
				<option value="file1">github.com/nmarsollier/cartgo/cart/article_data_service.go (0.0%)</option>
				
				<option value="file2">github.com/nmarsollier/cartgo/cart/cart_dao.go (0.0%)</option>
				
				<option value="file3">github.com/nmarsollier/cartgo/cart/current_cart_service.go (0.0%)</option>
				
				<option value="file4">github.com/nmarsollier/cartgo/cart/find_cart_service.go (0.0%)</option>
				
				<option value="file5">github.com/nmarsollier/cartgo/cart/invalidate_service.go (0.0%)</option>
				
				<option value="file6">github.com/nmarsollier/cartgo/cart/order_placed_service.go (0.0%)</option>
				
				<option value="file7">github.com/nmarsollier/cartgo/cart/remove_article_service.go (0.0%)</option>
				
				<option value="file8">github.com/nmarsollier/cartgo/cart/repository.go (0.0%)</option>
				
				<option value="file9">github.com/nmarsollier/cartgo/cart/schema.go (0.0%)</option>
				
				<option value="file10">github.com/nmarsollier/cartgo/cart/test_tools.go (0.0%)</option>
				
				<option value="file11">github.com/nmarsollier/cartgo/docs/docs.go (0.0%)</option>
				
				<option value="file12">github.com/nmarsollier/cartgo/graph/entity.resolvers.go (0.0%)</option>
				
				<option value="file13">github.com/nmarsollier/cartgo/graph/model/federation.go (0.0%)</option>
				
				<option value="file14">github.com/nmarsollier/cartgo/graph/model/models_gen.go (0.0%)</option>
				
				<option value="file15">github.com/nmarsollier/cartgo/graph/model/schema.go (0.0%)</option>
				
				<option value="file16">github.com/nmarsollier/cartgo/graph/resolvers/add_article.go (0.0%)</option>
				
				<option value="file17">github.com/nmarsollier/cartgo/graph/resolvers/checkout.go (0.0%)</option>
				
				<option value="file18">github.com/nmarsollier/cartgo/graph/resolvers/current_cart.go (0.0%)</option>
				
				<option value="file19">github.com/nmarsollier/cartgo/graph/resolvers/decrement.go (0.0%)</option>
				
				<option value="file20">github.com/nmarsollier/cartgo/graph/resolvers/find_cart.go (0.0%)</option>
				
				<option value="file21">github.com/nmarsollier/cartgo/graph/resolvers/increment.go (0.0%)</option>
				
				<option value="file22">github.com/nmarsollier/cartgo/graph/resolvers/mappers.go (0.0%)</option>
				
				<option value="file23">github.com/nmarsollier/cartgo/graph/resolvers/remove.go (0.0%)</option>
				
				<option value="file24">github.com/nmarsollier/cartgo/graph/resolvers/validate.go (0.0%)</option>
				
				<option value="file25">github.com/nmarsollier/cartgo/graph/schema.resolvers.go (0.0%)</option>
				
				<option value="file26">github.com/nmarsollier/cartgo/graph/server/server.go (0.0%)</option>
				
				<option value="file27">github.com/nmarsollier/cartgo/graph/tools/auth.go (0.0%)</option>
				
				<option value="file28">github.com/nmarsollier/cartgo/graph/tools/context.go (0.0%)</option>
				
				<option value="file29">github.com/nmarsollier/cartgo/graph/tools/logger.go (0.0%)</option>
				
				<option value="file30">github.com/nmarsollier/cartgo/main.go (0.0%)</option>
				
				<option value="file31">github.com/nmarsollier/cartgo/rabbit/consume/consume_article_exist.go (0.0%)</option>
				
				<option value="file32">github.com/nmarsollier/cartgo/rabbit/consume/consume_logout.go (0.0%)</option>
				
				<option value="file33">github.com/nmarsollier/cartgo/rabbit/consume/consume_order_placed.go (0.0%)</option>
				
				<option value="file34">github.com/nmarsollier/cartgo/rabbit/consume/listeners.go (0.0%)</option>
				
				<option value="file35">github.com/nmarsollier/cartgo/rabbit/emit/common.go (0.0%)</option>
				
				<option value="file36">github.com/nmarsollier/cartgo/rabbit/emit/rabbit_channel.go (0.0%)</option>
				
				<option value="file37">github.com/nmarsollier/cartgo/rabbit/emit/rabbit_channel_mocks.go (0.0%)</option>
				
				<option value="file38">github.com/nmarsollier/cartgo/rabbit/emit/send_article_validation.go (0.0%)</option>
				
				<option value="file39">github.com/nmarsollier/cartgo/rabbit/emit/send_place_order.go (0.0%)</option>
				
				<option value="file40">github.com/nmarsollier/cartgo/rabbit/emit/test_tools.go (0.0%)</option>
				
				<option value="file41">github.com/nmarsollier/cartgo/rest/delete_cart_article_id.go (0.0%)</option>
				
				<option value="file42">github.com/nmarsollier/cartgo/rest/get_cart.go (0.0%)</option>
				
				<option value="file43">github.com/nmarsollier/cartgo/rest/get_cart_validate.go (0.0%)</option>
				
				<option value="file44">github.com/nmarsollier/cartgo/rest/post_cart_article.go (0.0%)</option>
				
				<option value="file45">github.com/nmarsollier/cartgo/rest/post_cart_article_id_decrement.go (0.0%)</option>
				
				<option value="file46">github.com/nmarsollier/cartgo/rest/post_cart_article_id_increment.go (0.0%)</option>
				
				<option value="file47">github.com/nmarsollier/cartgo/rest/post_cart_checkout.go (0.0%)</option>
				
				<option value="file48">github.com/nmarsollier/cartgo/rest/router.go (0.0%)</option>
				
				<option value="file49">github.com/nmarsollier/cartgo/rest/server/auth.go (0.0%)</option>
				
				<option value="file50">github.com/nmarsollier/cartgo/rest/server/engine.go (0.0%)</option>
				
				<option value="file51">github.com/nmarsollier/cartgo/rest/server/error.go (0.0%)</option>
				
				<option value="file52">github.com/nmarsollier/cartgo/rest/server/logger.go (0.0%)</option>
				
				<option value="file53">github.com/nmarsollier/cartgo/rest/server/test_utils.go (0.0%)</option>
				
				<option value="file54">github.com/nmarsollier/cartgo/security/invalidate_service.go (60.0%)</option>
				
				<option value="file55">github.com/nmarsollier/cartgo/security/repository.go (81.8%)</option>
				
				<option value="file56">github.com/nmarsollier/cartgo/security/test_utils.go (100.0%)</option>
				
				<option value="file57">github.com/nmarsollier/cartgo/security/validate_service.go (77.8%)</option>
				
				<option value="file58">github.com/nmarsollier/cartgo/services/add_article_service.go (0.0%)</option>
				
				<option value="file59">github.com/nmarsollier/cartgo/services/checkout_service.go (0.0%)</option>
				
				<option value="file60">github.com/nmarsollier/cartgo/services/current_cart_service.go (0.0%)</option>
				
				<option value="file61">github.com/nmarsollier/cartgo/services/find_cart_service.go (0.0%)</option>
				
				<option value="file62">github.com/nmarsollier/cartgo/services/validate_checkout_service.go (0.0%)</option>
				
				<option value="file63">github.com/nmarsollier/cartgo/tools/env/env.go (92.3%)</option>
				
				<option value="file64">github.com/nmarsollier/cartgo/tools/errs/rest_error.go (33.3%)</option>
				
				<option value="file65">github.com/nmarsollier/cartgo/tools/errs/validation.go (0.0%)</option>
				
				<option value="file66">github.com/nmarsollier/cartgo/tools/httpx/client.go (75.0%)</option>
				
				<option value="file67">github.com/nmarsollier/cartgo/tools/httpx/client_mocks.go (100.0%)</option>
				
				<option value="file68">github.com/nmarsollier/cartgo/tools/log/logger.go (15.0%)</option>
				
				<option value="file69">github.com/nmarsollier/cartgo/tools/log/logrus_logger.go (0.0%)</option>
				
				<option value="file70">github.com/nmarsollier/cartgo/tools/log/logrus_logger_mocks.go (86.7%)</option>
				
				<option value="file71">github.com/nmarsollier/cartgo/tools/log/test_tools.go (100.0%)</option>
				
				<option value="file72">github.com/nmarsollier/cartgo/tools/strs/json_tools.go (100.0%)</option>
				
				</select>
			</div>
			<div id="legend">
				<span>not tracked</span>
			
				<span class="cov0">not covered</span>
				<span class="cov8">covered</span>
			
			</div>
		</div>
		<div id="content">
		
		<pre class="file" id="file0" style="display: none">package cart

func AddArticle(userId string, articleId string, quantity int, deps ...interface{}) (*Cart, error) <span class="cov0" title="0">{
        cart, err := CurrentCart(userId, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">article := &amp;Article{
                ArticleId: articleId,
                Quantity:  quantity,
                Validated: false,
        }

        // Si existe solo incremento la cantidad
        exist := false
        for _, a := range cart.Articles </span><span class="cov0" title="0">{
                if a.ArticleId == article.ArticleId </span><span class="cov0" title="0">{
                        a.Quantity += article.Quantity
                        exist = true
                }</span>
        }

        // Sino lo agregamos a la lista
        <span class="cov0" title="0">if !exist </span><span class="cov0" title="0">{
                cart.Articles = append(cart.Articles, article)
        }</span>

        <span class="cov0" title="0">newArticles := []*Article{}
        for _, a := range cart.Articles </span><span class="cov0" title="0">{
                if a.Quantity &gt; 0 </span><span class="cov0" title="0">{
                        newArticles = append(newArticles, a)
                }</span>
        }
        <span class="cov0" title="0">cart.Articles = newArticles

        err = replace(cart, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">return cart, nil</span>
}
</pre>
		
		<pre class="file" id="file1" style="display: none">package cart

type ValidationEvent struct {
        ReferenceId string `json:"referenceId" example:"UserId"`
        ArticleId   string `json:"articleId" example:"ArticleId"`
        Valid       bool   `json:"valid" example:"true"`
}

func ProcessArticleData(data *ValidationEvent, deps ...interface{}) error <span class="cov0" title="0">{
        cart, err := findByUserId(data.ReferenceId, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov0" title="0">for _, a := range cart.Articles </span><span class="cov0" title="0">{
                if a.ArticleId == data.ArticleId </span><span class="cov0" title="0">{
                        a.Validated = true
                        a.Valid = data.Valid
                }</span>
        }

        <span class="cov0" title="0">err = replace(cart, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov0" title="0">return nil</span>
}
</pre>
		
		<pre class="file" id="file2" style="display: none">package cart

import (
        "context"
        "errors"
        "strconv"
        "sync"

        "github.com/aws/aws-sdk-go-v2/aws"
        "github.com/aws/aws-sdk-go-v2/config"
        "github.com/aws/aws-sdk-go-v2/credentials"
        "github.com/aws/aws-sdk-go-v2/feature/dynamodb/attributevalue"
        "github.com/aws/aws-sdk-go-v2/feature/dynamodb/expression"
        "github.com/aws/aws-sdk-go-v2/service/dynamodb"
        "github.com/aws/aws-sdk-go-v2/service/dynamodb/types"
        "github.com/nmarsollier/cartgo/tools/env"
        "github.com/nmarsollier/cartgo/tools/errs"
)

var tableName = "cart"

var (
        once     sync.Once
        instance CartDao
)

type CartDao interface {
        FindById(id string) (token *Cart, err error)
        FindByUserId(userId string) (token *Cart, err error)
        Save(article *Cart) (err error)
        Disable(cartId string, userId string) (err error)
}

func GetCartDao(deps ...interface{}) (CartDao, error) <span class="cov0" title="0">{
        for _, o := range deps </span><span class="cov0" title="0">{
                if client, ok := o.(CartDao); ok </span><span class="cov0" title="0">{
                        return client, nil
                }</span>
        }

        <span class="cov0" title="0">var conn_err error
        once.Do(func() </span><span class="cov0" title="0">{
                customCreds := aws.NewCredentialsCache(credentials.NewStaticCredentialsProvider(
                        env.Get().AwsAccessKeyId,
                        env.Get().AwsSecret,
                        "",
                ))

                cfg, err := config.LoadDefaultConfig(context.TODO(),
                        config.WithRegion(env.Get().AwsRegion),
                        config.WithCredentialsProvider(customCreds),
                )
                if err != nil </span><span class="cov0" title="0">{
                        conn_err = err
                        return
                }</span>

                <span class="cov0" title="0">instance = &amp;cartDao{
                        client: dynamodb.NewFromConfig(cfg),
                }</span>
        })

        <span class="cov0" title="0">return instance, conn_err</span>
}

type cartDao struct {
        client *dynamodb.Client
}

func (r *cartDao) FindById(id string) (*Cart, error) <span class="cov0" title="0">{
        token := Cart{ID: id}
        tokenId, err := attributevalue.Marshal(token.ID)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">response, err := r.client.GetItem(context.TODO(), &amp;dynamodb.GetItemInput{
                Key: map[string]types.AttributeValue{"id": tokenId}, TableName: &amp;tableName,
        })

        if err != nil || response == nil || response.Item == nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">err = attributevalue.UnmarshalMap(response.Item, &amp;token)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">return &amp;token, nil</span>
}

func (r *cartDao) FindByUserId(id string) (*Cart, error) <span class="cov0" title="0">{

        expr, err := expression.NewBuilder().WithKeyCondition(
                expression.Key("userId_enabled").Equal(expression.Value(id + "_" + strconv.FormatBool(true))),
        ).Build()

        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">response, err := r.client.Query(context.TODO(), &amp;dynamodb.QueryInput{
                TableName:                 &amp;tableName,
                IndexName:                 aws.String("userId_enabled-index"),
                KeyConditionExpression:    expr.KeyCondition(),
                ExpressionAttributeNames:  expr.Names(),
                ExpressionAttributeValues: expr.Values(),
        })

        if temp := new(types.ResourceNotFoundException); err != nil &amp;&amp; !errors.As(err, &amp;temp) </span><span class="cov0" title="0">{
                return nil, errs.NotFound
        }</span>

        <span class="cov0" title="0">if err != nil || len(response.Items) == 0 </span><span class="cov0" title="0">{
                return nil, errs.NotFound
        }</span>

        <span class="cov0" title="0">var cart Cart
        err = attributevalue.UnmarshalMap(response.Items[0], &amp;cart)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">return &amp;cart, nil</span>
}

func (r *cartDao) Save(cart *Cart) (err error) <span class="cov0" title="0">{
        cart.UserIdEnabled = cart.UserId + "_" + strconv.FormatBool(cart.Enabled)
        articleToInsert, err := attributevalue.MarshalMap(cart)
        if err != nil </span><span class="cov0" title="0">{
                return
        }</span>

        <span class="cov0" title="0">_, err = r.client.PutItem(
                context.TODO(),
                &amp;dynamodb.PutItemInput{
                        TableName: &amp;tableName,
                        Item:      articleToInsert,
                },
        )
        return</span>
}

func (r *cartDao) Disable(cartId string, userId string) (err error) <span class="cov0" title="0">{
        key, err := attributevalue.MarshalMap(map[string]interface{}{
                "id": cartId,
        })
        if err != nil </span><span class="cov0" title="0">{
                return
        }</span>

        <span class="cov0" title="0">update, err := attributevalue.MarshalMap(map[string]interface{}{
                ":enabled":        false,
                ":userId_enabled": userId + "_" + strconv.FormatBool(false),
        })
        if err != nil </span><span class="cov0" title="0">{
                return
        }</span>

        <span class="cov0" title="0">_, err = r.client.UpdateItem(
                context.TODO(),
                &amp;dynamodb.UpdateItemInput{
                        TableName:                 &amp;tableName,
                        Key:                       key,
                        UpdateExpression:          aws.String("SET enabled = :enabled, userId_enabled = :userId_enabled"),
                        ExpressionAttributeValues: update,
                },
        )
        return</span>
}
</pre>
		
		<pre class="file" id="file3" style="display: none">package cart

import (
        "github.com/nmarsollier/cartgo/tools/errs"
)

func CurrentCart(userId string, deps ...interface{}) (*Cart, error) <span class="cov0" title="0">{
        cart, err := findByUserId(userId, deps...)
        if err == errs.NotFound </span><span class="cov0" title="0">{
                cart = newCart(userId)
                err = insert(cart, deps...)
                if err != nil </span><span class="cov0" title="0">{
                        return nil, err
                }</span>
        }

        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">return cart, nil</span>
}
</pre>
		
		<pre class="file" id="file4" style="display: none">package cart

func FindCartById(cartId string, deps ...interface{}) (*Cart, error) <span class="cov0" title="0">{
        cart, err := findById(cartId, deps...)
        if err != nil </span><span class="cov0" title="0">{
                if err.Error() != "mongo: no documents in result" </span><span class="cov0" title="0">{
                        return nil, err
                }</span>
        }

        <span class="cov0" title="0">return cart, nil</span>
}
</pre>
		
		<pre class="file" id="file5" style="display: none">package cart

func InvalidateCurrentCart(cart *Cart, deps ...interface{}) (err error) <span class="cov0" title="0">{
        return invalidate(cart, deps...)
}</span>
</pre>
		
		<pre class="file" id="file6" style="display: none">package cart

type OrderPlacedEvent struct {
        CartId  string `json:"cartId" example:"CartId"`
        OrderId string `json:"orderId" example:"OrderId"`
        Valid   bool   `json:"valid" example:"true"`
}

func ProcessOrderPlaced(data *OrderPlacedEvent, deps ...interface{}) error <span class="cov0" title="0">{
        cart, err := findById(data.CartId, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov0" title="0">cart.OrderId = data.OrderId
        err = replace(cart, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov0" title="0">return nil</span>
}
</pre>
		
		<pre class="file" id="file7" style="display: none">package cart

func RemoveArticle(userId string, articleId string, deps ...interface{}) (*Cart, error) <span class="cov0" title="0">{
        cart, err := CurrentCart(userId, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">newArticles := []*Article{}
        for _, a := range cart.Articles </span><span class="cov0" title="0">{
                if a.ArticleId != articleId </span><span class="cov0" title="0">{
                        newArticles = append(newArticles, a)
                }</span>
        }
        <span class="cov0" title="0">cart.Articles = newArticles

        err = replace(cart, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">return cart, nil</span>
}
</pre>
		
		<pre class="file" id="file8" style="display: none">package cart

import (
        "time"

        "github.com/nmarsollier/cartgo/tools/errs"
        "github.com/nmarsollier/cartgo/tools/log"
        uuid "github.com/satori/go.uuid"
)

var ErrID = errs.NewValidation().Add("id", "Invalid")

func newCart(userId string) *Cart <span class="cov0" title="0">{
        return &amp;Cart{
                ID:       uuid.NewV4().String(),
                UserId:   userId,
                Enabled:  true,
                Created:  time.Now(),
                Updated:  time.Now(),
                Articles: []*Article{},
        }
}</span>

// findByUserId lee el cart activo del usuario
func findByUserId(cartId string, deps ...interface{}) (cart *Cart, err error) <span class="cov0" title="0">{
        conn, err := GetCartDao(deps...)
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>

        <span class="cov0" title="0">if cart, err = conn.FindByUserId(cartId); err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">return cart, nil</span>
}

func findById(cartId string, deps ...interface{}) (cart *Cart, err error) <span class="cov0" title="0">{
        conn, err := GetCartDao(deps...)
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>

        <span class="cov0" title="0">if cart, err = conn.FindById(cartId); err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">return cart, nil</span>
}

func insert(cart *Cart, deps ...interface{}) (err error) <span class="cov0" title="0">{
        if err = cart.validateSchema(); err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>

        <span class="cov0" title="0">collection, err := GetCartDao(deps...)
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>

        <span class="cov0" title="0">if err = collection.Save(cart); err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>

        <span class="cov0" title="0">return</span>
}

func replace(cart *Cart, deps ...interface{}) (err error) <span class="cov0" title="0">{
        if err = cart.validateSchema(); err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>

        <span class="cov0" title="0">collection, err := GetCartDao(deps...)
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>

        <span class="cov0" title="0">if err = collection.Save(cart); err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>

        <span class="cov0" title="0">return</span>
}

func invalidate(cart *Cart, deps ...interface{}) (err error) <span class="cov0" title="0">{
        if err = cart.validateSchema(); err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>

        <span class="cov0" title="0">conn, err := GetCartDao(deps...)
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>

        <span class="cov0" title="0">cart.Enabled = false

        err = conn.Disable(cart.ID, cart.UserId)
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
        }</span>

        <span class="cov0" title="0">return</span>
}
</pre>
		
		<pre class="file" id="file9" style="display: none">package cart

import (
        "time"

        "github.com/go-playground/validator/v10"
)

// Estuctura basica de del evento
type Cart struct {
        ID            string     `dynamodbav:"id" json:"_id"`
        UserId        string     `dynamodbav:"userId"  json:"userId" validate:"required,min=1,max=100"`
        UserIdEnabled string     `dynamodbav:"userId_enabled"`
        OrderId       string     `dynamodbav:"orderId" json:"orderId"`
        Articles      []*Article `dynamodbav:"articles"  json:"articles" validate:"required"`
        Enabled       bool       `dynamodbav:"enabled" json:"enabled"`
        Created       time.Time  `dynamodbav:"created" json:"created"`
        Updated       time.Time  `dynamodbav:"updated" json:"updated"`
}

// validateSchema valida la estructura para ser insertada en la db
func (e *Cart) validateSchema() error <span class="cov0" title="0">{
        return validator.New().Struct(e)
}</span>

type Article struct {
        ArticleId string `dynamodbav:"articleId" json:"articleId" validate:"required,min=1,max=100"`
        Quantity  int    `dynamodbav:"quantity" json:"quantity" validate:"required,min=1,max=100"`
        Valid     bool   `dynamodbav:"valid" json:"valid"`
        Validated bool   `dynamodbav:"validated" json:"validated"`
}
</pre>
		
		<pre class="file" id="file10" style="display: none">package cart

import (
        "time"

        uuid "github.com/satori/go.uuid"
)

// Mock Data
func TestCart() *Cart <span class="cov0" title="0">{
        return &amp;Cart{
                ID:      uuid.NewV4().String(),
                UserId:  "123",
                Enabled: true,
                Created: time.Now(),
                Updated: time.Now(),
                Articles: []*Article{
                        {
                                ArticleId: "article_1",
                                Quantity:  1,
                                Valid:     false,
                                Validated: false,
                        },
                        {
                                ArticleId: "article_2",
                                Quantity:  2,
                                Valid:     false,
                                Validated: false,
                        },
                },
        }
}</span>
</pre>
		
		<pre class="file" id="file11" style="display: none">// Package docs Code generated by swaggo/swag. DO NOT EDIT
package docs

import "github.com/swaggo/swag"

const docTemplate = `{
    "schemes": {{ marshal .Schemes }},
    "swagger": "2.0",
    "info": {
        "description": "{{escape .Description}}",
        "title": "{{.Title}}",
        "contact": {
            "name": "Nestor Marsollier",
            "email": "nmarsollier@gmail.com"
        },
        "version": "{{.Version}}"
    },
    "host": "{{.Host}}",
    "basePath": "{{.BasePath}}",
    "paths": {
        "/rabbit/article_exist": {
            "get": {
                "description": "Luego de solicitar validaciones de catalogo, Escucha article_exist/cart_article_exist.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Rabbit"
                ],
                "summary": "Mensage Rabbit article_exist/cart_article_exist",
                "parameters": [
                    {
                        "description": "Mensaje",
                        "name": "type",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/consume.consumeArticleExistMessage"
                        }
                    }
                ],
                "responses": {}
            },
            "put": {
                "description": "Solicitamos las validaciones ar articulos a catalogo. Responde en article_exist/cart_article_exist.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Rabbit"
                ],
                "summary": "Emite Validar Art√≠culos a Cart article_exist/article_exist",
                "parameters": [
                    {
                        "description": "Mensage de validacion article_exist/cart_article_exist",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/emit.SendValidationMessage"
                        }
                    }
                ],
                "responses": {}
            }
        },
        "/rabbit/logout": {
            "get": {
                "description": "Escucha de mensajes logout desde auth.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Rabbit"
                ],
                "summary": "Mensage Rabbit logout",
                "parameters": [
                    {
                        "description": "Estructura general del mensage",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/consume.logoutMessage"
                        }
                    }
                ],
                "responses": {}
            }
        },
        "/rabbit/order_placed": {
            "get": {
                "description": "Cuando se recibe order_placed se actualiza el order id del carrito. No se respode a este evento.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Rabbit"
                ],
                "summary": "Mensage Rabbit order_placed/order_placed",
                "parameters": [
                    {
                        "description": "Message order_placed",
                        "name": "type",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/consume.consumeOrderPlacedMessage"
                        }
                    }
                ],
                "responses": {}
            }
        },
        "/rabbit/place_order": {
            "put": {
                "description": "Cuando se hace checkout enviamos un comando a orders para que inicie el proceso de la orden.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Rabbit"
                ],
                "summary": "Emite place_order/place_order",
                "parameters": [
                    {
                        "description": "Place order",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/emit.SendPlacedMessage"
                        }
                    }
                ],
                "responses": {}
            }
        },
        "/v1/cart": {
            "get": {
                "description": "Obtiene el carrito actual.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Cart"
                ],
                "summary": "Obtener carrito.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer {token}",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cart",
                        "schema": {
                            "$ref": "#/definitions/cart.Cart"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errs.ValidationErr"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    }
                }
            }
        },
        "/v1/cart/article": {
            "post": {
                "description": "Agrega un articulo del carrito actual.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Cart"
                ],
                "summary": "Agregar Articulo",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID de articlo",
                        "name": "articleId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Bearer {token}",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "Articulo a Agregar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/rest.AddArticleData"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cart",
                        "schema": {
                            "$ref": "#/definitions/cart.Cart"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errs.ValidationErr"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    }
                }
            }
        },
        "/v1/cart/article/:articleId": {
            "delete": {
                "description": "Elimina un articulo del carrito actual.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Cart"
                ],
                "summary": "Eliminar Articulo",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID de articlo",
                        "name": "articleId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Bearer {token}",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errs.ValidationErr"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    }
                }
            }
        },
        "/v1/cart/article/:articleId/decrement": {
            "post": {
                "description": "Eliminar 1 al articulo actual.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Cart"
                ],
                "summary": "Agregar 1 Articulo",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID de articlo",
                        "name": "articleId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Bearer {token}",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cart",
                        "schema": {
                            "$ref": "#/definitions/cart.Cart"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errs.ValidationErr"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    }
                }
            }
        },
        "/v1/cart/article/:articleId/increment": {
            "post": {
                "description": "Agregar 1 al articulo actual.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Cart"
                ],
                "summary": "Agregar 1 Articulo",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID de articlo",
                        "name": "articleId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Bearer {token}",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cart",
                        "schema": {
                            "$ref": "#/definitions/cart.Cart"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errs.ValidationErr"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    }
                }
            }
        },
        "/v1/cart/checkouts": {
            "post": {
                "description": "Hace checkout del carrito actual",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Cart"
                ],
                "summary": "Checkout Articulo",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID de articlo",
                        "name": "articleId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Bearer {token}",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errs.ValidationErr"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    }
                }
            }
        },
        "/v1/cart/validate": {
            "get": {
                "description": "Valida el carrito para checkout",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Cart"
                ],
                "summary": "Validar Carrito",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer {token}",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errs.ValidationErr"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/server.ErrorData"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "cart.Article": {
            "type": "object",
            "required": [
                "articleId",
                "quantity"
            ],
            "properties": {
                "articleId": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                },
                "quantity": {
                    "type": "integer",
                    "maximum": 100,
                    "minimum": 1
                },
                "valid": {
                    "type": "boolean"
                },
                "validated": {
                    "type": "boolean"
                }
            }
        },
        "cart.Cart": {
            "type": "object",
            "required": [
                "articles",
                "userId"
            ],
            "properties": {
                "_id": {
                    "type": "string"
                },
                "articles": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/cart.Article"
                    }
                },
                "created": {
                    "type": "string"
                },
                "enabled": {
                    "type": "boolean"
                },
                "orderId": {
                    "type": "string"
                },
                "updated": {
                    "type": "string"
                },
                "userId": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                },
                "userIdEnabled": {
                    "type": "string"
                }
            }
        },
        "cart.OrderPlacedEvent": {
            "type": "object",
            "properties": {
                "cartId": {
                    "type": "string",
                    "example": "CartId"
                },
                "orderId": {
                    "type": "string",
                    "example": "OrderId"
                },
                "valid": {
                    "type": "boolean",
                    "example": true
                }
            }
        },
        "cart.ValidationEvent": {
            "type": "object",
            "properties": {
                "articleId": {
                    "type": "string",
                    "example": "ArticleId"
                },
                "referenceId": {
                    "type": "string",
                    "example": "UserId"
                },
                "valid": {
                    "type": "boolean",
                    "example": true
                }
            }
        },
        "consume.consumeArticleExistMessage": {
            "type": "object",
            "properties": {
                "correlation_id": {
                    "type": "string",
                    "example": "123123"
                },
                "message": {
                    "$ref": "#/definitions/cart.ValidationEvent"
                }
            }
        },
        "consume.consumeOrderPlacedMessage": {
            "type": "object",
            "properties": {
                "correlation_id": {
                    "type": "string",
                    "example": "123123"
                },
                "message": {
                    "$ref": "#/definitions/cart.OrderPlacedEvent"
                }
            }
        },
        "consume.logoutMessage": {
            "type": "object",
            "properties": {
                "correlation_id": {
                    "type": "string",
                    "example": "123123"
                },
                "message": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbklEIjoiNjZiNjBlYzhlMGYzYzY4OTUzMzJlOWNmIiwidXNlcklEIjoiNjZhZmQ3ZWU4YTBhYjRjZjQ0YTQ3NDcyIn0.who7upBctOpmlVmTvOgH1qFKOHKXmuQCkEjMV3qeySg"
                }
            }
        },
        "emit.ArticleValidationData": {
            "type": "object",
            "properties": {
                "articleId": {
                    "type": "string",
                    "example": "ArticleId"
                },
                "referenceId": {
                    "type": "string",
                    "example": "UserId"
                }
            }
        },
        "emit.PlaceArticlesData": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string",
                    "example": "ArticleId"
                },
                "quantity": {
                    "type": "integer",
                    "example": 10
                }
            }
        },
        "emit.PlacedData": {
            "type": "object",
            "properties": {
                "articles": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/emit.PlaceArticlesData"
                    }
                },
                "cartId": {
                    "type": "string",
                    "example": "CartId"
                },
                "userId": {
                    "type": "string",
                    "example": "UserId"
                }
            }
        },
        "emit.SendPlacedMessage": {
            "type": "object"
        },
        "emit.SendValidationMessage": {
            "type": "object",
            "properties": {
                "correlation_id": {
                    "type": "string",
                    "example": "123123"
                },
                "exchange": {
                    "type": "string",
                    "example": "cart"
                },
                "message": {
                    "$ref": "#/definitions/emit.ArticleValidationData"
                },
                "routing_key": {
                    "type": "string",
                    "example": ""
                }
            }
        },
        "errs.ValidationErr": {
            "type": "object",
            "properties": {
                "messages": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/errs.errField"
                    }
                }
            }
        },
        "errs.errField": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                },
                "path": {
                    "type": "string"
                }
            }
        },
        "rest.AddArticleData": {
            "type": "object",
            "required": [
                "articleId",
                "quantity"
            ],
            "properties": {
                "articleId": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                },
                "quantity": {
                    "type": "integer",
                    "maximum": 100,
                    "minimum": 1
                }
            }
        },
        "server.ErrorData": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string"
                }
            }
        }
    }
}`

// SwaggerInfo holds exported Swagger Info so clients can modify it
var SwaggerInfo = &amp;swag.Spec{
        Version:          "1.0",
        Host:             "localhost:3003",
        BasePath:         "/v1",
        Schemes:          []string{},
        Title:            "CartGo",
        Description:      "Microservicio de Carrito.",
        InfoInstanceName: "swagger",
        SwaggerTemplate:  docTemplate,
        LeftDelim:        "{{",
        RightDelim:       "}}",
}

func init() <span class="cov0" title="0">{
        swag.Register(SwaggerInfo.InstanceName(), SwaggerInfo)
}</span>
</pre>
		
		<pre class="file" id="file12" style="display: none">package graph

// This file will be automatically regenerated based on the schema, any resolver implementations
// will be copied through when generating and any unknown code will be moved to the end.
// Code generated by github.com/99designs/gqlgen version v0.17.56

import (
        "context"

        "github.com/nmarsollier/cartgo/graph/model"
        "github.com/nmarsollier/cartgo/graph/resolvers"
)

// FindCartByID is the resolver for the findCartByID field.
func (r *entityResolver) FindCartByID(ctx context.Context, id string) (*model.Cart, error) <span class="cov0" title="0">{
        cart, err := resolvers.FindCartById(ctx, id)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">return cart, nil</span>
}

// Entity returns model.EntityResolver implementation.
func (r *Resolver) Entity() model.EntityResolver <span class="cov0" title="0">{ return &amp;entityResolver{r} }</span>

type entityResolver struct{ *Resolver }
</pre>
		
		<pre class="file" id="file13" style="display: none">// Code generated by github.com/99designs/gqlgen, DO NOT EDIT.

package model

import (
        "context"
        "errors"
        "fmt"
        "strings"
        "sync"

        "github.com/99designs/gqlgen/plugin/federation/fedruntime"
)

var (
        ErrUnknownType  = errors.New("unknown type")
        ErrTypeNotFound = errors.New("type not found")
)

func (ec *executionContext) __resolve__service(ctx context.Context) (fedruntime.Service, error) <span class="cov0" title="0">{
        if ec.DisableIntrospection </span><span class="cov0" title="0">{
                return fedruntime.Service{}, errors.New("federated introspection disabled")
        }</span>

        <span class="cov0" title="0">var sdl []string

        for _, src := range sources </span><span class="cov0" title="0">{
                if src.BuiltIn </span><span class="cov0" title="0">{
                        continue</span>
                }
                <span class="cov0" title="0">sdl = append(sdl, src.Input)</span>
        }

        <span class="cov0" title="0">return fedruntime.Service{
                SDL: strings.Join(sdl, "\n"),
        }, nil</span>
}

func (ec *executionContext) __resolve_entities(ctx context.Context, representations []map[string]interface{}) []fedruntime.Entity <span class="cov0" title="0">{
        list := make([]fedruntime.Entity, len(representations))

        repsMap := ec.buildRepresentationGroups(ctx, representations)

        switch len(repsMap) </span>{
        case 0:<span class="cov0" title="0">
                return list</span>
        case 1:<span class="cov0" title="0">
                for typeName, reps := range repsMap </span><span class="cov0" title="0">{
                        ec.resolveEntityGroup(ctx, typeName, reps, list)
                }</span>
                <span class="cov0" title="0">return list</span>
        default:<span class="cov0" title="0">
                var g sync.WaitGroup
                g.Add(len(repsMap))
                for typeName, reps := range repsMap </span><span class="cov0" title="0">{
                        go func(typeName string, reps []EntityWithIndex) </span><span class="cov0" title="0">{
                                ec.resolveEntityGroup(ctx, typeName, reps, list)
                                g.Done()
                        }</span>(typeName, reps)
                }
                <span class="cov0" title="0">g.Wait()
                return list</span>
        }
}

type EntityWithIndex struct {
        // The index in the original representation array
        index  int
        entity EntityRepresentation
}

// EntityRepresentation is the JSON representation of an entity sent by the Router
// used as the inputs for us to resolve.
//
// We make it a map because we know the top level JSON is always an object.
type EntityRepresentation map[string]any

// We group entities by typename so that we can parallelize their resolution.
// This is particularly helpful when there are entity groups in multi mode.
func (ec *executionContext) buildRepresentationGroups(
        ctx context.Context,
        representations []map[string]any,
) map[string][]EntityWithIndex <span class="cov0" title="0">{
        repsMap := make(map[string][]EntityWithIndex)
        for i, rep := range representations </span><span class="cov0" title="0">{
                typeName, ok := rep["__typename"].(string)
                if !ok </span><span class="cov0" title="0">{
                        // If there is no __typename, we just skip the representation;
                        // we just won't be resolving these unknown types.
                        ec.Error(ctx, errors.New("__typename must be an existing string"))
                        continue</span>
                }

                <span class="cov0" title="0">repsMap[typeName] = append(repsMap[typeName], EntityWithIndex{
                        index:  i,
                        entity: rep,
                })</span>
        }

        <span class="cov0" title="0">return repsMap</span>
}

func (ec *executionContext) resolveEntityGroup(
        ctx context.Context,
        typeName string,
        reps []EntityWithIndex,
        list []fedruntime.Entity,
) <span class="cov0" title="0">{
        if isMulti(typeName) </span><span class="cov0" title="0">{
                err := ec.resolveManyEntities(ctx, typeName, reps, list)
                if err != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, err)
                }</span>
        } else<span class="cov0" title="0"> {
                // if there are multiple entities to resolve, parallelize (similar to
                // graphql.FieldSet.Dispatch)
                var e sync.WaitGroup
                e.Add(len(reps))
                for i, rep := range reps </span><span class="cov0" title="0">{
                        i, rep := i, rep
                        go func(i int, rep EntityWithIndex) </span><span class="cov0" title="0">{
                                entity, err := ec.resolveEntity(ctx, typeName, rep.entity)
                                if err != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, err)
                                }</span> else<span class="cov0" title="0"> {
                                        list[rep.index] = entity
                                }</span>
                                <span class="cov0" title="0">e.Done()</span>
                        }(i, rep)
                }
                <span class="cov0" title="0">e.Wait()</span>
        }
}

func isMulti(typeName string) bool <span class="cov0" title="0">{
        switch typeName </span>{
        default:<span class="cov0" title="0">
                return false</span>
        }
}

func (ec *executionContext) resolveEntity(
        ctx context.Context,
        typeName string,
        rep EntityRepresentation,
) (e fedruntime.Entity, err error) <span class="cov0" title="0">{
        // we need to do our own panic handling, because we may be called in a
        // goroutine, where the usual panic handling can't catch us
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                }</span>
        }()

        <span class="cov0" title="0">switch typeName </span>{
        case "Cart":<span class="cov0" title="0">
                resolverName, err := entityResolverNameForCart(ctx, rep)
                if err != nil </span><span class="cov0" title="0">{
                        return nil, fmt.Errorf(`finding resolver for Entity "Cart": %w`, err)
                }</span>
                <span class="cov0" title="0">switch resolverName </span>{

                case "findCartByID":<span class="cov0" title="0">
                        id0, err := ec.unmarshalNString2string(ctx, rep["id"])
                        if err != nil </span><span class="cov0" title="0">{
                                return nil, fmt.Errorf(`unmarshalling param 0 for findCartByID(): %w`, err)
                        }</span>
                        <span class="cov0" title="0">entity, err := ec.resolvers.Entity().FindCartByID(ctx, id0)
                        if err != nil </span><span class="cov0" title="0">{
                                return nil, fmt.Errorf(`resolving Entity "Cart": %w`, err)
                        }</span>

                        <span class="cov0" title="0">entity.UserID, err = ec.unmarshalNString2string(ctx, rep["userId"])
                        if err != nil </span><span class="cov0" title="0">{
                                return nil, err
                        }</span>
                        <span class="cov0" title="0">entity.OrderID, err = ec.unmarshalOString2·öñstring(ctx, rep["orderId"])
                        if err != nil </span><span class="cov0" title="0">{
                                return nil, err
                        }</span>
                        <span class="cov0" title="0">return entity, nil</span>
                }

        }
        <span class="cov0" title="0">return nil, fmt.Errorf("%w: %s", ErrUnknownType, typeName)</span>
}

func (ec *executionContext) resolveManyEntities(
        ctx context.Context,
        typeName string,
        reps []EntityWithIndex,
        list []fedruntime.Entity,
) (err error) <span class="cov0" title="0">{
        // we need to do our own panic handling, because we may be called in a
        // goroutine, where the usual panic handling can't catch us
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                }</span>
        }()

        <span class="cov0" title="0">switch typeName </span>{

        default:<span class="cov0" title="0">
                return errors.New("unknown type: " + typeName)</span>
        }
}

func entityResolverNameForCart(ctx context.Context, rep EntityRepresentation) (string, error) <span class="cov0" title="0">{
        for </span><span class="cov0" title="0">{
                var (
                        m   EntityRepresentation
                        val interface{}
                        ok  bool
                )
                _ = val
                // if all of the KeyFields values for this resolver are null,
                // we shouldn't use use it
                allNull := true
                m = rep
                val, ok = m["id"]
                if !ok </span><span class="cov0" title="0">{
                        break</span>
                }
                <span class="cov0" title="0">if allNull </span><span class="cov0" title="0">{
                        allNull = val == nil
                }</span>
                <span class="cov0" title="0">if allNull </span><span class="cov0" title="0">{
                        break</span>
                }
                <span class="cov0" title="0">return "findCartByID", nil</span>
        }
        <span class="cov0" title="0">return "", fmt.Errorf("%w for Cart", ErrTypeNotFound)</span>
}
</pre>
		
		<pre class="file" id="file14" style="display: none">// Code generated by github.com/99designs/gqlgen, DO NOT EDIT.

package model

type Article struct {
        ID string `json:"id"`
}

func (Article) IsEntity() {<span class="cov0" title="0">}</span>

type Cart struct {
        ID       string         `json:"id"`
        UserID   string         `json:"userId"`
        User     *User          `json:"user,omitempty"`
        OrderID  *string        `json:"orderId,omitempty"`
        Order    *Order         `json:"order,omitempty"`
        Articles []*CartArticle `json:"articles"`
        Enabled  bool           `json:"enabled"`
}

func (Cart) IsEntity() {<span class="cov0" title="0">}</span>

type CartArticle struct {
        ArticleID string   `json:"articleId"`
        Article   *Article `json:"article,omitempty"`
        Quantity  int      `json:"quantity"`
        Valid     bool     `json:"valid"`
        Validated bool     `json:"validated"`
}

type Mutation struct {
}

type Order struct {
        ID string `json:"id"`
}

func (Order) IsEntity() {<span class="cov0" title="0">}</span>

type Query struct {
}

type User struct {
        ID string `json:"id"`
}

func (User) IsEntity() {<span class="cov0" title="0">}</span>
</pre>
		
		<pre class="file" id="file15" style="display: none">// Code generated by github.com/99designs/gqlgen, DO NOT EDIT.

package model

import (
        "bytes"
        "context"
        "errors"
        "fmt"
        "strconv"
        "sync"
        "sync/atomic"

        "github.com/99designs/gqlgen/graphql"
        "github.com/99designs/gqlgen/graphql/introspection"
        "github.com/99designs/gqlgen/plugin/federation/fedruntime"
        gqlparser "github.com/vektah/gqlparser/v2"
        "github.com/vektah/gqlparser/v2/ast"
)

// region    ************************** generated!.gotpl **************************

// NewExecutableSchema creates an ExecutableSchema from the ResolverRoot interface.
func NewExecutableSchema(cfg Config) graphql.ExecutableSchema <span class="cov0" title="0">{
        return &amp;executableSchema{
                schema:     cfg.Schema,
                resolvers:  cfg.Resolvers,
                directives: cfg.Directives,
                complexity: cfg.Complexity,
        }
}</span>

type Config struct {
        Schema     *ast.Schema
        Resolvers  ResolverRoot
        Directives DirectiveRoot
        Complexity ComplexityRoot
}

type ResolverRoot interface {
        Entity() EntityResolver
        Mutation() MutationResolver
        Query() QueryResolver
}

type DirectiveRoot struct {
}

type ComplexityRoot struct {
        Article struct {
                ID func(childComplexity int) int
        }

        Cart struct {
                Articles func(childComplexity int) int
                Enabled  func(childComplexity int) int
                ID       func(childComplexity int) int
                Order    func(childComplexity int) int
                OrderID  func(childComplexity int) int
                User     func(childComplexity int) int
                UserID   func(childComplexity int) int
        }

        CartArticle struct {
                Article   func(childComplexity int) int
                ArticleID func(childComplexity int) int
                Quantity  func(childComplexity int) int
                Valid     func(childComplexity int) int
                Validated func(childComplexity int) int
        }

        Entity struct {
                FindCartByID func(childComplexity int, id string) int
        }

        Mutation struct {
                AddArticle       func(childComplexity int, articleID string, quantity int) int
                Checkout         func(childComplexity int) int
                DecrementArticle func(childComplexity int, articleID string) int
                IncrementArticle func(childComplexity int, articleID string) int
                RemoveArticle    func(childComplexity int, articleID string) int
                ValidateCart     func(childComplexity int) int
        }

        Order struct {
                ID func(childComplexity int) int
        }

        Query struct {
                CurrentCart        func(childComplexity int) int
                __resolve__service func(childComplexity int) int
                __resolve_entities func(childComplexity int, representations []map[string]interface{}) int
        }

        User struct {
                ID func(childComplexity int) int
        }

        _Service struct {
                SDL func(childComplexity int) int
        }
}

type EntityResolver interface {
        FindCartByID(ctx context.Context, id string) (*Cart, error)
}
type MutationResolver interface {
        ValidateCart(ctx context.Context) (bool, error)
        DecrementArticle(ctx context.Context, articleID string) (bool, error)
        IncrementArticle(ctx context.Context, articleID string) (bool, error)
        RemoveArticle(ctx context.Context, articleID string) (bool, error)
        AddArticle(ctx context.Context, articleID string, quantity int) (bool, error)
        Checkout(ctx context.Context) (bool, error)
}
type QueryResolver interface {
        CurrentCart(ctx context.Context) (*Cart, error)
}

type executableSchema struct {
        schema     *ast.Schema
        resolvers  ResolverRoot
        directives DirectiveRoot
        complexity ComplexityRoot
}

func (e *executableSchema) Schema() *ast.Schema <span class="cov0" title="0">{
        if e.schema != nil </span><span class="cov0" title="0">{
                return e.schema
        }</span>
        <span class="cov0" title="0">return parsedSchema</span>
}

func (e *executableSchema) Complexity(typeName, field string, childComplexity int, rawArgs map[string]interface{}) (int, bool) <span class="cov0" title="0">{
        ec := executionContext{nil, e, 0, 0, nil}
        _ = ec
        switch typeName + "." + field </span>{

        case "Article.id":<span class="cov0" title="0">
                if e.complexity.Article.ID == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Article.ID(childComplexity), true</span>

        case "Cart.articles":<span class="cov0" title="0">
                if e.complexity.Cart.Articles == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Cart.Articles(childComplexity), true</span>

        case "Cart.enabled":<span class="cov0" title="0">
                if e.complexity.Cart.Enabled == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Cart.Enabled(childComplexity), true</span>

        case "Cart.id":<span class="cov0" title="0">
                if e.complexity.Cart.ID == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Cart.ID(childComplexity), true</span>

        case "Cart.order":<span class="cov0" title="0">
                if e.complexity.Cart.Order == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Cart.Order(childComplexity), true</span>

        case "Cart.orderId":<span class="cov0" title="0">
                if e.complexity.Cart.OrderID == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Cart.OrderID(childComplexity), true</span>

        case "Cart.user":<span class="cov0" title="0">
                if e.complexity.Cart.User == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Cart.User(childComplexity), true</span>

        case "Cart.userId":<span class="cov0" title="0">
                if e.complexity.Cart.UserID == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Cart.UserID(childComplexity), true</span>

        case "CartArticle.article":<span class="cov0" title="0">
                if e.complexity.CartArticle.Article == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.CartArticle.Article(childComplexity), true</span>

        case "CartArticle.articleId":<span class="cov0" title="0">
                if e.complexity.CartArticle.ArticleID == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.CartArticle.ArticleID(childComplexity), true</span>

        case "CartArticle.quantity":<span class="cov0" title="0">
                if e.complexity.CartArticle.Quantity == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.CartArticle.Quantity(childComplexity), true</span>

        case "CartArticle.valid":<span class="cov0" title="0">
                if e.complexity.CartArticle.Valid == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.CartArticle.Valid(childComplexity), true</span>

        case "CartArticle.validated":<span class="cov0" title="0">
                if e.complexity.CartArticle.Validated == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.CartArticle.Validated(childComplexity), true</span>

        case "Entity.findCartByID":<span class="cov0" title="0">
                if e.complexity.Entity.FindCartByID == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">args, err := ec.field_Entity_findCartByID_args(context.TODO(), rawArgs)
                if err != nil </span><span class="cov0" title="0">{
                        return 0, false
                }</span>

                <span class="cov0" title="0">return e.complexity.Entity.FindCartByID(childComplexity, args["id"].(string)), true</span>

        case "Mutation.addArticle":<span class="cov0" title="0">
                if e.complexity.Mutation.AddArticle == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">args, err := ec.field_Mutation_addArticle_args(context.TODO(), rawArgs)
                if err != nil </span><span class="cov0" title="0">{
                        return 0, false
                }</span>

                <span class="cov0" title="0">return e.complexity.Mutation.AddArticle(childComplexity, args["articleId"].(string), args["quantity"].(int)), true</span>

        case "Mutation.checkout":<span class="cov0" title="0">
                if e.complexity.Mutation.Checkout == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Mutation.Checkout(childComplexity), true</span>

        case "Mutation.decrementArticle":<span class="cov0" title="0">
                if e.complexity.Mutation.DecrementArticle == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">args, err := ec.field_Mutation_decrementArticle_args(context.TODO(), rawArgs)
                if err != nil </span><span class="cov0" title="0">{
                        return 0, false
                }</span>

                <span class="cov0" title="0">return e.complexity.Mutation.DecrementArticle(childComplexity, args["articleId"].(string)), true</span>

        case "Mutation.incrementArticle":<span class="cov0" title="0">
                if e.complexity.Mutation.IncrementArticle == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">args, err := ec.field_Mutation_incrementArticle_args(context.TODO(), rawArgs)
                if err != nil </span><span class="cov0" title="0">{
                        return 0, false
                }</span>

                <span class="cov0" title="0">return e.complexity.Mutation.IncrementArticle(childComplexity, args["articleId"].(string)), true</span>

        case "Mutation.removeArticle":<span class="cov0" title="0">
                if e.complexity.Mutation.RemoveArticle == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">args, err := ec.field_Mutation_removeArticle_args(context.TODO(), rawArgs)
                if err != nil </span><span class="cov0" title="0">{
                        return 0, false
                }</span>

                <span class="cov0" title="0">return e.complexity.Mutation.RemoveArticle(childComplexity, args["articleId"].(string)), true</span>

        case "Mutation.validateCart":<span class="cov0" title="0">
                if e.complexity.Mutation.ValidateCart == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Mutation.ValidateCart(childComplexity), true</span>

        case "Order.id":<span class="cov0" title="0">
                if e.complexity.Order.ID == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Order.ID(childComplexity), true</span>

        case "Query.currentCart":<span class="cov0" title="0">
                if e.complexity.Query.CurrentCart == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Query.CurrentCart(childComplexity), true</span>

        case "Query._service":<span class="cov0" title="0">
                if e.complexity.Query.__resolve__service == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.Query.__resolve__service(childComplexity), true</span>

        case "Query._entities":<span class="cov0" title="0">
                if e.complexity.Query.__resolve_entities == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">args, err := ec.field_Query__entities_args(context.TODO(), rawArgs)
                if err != nil </span><span class="cov0" title="0">{
                        return 0, false
                }</span>

                <span class="cov0" title="0">return e.complexity.Query.__resolve_entities(childComplexity, args["representations"].([]map[string]interface{})), true</span>

        case "User.id":<span class="cov0" title="0">
                if e.complexity.User.ID == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity.User.ID(childComplexity), true</span>

        case "_Service.sdl":<span class="cov0" title="0">
                if e.complexity._Service.SDL == nil </span><span class="cov0" title="0">{
                        break</span>
                }

                <span class="cov0" title="0">return e.complexity._Service.SDL(childComplexity), true</span>

        }
        <span class="cov0" title="0">return 0, false</span>
}

func (e *executableSchema) Exec(ctx context.Context) graphql.ResponseHandler <span class="cov0" title="0">{
        opCtx := graphql.GetOperationContext(ctx)
        ec := executionContext{opCtx, e, 0, 0, make(chan graphql.DeferredResult)}
        inputUnmarshalMap := graphql.BuildUnmarshalerMap()
        first := true

        switch opCtx.Operation.Operation </span>{
        case ast.Query:<span class="cov0" title="0">
                return func(ctx context.Context) *graphql.Response </span><span class="cov0" title="0">{
                        var response graphql.Response
                        var data graphql.Marshaler
                        if first </span><span class="cov0" title="0">{
                                first = false
                                ctx = graphql.WithUnmarshalerMap(ctx, inputUnmarshalMap)
                                data = ec._Query(ctx, opCtx.Operation.SelectionSet)
                        }</span> else<span class="cov0" title="0"> {
                                if atomic.LoadInt32(&amp;ec.pendingDeferred) &gt; 0 </span><span class="cov0" title="0">{
                                        result := &lt;-ec.deferredResults
                                        atomic.AddInt32(&amp;ec.pendingDeferred, -1)
                                        data = result.Result
                                        response.Path = result.Path
                                        response.Label = result.Label
                                        response.Errors = result.Errors
                                }</span> else<span class="cov0" title="0"> {
                                        return nil
                                }</span>
                        }
                        <span class="cov0" title="0">var buf bytes.Buffer
                        data.MarshalGQL(&amp;buf)
                        response.Data = buf.Bytes()
                        if atomic.LoadInt32(&amp;ec.deferred) &gt; 0 </span><span class="cov0" title="0">{
                                hasNext := atomic.LoadInt32(&amp;ec.pendingDeferred) &gt; 0
                                response.HasNext = &amp;hasNext
                        }</span>

                        <span class="cov0" title="0">return &amp;response</span>
                }
        case ast.Mutation:<span class="cov0" title="0">
                return func(ctx context.Context) *graphql.Response </span><span class="cov0" title="0">{
                        if !first </span><span class="cov0" title="0">{
                                return nil
                        }</span>
                        <span class="cov0" title="0">first = false
                        ctx = graphql.WithUnmarshalerMap(ctx, inputUnmarshalMap)
                        data := ec._Mutation(ctx, opCtx.Operation.SelectionSet)
                        var buf bytes.Buffer
                        data.MarshalGQL(&amp;buf)

                        return &amp;graphql.Response{
                                Data: buf.Bytes(),
                        }</span>
                }

        default:<span class="cov0" title="0">
                return graphql.OneShot(graphql.ErrorResponse(ctx, "unsupported GraphQL operation"))</span>
        }
}

type executionContext struct {
        *graphql.OperationContext
        *executableSchema
        deferred        int32
        pendingDeferred int32
        deferredResults chan graphql.DeferredResult
}

func (ec *executionContext) processDeferredGroup(dg graphql.DeferredGroup) <span class="cov0" title="0">{
        atomic.AddInt32(&amp;ec.pendingDeferred, 1)
        go func() </span><span class="cov0" title="0">{
                ctx := graphql.WithFreshResponseContext(dg.Context)
                dg.FieldSet.Dispatch(ctx)
                ds := graphql.DeferredResult{
                        Path:   dg.Path,
                        Label:  dg.Label,
                        Result: dg.FieldSet,
                        Errors: graphql.GetErrors(ctx),
                }
                // null fields should bubble up
                if dg.FieldSet.Invalids &gt; 0 </span><span class="cov0" title="0">{
                        ds.Result = graphql.Null
                }</span>
                <span class="cov0" title="0">ec.deferredResults &lt;- ds</span>
        }()
}

func (ec *executionContext) introspectSchema() (*introspection.Schema, error) <span class="cov0" title="0">{
        if ec.DisableIntrospection </span><span class="cov0" title="0">{
                return nil, errors.New("introspection disabled")
        }</span>
        <span class="cov0" title="0">return introspection.WrapSchema(ec.Schema()), nil</span>
}

func (ec *executionContext) introspectType(name string) (*introspection.Type, error) <span class="cov0" title="0">{
        if ec.DisableIntrospection </span><span class="cov0" title="0">{
                return nil, errors.New("introspection disabled")
        }</span>
        <span class="cov0" title="0">return introspection.WrapTypeFromDef(ec.Schema(), ec.Schema().Types[name]), nil</span>
}

var sources = []*ast.Source{
        {Name: "../schema.graphqls", Input: `type Cart @key(fields: "id") {
  id: String!
  userId: String!
  user: User @requires(fields: "userId")
  orderId: String
  order: Order @requires(fields: "orderId")
  articles: [CartArticle!]!
  enabled: Boolean!
}

type CartArticle {
  articleId: String!
  article: Article @requires(fields: "articleId")
  quantity: Int!
  valid: Boolean!
  validated: Boolean!
}

type Query {
  currentCart: Cart!
}

type Mutation {
  validateCart: Boolean!
  decrementArticle(articleId: String!): Boolean!
  incrementArticle(articleId: String!): Boolean!
  removeArticle(articleId: String!): Boolean!
  addArticle(articleId: String!, quantity: Int!): Boolean!
  checkout: Boolean!
}

extend type Article @key(fields: "id") {
  id: String! @external
}

extend type Order @key(fields: "id") {
  id: String! @external
}

extend type User @key(fields: "id") {
  id: String! @external
}
`, BuiltIn: false},
        {Name: "../../federation/directives.graphql", Input: `
        directive @key(fields: _FieldSet!) repeatable on OBJECT | INTERFACE
        directive @requires(fields: _FieldSet!) on FIELD_DEFINITION
        directive @provides(fields: _FieldSet!) on FIELD_DEFINITION
        directive @extends on OBJECT | INTERFACE
        directive @external on FIELD_DEFINITION
        scalar _Any
        scalar _FieldSet
`, BuiltIn: true},
        {Name: "../../federation/entity.graphql", Input: `
# a union of all types that use the @key directive
union _Entity = Article | Cart | Order | User

# fake type to build resolver interfaces for users to implement
type Entity {
        findCartByID(id: String!,): Cart!
}

type _Service {
  sdl: String
}

extend type Query {
  _entities(representations: [_Any!]!): [_Entity]!
  _service: _Service!
}
`, BuiltIn: true},
}
var parsedSchema = gqlparser.MustLoadSchema(sources...)

// endregion ************************** generated!.gotpl **************************

// region    ***************************** args.gotpl *****************************

func (ec *executionContext) field_Entity_findCartByID_args(ctx context.Context, rawArgs map[string]interface{}) (map[string]interface{}, error) <span class="cov0" title="0">{
        var err error
        args := map[string]interface{}{}
        arg0, err := ec.field_Entity_findCartByID_argsID(ctx, rawArgs)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">args["id"] = arg0
        return args, nil</span>
}
func (ec *executionContext) field_Entity_findCartByID_argsID(
        ctx context.Context,
        rawArgs map[string]interface{},
) (string, error) <span class="cov0" title="0">{
        ctx = graphql.WithPathContext(ctx, graphql.NewPathWithField("id"))
        if tmp, ok := rawArgs["id"]; ok </span><span class="cov0" title="0">{
                return ec.unmarshalNString2string(ctx, tmp)
        }</span>

        <span class="cov0" title="0">var zeroVal string
        return zeroVal, nil</span>
}

func (ec *executionContext) field_Mutation_addArticle_args(ctx context.Context, rawArgs map[string]interface{}) (map[string]interface{}, error) <span class="cov0" title="0">{
        var err error
        args := map[string]interface{}{}
        arg0, err := ec.field_Mutation_addArticle_argsArticleID(ctx, rawArgs)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">args["articleId"] = arg0
        arg1, err := ec.field_Mutation_addArticle_argsQuantity(ctx, rawArgs)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">args["quantity"] = arg1
        return args, nil</span>
}
func (ec *executionContext) field_Mutation_addArticle_argsArticleID(
        ctx context.Context,
        rawArgs map[string]interface{},
) (string, error) <span class="cov0" title="0">{
        ctx = graphql.WithPathContext(ctx, graphql.NewPathWithField("articleId"))
        if tmp, ok := rawArgs["articleId"]; ok </span><span class="cov0" title="0">{
                return ec.unmarshalNString2string(ctx, tmp)
        }</span>

        <span class="cov0" title="0">var zeroVal string
        return zeroVal, nil</span>
}

func (ec *executionContext) field_Mutation_addArticle_argsQuantity(
        ctx context.Context,
        rawArgs map[string]interface{},
) (int, error) <span class="cov0" title="0">{
        ctx = graphql.WithPathContext(ctx, graphql.NewPathWithField("quantity"))
        if tmp, ok := rawArgs["quantity"]; ok </span><span class="cov0" title="0">{
                return ec.unmarshalNInt2int(ctx, tmp)
        }</span>

        <span class="cov0" title="0">var zeroVal int
        return zeroVal, nil</span>
}

func (ec *executionContext) field_Mutation_decrementArticle_args(ctx context.Context, rawArgs map[string]interface{}) (map[string]interface{}, error) <span class="cov0" title="0">{
        var err error
        args := map[string]interface{}{}
        arg0, err := ec.field_Mutation_decrementArticle_argsArticleID(ctx, rawArgs)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">args["articleId"] = arg0
        return args, nil</span>
}
func (ec *executionContext) field_Mutation_decrementArticle_argsArticleID(
        ctx context.Context,
        rawArgs map[string]interface{},
) (string, error) <span class="cov0" title="0">{
        ctx = graphql.WithPathContext(ctx, graphql.NewPathWithField("articleId"))
        if tmp, ok := rawArgs["articleId"]; ok </span><span class="cov0" title="0">{
                return ec.unmarshalNString2string(ctx, tmp)
        }</span>

        <span class="cov0" title="0">var zeroVal string
        return zeroVal, nil</span>
}

func (ec *executionContext) field_Mutation_incrementArticle_args(ctx context.Context, rawArgs map[string]interface{}) (map[string]interface{}, error) <span class="cov0" title="0">{
        var err error
        args := map[string]interface{}{}
        arg0, err := ec.field_Mutation_incrementArticle_argsArticleID(ctx, rawArgs)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">args["articleId"] = arg0
        return args, nil</span>
}
func (ec *executionContext) field_Mutation_incrementArticle_argsArticleID(
        ctx context.Context,
        rawArgs map[string]interface{},
) (string, error) <span class="cov0" title="0">{
        ctx = graphql.WithPathContext(ctx, graphql.NewPathWithField("articleId"))
        if tmp, ok := rawArgs["articleId"]; ok </span><span class="cov0" title="0">{
                return ec.unmarshalNString2string(ctx, tmp)
        }</span>

        <span class="cov0" title="0">var zeroVal string
        return zeroVal, nil</span>
}

func (ec *executionContext) field_Mutation_removeArticle_args(ctx context.Context, rawArgs map[string]interface{}) (map[string]interface{}, error) <span class="cov0" title="0">{
        var err error
        args := map[string]interface{}{}
        arg0, err := ec.field_Mutation_removeArticle_argsArticleID(ctx, rawArgs)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">args["articleId"] = arg0
        return args, nil</span>
}
func (ec *executionContext) field_Mutation_removeArticle_argsArticleID(
        ctx context.Context,
        rawArgs map[string]interface{},
) (string, error) <span class="cov0" title="0">{
        ctx = graphql.WithPathContext(ctx, graphql.NewPathWithField("articleId"))
        if tmp, ok := rawArgs["articleId"]; ok </span><span class="cov0" title="0">{
                return ec.unmarshalNString2string(ctx, tmp)
        }</span>

        <span class="cov0" title="0">var zeroVal string
        return zeroVal, nil</span>
}

func (ec *executionContext) field_Query___type_args(ctx context.Context, rawArgs map[string]interface{}) (map[string]interface{}, error) <span class="cov0" title="0">{
        var err error
        args := map[string]interface{}{}
        arg0, err := ec.field_Query___type_argsName(ctx, rawArgs)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">args["name"] = arg0
        return args, nil</span>
}
func (ec *executionContext) field_Query___type_argsName(
        ctx context.Context,
        rawArgs map[string]interface{},
) (string, error) <span class="cov0" title="0">{
        ctx = graphql.WithPathContext(ctx, graphql.NewPathWithField("name"))
        if tmp, ok := rawArgs["name"]; ok </span><span class="cov0" title="0">{
                return ec.unmarshalNString2string(ctx, tmp)
        }</span>

        <span class="cov0" title="0">var zeroVal string
        return zeroVal, nil</span>
}

func (ec *executionContext) field_Query__entities_args(ctx context.Context, rawArgs map[string]interface{}) (map[string]interface{}, error) <span class="cov0" title="0">{
        var err error
        args := map[string]interface{}{}
        arg0, err := ec.field_Query__entities_argsRepresentations(ctx, rawArgs)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">args["representations"] = arg0
        return args, nil</span>
}
func (ec *executionContext) field_Query__entities_argsRepresentations(
        ctx context.Context,
        rawArgs map[string]interface{},
) ([]map[string]interface{}, error) <span class="cov0" title="0">{
        ctx = graphql.WithPathContext(ctx, graphql.NewPathWithField("representations"))
        if tmp, ok := rawArgs["representations"]; ok </span><span class="cov0" title="0">{
                return ec.unmarshalN_Any2·öïmap·öÑ(ctx, tmp)
        }</span>

        <span class="cov0" title="0">var zeroVal []map[string]interface{}
        return zeroVal, nil</span>
}

func (ec *executionContext) field___Type_enumValues_args(ctx context.Context, rawArgs map[string]interface{}) (map[string]interface{}, error) <span class="cov0" title="0">{
        var err error
        args := map[string]interface{}{}
        arg0, err := ec.field___Type_enumValues_argsIncludeDeprecated(ctx, rawArgs)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">args["includeDeprecated"] = arg0
        return args, nil</span>
}
func (ec *executionContext) field___Type_enumValues_argsIncludeDeprecated(
        ctx context.Context,
        rawArgs map[string]interface{},
) (bool, error) <span class="cov0" title="0">{
        ctx = graphql.WithPathContext(ctx, graphql.NewPathWithField("includeDeprecated"))
        if tmp, ok := rawArgs["includeDeprecated"]; ok </span><span class="cov0" title="0">{
                return ec.unmarshalOBoolean2bool(ctx, tmp)
        }</span>

        <span class="cov0" title="0">var zeroVal bool
        return zeroVal, nil</span>
}

func (ec *executionContext) field___Type_fields_args(ctx context.Context, rawArgs map[string]interface{}) (map[string]interface{}, error) <span class="cov0" title="0">{
        var err error
        args := map[string]interface{}{}
        arg0, err := ec.field___Type_fields_argsIncludeDeprecated(ctx, rawArgs)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">args["includeDeprecated"] = arg0
        return args, nil</span>
}
func (ec *executionContext) field___Type_fields_argsIncludeDeprecated(
        ctx context.Context,
        rawArgs map[string]interface{},
) (bool, error) <span class="cov0" title="0">{
        ctx = graphql.WithPathContext(ctx, graphql.NewPathWithField("includeDeprecated"))
        if tmp, ok := rawArgs["includeDeprecated"]; ok </span><span class="cov0" title="0">{
                return ec.unmarshalOBoolean2bool(ctx, tmp)
        }</span>

        <span class="cov0" title="0">var zeroVal bool
        return zeroVal, nil</span>
}

// endregion ***************************** args.gotpl *****************************

// region    ************************** directives.gotpl **************************

// endregion ************************** directives.gotpl **************************

// region    **************************** field.gotpl *****************************

func (ec *executionContext) _Article_id(ctx context.Context, field graphql.CollectedField, obj *Article) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Article_id(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.ID, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalNString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Article_id(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Article",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Cart_id(ctx context.Context, field graphql.CollectedField, obj *Cart) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Cart_id(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.ID, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalNString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Cart_id(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Cart",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Cart_userId(ctx context.Context, field graphql.CollectedField, obj *Cart) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Cart_userId(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.UserID, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalNString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Cart_userId(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Cart",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Cart_user(ctx context.Context, field graphql.CollectedField, obj *Cart) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Cart_user(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.User, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*User)
        fc.Result = res
        return ec.marshalOUser2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêUser(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Cart_user(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Cart",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "id":<span class="cov0" title="0">
                                return ec.fieldContext_User_id(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type User", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Cart_orderId(ctx context.Context, field graphql.CollectedField, obj *Cart) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Cart_orderId(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.OrderID, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Cart_orderId(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Cart",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Cart_order(ctx context.Context, field graphql.CollectedField, obj *Cart) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Cart_order(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Order, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*Order)
        fc.Result = res
        return ec.marshalOOrder2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêOrder(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Cart_order(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Cart",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "id":<span class="cov0" title="0">
                                return ec.fieldContext_Order_id(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type Order", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Cart_articles(ctx context.Context, field graphql.CollectedField, obj *Cart) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Cart_articles(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Articles, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.([]*CartArticle)
        fc.Result = res
        return ec.marshalNCartArticle2·öï·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêCartArticle·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Cart_articles(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Cart",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "articleId":<span class="cov0" title="0">
                                return ec.fieldContext_CartArticle_articleId(ctx, field)</span>
                        case "article":<span class="cov0" title="0">
                                return ec.fieldContext_CartArticle_article(ctx, field)</span>
                        case "quantity":<span class="cov0" title="0">
                                return ec.fieldContext_CartArticle_quantity(ctx, field)</span>
                        case "valid":<span class="cov0" title="0">
                                return ec.fieldContext_CartArticle_valid(ctx, field)</span>
                        case "validated":<span class="cov0" title="0">
                                return ec.fieldContext_CartArticle_validated(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type CartArticle", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Cart_enabled(ctx context.Context, field graphql.CollectedField, obj *Cart) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Cart_enabled(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Enabled, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Cart_enabled(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Cart",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _CartArticle_articleId(ctx context.Context, field graphql.CollectedField, obj *CartArticle) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_CartArticle_articleId(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.ArticleID, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalNString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_CartArticle_articleId(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "CartArticle",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _CartArticle_article(ctx context.Context, field graphql.CollectedField, obj *CartArticle) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_CartArticle_article(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Article, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*Article)
        fc.Result = res
        return ec.marshalOArticle2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêArticle(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_CartArticle_article(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "CartArticle",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "id":<span class="cov0" title="0">
                                return ec.fieldContext_Article_id(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type Article", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _CartArticle_quantity(ctx context.Context, field graphql.CollectedField, obj *CartArticle) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_CartArticle_quantity(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Quantity, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(int)
        fc.Result = res
        return ec.marshalNInt2int(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_CartArticle_quantity(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "CartArticle",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Int does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _CartArticle_valid(ctx context.Context, field graphql.CollectedField, obj *CartArticle) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_CartArticle_valid(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Valid, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_CartArticle_valid(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "CartArticle",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _CartArticle_validated(ctx context.Context, field graphql.CollectedField, obj *CartArticle) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_CartArticle_validated(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Validated, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_CartArticle_validated(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "CartArticle",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Entity_findCartByID(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Entity_findCartByID(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.resolvers.Entity().FindCartByID(rctx, fc.Args["id"].(string))
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(*Cart)
        fc.Result = res
        return ec.marshalNCart2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêCart(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Entity_findCartByID(ctx context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Entity",
                Field:      field,
                IsMethod:   true,
                IsResolver: true,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "id":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_id(ctx, field)</span>
                        case "userId":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_userId(ctx, field)</span>
                        case "user":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_user(ctx, field)</span>
                        case "orderId":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_orderId(ctx, field)</span>
                        case "order":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_order(ctx, field)</span>
                        case "articles":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_articles(ctx, field)</span>
                        case "enabled":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_enabled(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type Cart", field.Name)</span>
                },
        }
        <span class="cov0" title="0">defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                        ec.Error(ctx, err)
                }</span>
        }()
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        if fc.Args, err = ec.field_Entity_findCartByID_args(ctx, field.ArgumentMap(ec.Variables)); err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return fc, err
        }</span>
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Mutation_validateCart(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Mutation_validateCart(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.resolvers.Mutation().ValidateCart(rctx)
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Mutation_validateCart(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Mutation",
                Field:      field,
                IsMethod:   true,
                IsResolver: true,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Mutation_decrementArticle(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Mutation_decrementArticle(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.resolvers.Mutation().DecrementArticle(rctx, fc.Args["articleId"].(string))
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Mutation_decrementArticle(ctx context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Mutation",
                Field:      field,
                IsMethod:   true,
                IsResolver: true,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                        ec.Error(ctx, err)
                }</span>
        }()
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        if fc.Args, err = ec.field_Mutation_decrementArticle_args(ctx, field.ArgumentMap(ec.Variables)); err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return fc, err
        }</span>
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Mutation_incrementArticle(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Mutation_incrementArticle(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.resolvers.Mutation().IncrementArticle(rctx, fc.Args["articleId"].(string))
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Mutation_incrementArticle(ctx context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Mutation",
                Field:      field,
                IsMethod:   true,
                IsResolver: true,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                        ec.Error(ctx, err)
                }</span>
        }()
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        if fc.Args, err = ec.field_Mutation_incrementArticle_args(ctx, field.ArgumentMap(ec.Variables)); err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return fc, err
        }</span>
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Mutation_removeArticle(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Mutation_removeArticle(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.resolvers.Mutation().RemoveArticle(rctx, fc.Args["articleId"].(string))
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Mutation_removeArticle(ctx context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Mutation",
                Field:      field,
                IsMethod:   true,
                IsResolver: true,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                        ec.Error(ctx, err)
                }</span>
        }()
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        if fc.Args, err = ec.field_Mutation_removeArticle_args(ctx, field.ArgumentMap(ec.Variables)); err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return fc, err
        }</span>
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Mutation_addArticle(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Mutation_addArticle(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.resolvers.Mutation().AddArticle(rctx, fc.Args["articleId"].(string), fc.Args["quantity"].(int))
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Mutation_addArticle(ctx context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Mutation",
                Field:      field,
                IsMethod:   true,
                IsResolver: true,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                        ec.Error(ctx, err)
                }</span>
        }()
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        if fc.Args, err = ec.field_Mutation_addArticle_args(ctx, field.ArgumentMap(ec.Variables)); err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return fc, err
        }</span>
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Mutation_checkout(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Mutation_checkout(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.resolvers.Mutation().Checkout(rctx)
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Mutation_checkout(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Mutation",
                Field:      field,
                IsMethod:   true,
                IsResolver: true,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Order_id(ctx context.Context, field graphql.CollectedField, obj *Order) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Order_id(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.ID, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalNString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Order_id(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Order",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Query_currentCart(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Query_currentCart(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.resolvers.Query().CurrentCart(rctx)
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(*Cart)
        fc.Result = res
        return ec.marshalNCart2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêCart(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Query_currentCart(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Query",
                Field:      field,
                IsMethod:   true,
                IsResolver: true,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "id":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_id(ctx, field)</span>
                        case "userId":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_userId(ctx, field)</span>
                        case "user":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_user(ctx, field)</span>
                        case "orderId":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_orderId(ctx, field)</span>
                        case "order":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_order(ctx, field)</span>
                        case "articles":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_articles(ctx, field)</span>
                        case "enabled":<span class="cov0" title="0">
                                return ec.fieldContext_Cart_enabled(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type Cart", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Query__entities(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Query__entities(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.__resolve_entities(ctx, fc.Args["representations"].([]map[string]interface{})), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.([]fedruntime.Entity)
        fc.Result = res
        return ec.marshalN_Entity2·öïgithub·öócom·öã99designs·öãgqlgen·öãplugin·öãfederation·öãfedruntime·öêEntity(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Query__entities(ctx context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Query",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type _Entity does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                        ec.Error(ctx, err)
                }</span>
        }()
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        if fc.Args, err = ec.field_Query__entities_args(ctx, field.ArgumentMap(ec.Variables)); err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return fc, err
        }</span>
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Query__service(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Query__service(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.__resolve__service(ctx)
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(fedruntime.Service)
        fc.Result = res
        return ec.marshalN_Service2github·öócom·öã99designs·öãgqlgen·öãplugin·öãfederation·öãfedruntime·öêService(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Query__service(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Query",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "sdl":<span class="cov0" title="0">
                                return ec.fieldContext__Service_sdl(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type _Service", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Query___type(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Query___type(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.introspectType(fc.Args["name"].(string))
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*introspection.Type)
        fc.Result = res
        return ec.marshalO__Type2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Query___type(ctx context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Query",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "kind":<span class="cov0" title="0">
                                return ec.fieldContext___Type_kind(ctx, field)</span>
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Type_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Type_description(ctx, field)</span>
                        case "fields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_fields(ctx, field)</span>
                        case "interfaces":<span class="cov0" title="0">
                                return ec.fieldContext___Type_interfaces(ctx, field)</span>
                        case "possibleTypes":<span class="cov0" title="0">
                                return ec.fieldContext___Type_possibleTypes(ctx, field)</span>
                        case "enumValues":<span class="cov0" title="0">
                                return ec.fieldContext___Type_enumValues(ctx, field)</span>
                        case "inputFields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_inputFields(ctx, field)</span>
                        case "ofType":<span class="cov0" title="0">
                                return ec.fieldContext___Type_ofType(ctx, field)</span>
                        case "specifiedByURL":<span class="cov0" title="0">
                                return ec.fieldContext___Type_specifiedByURL(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Type", field.Name)</span>
                },
        }
        <span class="cov0" title="0">defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                        ec.Error(ctx, err)
                }</span>
        }()
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        if fc.Args, err = ec.field_Query___type_args(ctx, field.ArgumentMap(ec.Variables)); err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return fc, err
        }</span>
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _Query___schema(ctx context.Context, field graphql.CollectedField) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_Query___schema(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return ec.introspectSchema()
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*introspection.Schema)
        fc.Result = res
        return ec.marshalO__Schema2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêSchema(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_Query___schema(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "Query",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Schema_description(ctx, field)</span>
                        case "types":<span class="cov0" title="0">
                                return ec.fieldContext___Schema_types(ctx, field)</span>
                        case "queryType":<span class="cov0" title="0">
                                return ec.fieldContext___Schema_queryType(ctx, field)</span>
                        case "mutationType":<span class="cov0" title="0">
                                return ec.fieldContext___Schema_mutationType(ctx, field)</span>
                        case "subscriptionType":<span class="cov0" title="0">
                                return ec.fieldContext___Schema_subscriptionType(ctx, field)</span>
                        case "directives":<span class="cov0" title="0">
                                return ec.fieldContext___Schema_directives(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Schema", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) _User_id(ctx context.Context, field graphql.CollectedField, obj *User) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext_User_id(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.ID, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalNString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext_User_id(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "User",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) __Service_sdl(ctx context.Context, field graphql.CollectedField, obj *fedruntime.Service) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext__Service_sdl(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.SDL, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalOString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext__Service_sdl(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "_Service",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Directive_name(ctx context.Context, field graphql.CollectedField, obj *introspection.Directive) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Directive_name(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Name, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalNString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Directive_name(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Directive",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Directive_description(ctx context.Context, field graphql.CollectedField, obj *introspection.Directive) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Directive_description(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Description(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Directive_description(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Directive",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Directive_locations(ctx context.Context, field graphql.CollectedField, obj *introspection.Directive) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Directive_locations(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Locations, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.([]string)
        fc.Result = res
        return ec.marshalN__DirectiveLocation2·öïstring·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Directive_locations(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Directive",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type __DirectiveLocation does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Directive_args(ctx context.Context, field graphql.CollectedField, obj *introspection.Directive) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Directive_args(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Args, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.([]introspection.InputValue)
        fc.Result = res
        return ec.marshalN__InputValue2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêInputValue·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Directive_args(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Directive",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_description(ctx, field)</span>
                        case "type":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_type(ctx, field)</span>
                        case "defaultValue":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_defaultValue(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __InputValue", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Directive_isRepeatable(ctx context.Context, field graphql.CollectedField, obj *introspection.Directive) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Directive_isRepeatable(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.IsRepeatable, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Directive_isRepeatable(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Directive",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___EnumValue_name(ctx context.Context, field graphql.CollectedField, obj *introspection.EnumValue) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___EnumValue_name(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Name, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalNString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___EnumValue_name(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__EnumValue",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___EnumValue_description(ctx context.Context, field graphql.CollectedField, obj *introspection.EnumValue) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___EnumValue_description(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Description(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___EnumValue_description(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__EnumValue",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___EnumValue_isDeprecated(ctx context.Context, field graphql.CollectedField, obj *introspection.EnumValue) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___EnumValue_isDeprecated(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.IsDeprecated(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___EnumValue_isDeprecated(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__EnumValue",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___EnumValue_deprecationReason(ctx context.Context, field graphql.CollectedField, obj *introspection.EnumValue) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___EnumValue_deprecationReason(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.DeprecationReason(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___EnumValue_deprecationReason(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__EnumValue",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Field_name(ctx context.Context, field graphql.CollectedField, obj *introspection.Field) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Field_name(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Name, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalNString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Field_name(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Field",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Field_description(ctx context.Context, field graphql.CollectedField, obj *introspection.Field) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Field_description(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Description(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Field_description(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Field",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Field_args(ctx context.Context, field graphql.CollectedField, obj *introspection.Field) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Field_args(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Args, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.([]introspection.InputValue)
        fc.Result = res
        return ec.marshalN__InputValue2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêInputValue·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Field_args(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Field",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_description(ctx, field)</span>
                        case "type":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_type(ctx, field)</span>
                        case "defaultValue":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_defaultValue(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __InputValue", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Field_type(ctx context.Context, field graphql.CollectedField, obj *introspection.Field) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Field_type(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Type, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(*introspection.Type)
        fc.Result = res
        return ec.marshalN__Type2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Field_type(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Field",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "kind":<span class="cov0" title="0">
                                return ec.fieldContext___Type_kind(ctx, field)</span>
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Type_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Type_description(ctx, field)</span>
                        case "fields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_fields(ctx, field)</span>
                        case "interfaces":<span class="cov0" title="0">
                                return ec.fieldContext___Type_interfaces(ctx, field)</span>
                        case "possibleTypes":<span class="cov0" title="0">
                                return ec.fieldContext___Type_possibleTypes(ctx, field)</span>
                        case "enumValues":<span class="cov0" title="0">
                                return ec.fieldContext___Type_enumValues(ctx, field)</span>
                        case "inputFields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_inputFields(ctx, field)</span>
                        case "ofType":<span class="cov0" title="0">
                                return ec.fieldContext___Type_ofType(ctx, field)</span>
                        case "specifiedByURL":<span class="cov0" title="0">
                                return ec.fieldContext___Type_specifiedByURL(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Type", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Field_isDeprecated(ctx context.Context, field graphql.CollectedField, obj *introspection.Field) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Field_isDeprecated(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.IsDeprecated(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(bool)
        fc.Result = res
        return ec.marshalNBoolean2bool(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Field_isDeprecated(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Field",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type Boolean does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Field_deprecationReason(ctx context.Context, field graphql.CollectedField, obj *introspection.Field) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Field_deprecationReason(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.DeprecationReason(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Field_deprecationReason(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Field",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___InputValue_name(ctx context.Context, field graphql.CollectedField, obj *introspection.InputValue) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___InputValue_name(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Name, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalNString2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___InputValue_name(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__InputValue",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___InputValue_description(ctx context.Context, field graphql.CollectedField, obj *introspection.InputValue) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___InputValue_description(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Description(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___InputValue_description(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__InputValue",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___InputValue_type(ctx context.Context, field graphql.CollectedField, obj *introspection.InputValue) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___InputValue_type(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Type, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(*introspection.Type)
        fc.Result = res
        return ec.marshalN__Type2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___InputValue_type(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__InputValue",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "kind":<span class="cov0" title="0">
                                return ec.fieldContext___Type_kind(ctx, field)</span>
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Type_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Type_description(ctx, field)</span>
                        case "fields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_fields(ctx, field)</span>
                        case "interfaces":<span class="cov0" title="0">
                                return ec.fieldContext___Type_interfaces(ctx, field)</span>
                        case "possibleTypes":<span class="cov0" title="0">
                                return ec.fieldContext___Type_possibleTypes(ctx, field)</span>
                        case "enumValues":<span class="cov0" title="0">
                                return ec.fieldContext___Type_enumValues(ctx, field)</span>
                        case "inputFields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_inputFields(ctx, field)</span>
                        case "ofType":<span class="cov0" title="0">
                                return ec.fieldContext___Type_ofType(ctx, field)</span>
                        case "specifiedByURL":<span class="cov0" title="0">
                                return ec.fieldContext___Type_specifiedByURL(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Type", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___InputValue_defaultValue(ctx context.Context, field graphql.CollectedField, obj *introspection.InputValue) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___InputValue_defaultValue(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.DefaultValue, nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___InputValue_defaultValue(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__InputValue",
                Field:      field,
                IsMethod:   false,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Schema_description(ctx context.Context, field graphql.CollectedField, obj *introspection.Schema) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Schema_description(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Description(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Schema_description(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Schema",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Schema_types(ctx context.Context, field graphql.CollectedField, obj *introspection.Schema) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Schema_types(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Types(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.([]introspection.Type)
        fc.Result = res
        return ec.marshalN__Type2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Schema_types(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Schema",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "kind":<span class="cov0" title="0">
                                return ec.fieldContext___Type_kind(ctx, field)</span>
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Type_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Type_description(ctx, field)</span>
                        case "fields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_fields(ctx, field)</span>
                        case "interfaces":<span class="cov0" title="0">
                                return ec.fieldContext___Type_interfaces(ctx, field)</span>
                        case "possibleTypes":<span class="cov0" title="0">
                                return ec.fieldContext___Type_possibleTypes(ctx, field)</span>
                        case "enumValues":<span class="cov0" title="0">
                                return ec.fieldContext___Type_enumValues(ctx, field)</span>
                        case "inputFields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_inputFields(ctx, field)</span>
                        case "ofType":<span class="cov0" title="0">
                                return ec.fieldContext___Type_ofType(ctx, field)</span>
                        case "specifiedByURL":<span class="cov0" title="0">
                                return ec.fieldContext___Type_specifiedByURL(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Type", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Schema_queryType(ctx context.Context, field graphql.CollectedField, obj *introspection.Schema) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Schema_queryType(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.QueryType(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(*introspection.Type)
        fc.Result = res
        return ec.marshalN__Type2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Schema_queryType(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Schema",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "kind":<span class="cov0" title="0">
                                return ec.fieldContext___Type_kind(ctx, field)</span>
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Type_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Type_description(ctx, field)</span>
                        case "fields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_fields(ctx, field)</span>
                        case "interfaces":<span class="cov0" title="0">
                                return ec.fieldContext___Type_interfaces(ctx, field)</span>
                        case "possibleTypes":<span class="cov0" title="0">
                                return ec.fieldContext___Type_possibleTypes(ctx, field)</span>
                        case "enumValues":<span class="cov0" title="0">
                                return ec.fieldContext___Type_enumValues(ctx, field)</span>
                        case "inputFields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_inputFields(ctx, field)</span>
                        case "ofType":<span class="cov0" title="0">
                                return ec.fieldContext___Type_ofType(ctx, field)</span>
                        case "specifiedByURL":<span class="cov0" title="0">
                                return ec.fieldContext___Type_specifiedByURL(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Type", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Schema_mutationType(ctx context.Context, field graphql.CollectedField, obj *introspection.Schema) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Schema_mutationType(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.MutationType(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*introspection.Type)
        fc.Result = res
        return ec.marshalO__Type2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Schema_mutationType(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Schema",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "kind":<span class="cov0" title="0">
                                return ec.fieldContext___Type_kind(ctx, field)</span>
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Type_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Type_description(ctx, field)</span>
                        case "fields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_fields(ctx, field)</span>
                        case "interfaces":<span class="cov0" title="0">
                                return ec.fieldContext___Type_interfaces(ctx, field)</span>
                        case "possibleTypes":<span class="cov0" title="0">
                                return ec.fieldContext___Type_possibleTypes(ctx, field)</span>
                        case "enumValues":<span class="cov0" title="0">
                                return ec.fieldContext___Type_enumValues(ctx, field)</span>
                        case "inputFields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_inputFields(ctx, field)</span>
                        case "ofType":<span class="cov0" title="0">
                                return ec.fieldContext___Type_ofType(ctx, field)</span>
                        case "specifiedByURL":<span class="cov0" title="0">
                                return ec.fieldContext___Type_specifiedByURL(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Type", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Schema_subscriptionType(ctx context.Context, field graphql.CollectedField, obj *introspection.Schema) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Schema_subscriptionType(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.SubscriptionType(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*introspection.Type)
        fc.Result = res
        return ec.marshalO__Type2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Schema_subscriptionType(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Schema",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "kind":<span class="cov0" title="0">
                                return ec.fieldContext___Type_kind(ctx, field)</span>
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Type_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Type_description(ctx, field)</span>
                        case "fields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_fields(ctx, field)</span>
                        case "interfaces":<span class="cov0" title="0">
                                return ec.fieldContext___Type_interfaces(ctx, field)</span>
                        case "possibleTypes":<span class="cov0" title="0">
                                return ec.fieldContext___Type_possibleTypes(ctx, field)</span>
                        case "enumValues":<span class="cov0" title="0">
                                return ec.fieldContext___Type_enumValues(ctx, field)</span>
                        case "inputFields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_inputFields(ctx, field)</span>
                        case "ofType":<span class="cov0" title="0">
                                return ec.fieldContext___Type_ofType(ctx, field)</span>
                        case "specifiedByURL":<span class="cov0" title="0">
                                return ec.fieldContext___Type_specifiedByURL(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Type", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Schema_directives(ctx context.Context, field graphql.CollectedField, obj *introspection.Schema) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Schema_directives(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Directives(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.([]introspection.Directive)
        fc.Result = res
        return ec.marshalN__Directive2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêDirective·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Schema_directives(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Schema",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Directive_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Directive_description(ctx, field)</span>
                        case "locations":<span class="cov0" title="0">
                                return ec.fieldContext___Directive_locations(ctx, field)</span>
                        case "args":<span class="cov0" title="0">
                                return ec.fieldContext___Directive_args(ctx, field)</span>
                        case "isRepeatable":<span class="cov0" title="0">
                                return ec.fieldContext___Directive_isRepeatable(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Directive", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Type_kind(ctx context.Context, field graphql.CollectedField, obj *introspection.Type) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Type_kind(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Kind(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, fc) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "must not be null")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := resTmp.(string)
        fc.Result = res
        return ec.marshalN__TypeKind2string(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Type_kind(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Type",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type __TypeKind does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Type_name(ctx context.Context, field graphql.CollectedField, obj *introspection.Type) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Type_name(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Name(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Type_name(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Type",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Type_description(ctx context.Context, field graphql.CollectedField, obj *introspection.Type) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Type_description(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Description(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Type_description(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Type",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Type_fields(ctx context.Context, field graphql.CollectedField, obj *introspection.Type) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Type_fields(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Fields(fc.Args["includeDeprecated"].(bool)), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.([]introspection.Field)
        fc.Result = res
        return ec.marshalO__Field2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêField·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Type_fields(ctx context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Type",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Field_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Field_description(ctx, field)</span>
                        case "args":<span class="cov0" title="0">
                                return ec.fieldContext___Field_args(ctx, field)</span>
                        case "type":<span class="cov0" title="0">
                                return ec.fieldContext___Field_type(ctx, field)</span>
                        case "isDeprecated":<span class="cov0" title="0">
                                return ec.fieldContext___Field_isDeprecated(ctx, field)</span>
                        case "deprecationReason":<span class="cov0" title="0">
                                return ec.fieldContext___Field_deprecationReason(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Field", field.Name)</span>
                },
        }
        <span class="cov0" title="0">defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                        ec.Error(ctx, err)
                }</span>
        }()
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        if fc.Args, err = ec.field___Type_fields_args(ctx, field.ArgumentMap(ec.Variables)); err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return fc, err
        }</span>
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Type_interfaces(ctx context.Context, field graphql.CollectedField, obj *introspection.Type) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Type_interfaces(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.Interfaces(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.([]introspection.Type)
        fc.Result = res
        return ec.marshalO__Type2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Type_interfaces(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Type",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "kind":<span class="cov0" title="0">
                                return ec.fieldContext___Type_kind(ctx, field)</span>
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Type_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Type_description(ctx, field)</span>
                        case "fields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_fields(ctx, field)</span>
                        case "interfaces":<span class="cov0" title="0">
                                return ec.fieldContext___Type_interfaces(ctx, field)</span>
                        case "possibleTypes":<span class="cov0" title="0">
                                return ec.fieldContext___Type_possibleTypes(ctx, field)</span>
                        case "enumValues":<span class="cov0" title="0">
                                return ec.fieldContext___Type_enumValues(ctx, field)</span>
                        case "inputFields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_inputFields(ctx, field)</span>
                        case "ofType":<span class="cov0" title="0">
                                return ec.fieldContext___Type_ofType(ctx, field)</span>
                        case "specifiedByURL":<span class="cov0" title="0">
                                return ec.fieldContext___Type_specifiedByURL(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Type", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Type_possibleTypes(ctx context.Context, field graphql.CollectedField, obj *introspection.Type) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Type_possibleTypes(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.PossibleTypes(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.([]introspection.Type)
        fc.Result = res
        return ec.marshalO__Type2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Type_possibleTypes(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Type",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "kind":<span class="cov0" title="0">
                                return ec.fieldContext___Type_kind(ctx, field)</span>
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Type_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Type_description(ctx, field)</span>
                        case "fields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_fields(ctx, field)</span>
                        case "interfaces":<span class="cov0" title="0">
                                return ec.fieldContext___Type_interfaces(ctx, field)</span>
                        case "possibleTypes":<span class="cov0" title="0">
                                return ec.fieldContext___Type_possibleTypes(ctx, field)</span>
                        case "enumValues":<span class="cov0" title="0">
                                return ec.fieldContext___Type_enumValues(ctx, field)</span>
                        case "inputFields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_inputFields(ctx, field)</span>
                        case "ofType":<span class="cov0" title="0">
                                return ec.fieldContext___Type_ofType(ctx, field)</span>
                        case "specifiedByURL":<span class="cov0" title="0">
                                return ec.fieldContext___Type_specifiedByURL(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Type", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Type_enumValues(ctx context.Context, field graphql.CollectedField, obj *introspection.Type) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Type_enumValues(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.EnumValues(fc.Args["includeDeprecated"].(bool)), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.([]introspection.EnumValue)
        fc.Result = res
        return ec.marshalO__EnumValue2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêEnumValue·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Type_enumValues(ctx context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Type",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___EnumValue_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___EnumValue_description(ctx, field)</span>
                        case "isDeprecated":<span class="cov0" title="0">
                                return ec.fieldContext___EnumValue_isDeprecated(ctx, field)</span>
                        case "deprecationReason":<span class="cov0" title="0">
                                return ec.fieldContext___EnumValue_deprecationReason(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __EnumValue", field.Name)</span>
                },
        }
        <span class="cov0" title="0">defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        err = ec.Recover(ctx, r)
                        ec.Error(ctx, err)
                }</span>
        }()
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        if fc.Args, err = ec.field___Type_enumValues_args(ctx, field.ArgumentMap(ec.Variables)); err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return fc, err
        }</span>
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Type_inputFields(ctx context.Context, field graphql.CollectedField, obj *introspection.Type) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Type_inputFields(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.InputFields(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.([]introspection.InputValue)
        fc.Result = res
        return ec.marshalO__InputValue2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêInputValue·öÑ(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Type_inputFields(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Type",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_description(ctx, field)</span>
                        case "type":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_type(ctx, field)</span>
                        case "defaultValue":<span class="cov0" title="0">
                                return ec.fieldContext___InputValue_defaultValue(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __InputValue", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Type_ofType(ctx context.Context, field graphql.CollectedField, obj *introspection.Type) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Type_ofType(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.OfType(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*introspection.Type)
        fc.Result = res
        return ec.marshalO__Type2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Type_ofType(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Type",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        switch field.Name </span>{
                        case "kind":<span class="cov0" title="0">
                                return ec.fieldContext___Type_kind(ctx, field)</span>
                        case "name":<span class="cov0" title="0">
                                return ec.fieldContext___Type_name(ctx, field)</span>
                        case "description":<span class="cov0" title="0">
                                return ec.fieldContext___Type_description(ctx, field)</span>
                        case "fields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_fields(ctx, field)</span>
                        case "interfaces":<span class="cov0" title="0">
                                return ec.fieldContext___Type_interfaces(ctx, field)</span>
                        case "possibleTypes":<span class="cov0" title="0">
                                return ec.fieldContext___Type_possibleTypes(ctx, field)</span>
                        case "enumValues":<span class="cov0" title="0">
                                return ec.fieldContext___Type_enumValues(ctx, field)</span>
                        case "inputFields":<span class="cov0" title="0">
                                return ec.fieldContext___Type_inputFields(ctx, field)</span>
                        case "ofType":<span class="cov0" title="0">
                                return ec.fieldContext___Type_ofType(ctx, field)</span>
                        case "specifiedByURL":<span class="cov0" title="0">
                                return ec.fieldContext___Type_specifiedByURL(ctx, field)</span>
                        }
                        <span class="cov0" title="0">return nil, fmt.Errorf("no field named %q was found under type __Type", field.Name)</span>
                },
        }
        <span class="cov0" title="0">return fc, nil</span>
}

func (ec *executionContext) ___Type_specifiedByURL(ctx context.Context, field graphql.CollectedField, obj *introspection.Type) (ret graphql.Marshaler) <span class="cov0" title="0">{
        fc, err := ec.fieldContext___Type_specifiedByURL(ctx, field)
        if err != nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ctx = graphql.WithFieldContext(ctx, fc)
        defer func() </span><span class="cov0" title="0">{
                if r := recover(); r != nil </span><span class="cov0" title="0">{
                        ec.Error(ctx, ec.Recover(ctx, r))
                        ret = graphql.Null
                }</span>
        }()
        <span class="cov0" title="0">resTmp, err := ec.ResolverMiddleware(ctx, func(rctx context.Context) (interface{}, error) </span><span class="cov0" title="0">{
                ctx = rctx // use context from middleware stack in children
                return obj.SpecifiedByURL(), nil
        }</span>)
        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                ec.Error(ctx, err)
                return graphql.Null
        }</span>
        <span class="cov0" title="0">if resTmp == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := resTmp.(*string)
        fc.Result = res
        return ec.marshalOString2·öñstring(ctx, field.Selections, res)</span>
}

func (ec *executionContext) fieldContext___Type_specifiedByURL(_ context.Context, field graphql.CollectedField) (fc *graphql.FieldContext, err error) <span class="cov0" title="0">{
        fc = &amp;graphql.FieldContext{
                Object:     "__Type",
                Field:      field,
                IsMethod:   true,
                IsResolver: false,
                Child: func(ctx context.Context, field graphql.CollectedField) (*graphql.FieldContext, error) </span><span class="cov0" title="0">{
                        return nil, errors.New("field of type String does not have child fields")
                }</span>,
        }
        <span class="cov0" title="0">return fc, nil</span>
}

// endregion **************************** field.gotpl *****************************

// region    **************************** input.gotpl *****************************

// endregion **************************** input.gotpl *****************************

// region    ************************** interface.gotpl ***************************

func (ec *executionContext) __Entity(ctx context.Context, sel ast.SelectionSet, obj fedruntime.Entity) graphql.Marshaler <span class="cov0" title="0">{
        switch obj := (obj).(type) </span>{
        case nil:<span class="cov0" title="0">
                return graphql.Null</span>
        case Article:<span class="cov0" title="0">
                return ec._Article(ctx, sel, &amp;obj)</span>
        case *Article:<span class="cov0" title="0">
                if obj == nil </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
                <span class="cov0" title="0">return ec._Article(ctx, sel, obj)</span>
        case Cart:<span class="cov0" title="0">
                return ec._Cart(ctx, sel, &amp;obj)</span>
        case *Cart:<span class="cov0" title="0">
                if obj == nil </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
                <span class="cov0" title="0">return ec._Cart(ctx, sel, obj)</span>
        case Order:<span class="cov0" title="0">
                return ec._Order(ctx, sel, &amp;obj)</span>
        case *Order:<span class="cov0" title="0">
                if obj == nil </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
                <span class="cov0" title="0">return ec._Order(ctx, sel, obj)</span>
        case User:<span class="cov0" title="0">
                return ec._User(ctx, sel, &amp;obj)</span>
        case *User:<span class="cov0" title="0">
                if obj == nil </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
                <span class="cov0" title="0">return ec._User(ctx, sel, obj)</span>
        default:<span class="cov0" title="0">
                panic(fmt.Errorf("unexpected type %T", obj))</span>
        }
}

// endregion ************************** interface.gotpl ***************************

// region    **************************** object.gotpl ****************************

var articleImplementors = []string{"Article", "_Entity"}

func (ec *executionContext) _Article(ctx context.Context, sel ast.SelectionSet, obj *Article) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, articleImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("Article")</span>
                case "id":<span class="cov0" title="0">
                        out.Values[i] = ec._Article_id(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var cartImplementors = []string{"Cart", "_Entity"}

func (ec *executionContext) _Cart(ctx context.Context, sel ast.SelectionSet, obj *Cart) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, cartImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("Cart")</span>
                case "id":<span class="cov0" title="0">
                        out.Values[i] = ec._Cart_id(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "userId":<span class="cov0" title="0">
                        out.Values[i] = ec._Cart_userId(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "user":<span class="cov0" title="0">
                        out.Values[i] = ec._Cart_user(ctx, field, obj)</span>
                case "orderId":<span class="cov0" title="0">
                        out.Values[i] = ec._Cart_orderId(ctx, field, obj)</span>
                case "order":<span class="cov0" title="0">
                        out.Values[i] = ec._Cart_order(ctx, field, obj)</span>
                case "articles":<span class="cov0" title="0">
                        out.Values[i] = ec._Cart_articles(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "enabled":<span class="cov0" title="0">
                        out.Values[i] = ec._Cart_enabled(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var cartArticleImplementors = []string{"CartArticle"}

func (ec *executionContext) _CartArticle(ctx context.Context, sel ast.SelectionSet, obj *CartArticle) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, cartArticleImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("CartArticle")</span>
                case "articleId":<span class="cov0" title="0">
                        out.Values[i] = ec._CartArticle_articleId(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "article":<span class="cov0" title="0">
                        out.Values[i] = ec._CartArticle_article(ctx, field, obj)</span>
                case "quantity":<span class="cov0" title="0">
                        out.Values[i] = ec._CartArticle_quantity(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "valid":<span class="cov0" title="0">
                        out.Values[i] = ec._CartArticle_valid(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "validated":<span class="cov0" title="0">
                        out.Values[i] = ec._CartArticle_validated(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var entityImplementors = []string{"Entity"}

func (ec *executionContext) _Entity(ctx context.Context, sel ast.SelectionSet) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, entityImplementors)
        ctx = graphql.WithFieldContext(ctx, &amp;graphql.FieldContext{
                Object: "Entity",
        })

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                innerCtx := graphql.WithRootFieldContext(ctx, &amp;graphql.RootFieldContext{
                        Object: field.Name,
                        Field:  field,
                })

                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("Entity")</span>
                case "findCartByID":<span class="cov0" title="0">
                        field := field

                        innerFunc := func(ctx context.Context, fs *graphql.FieldSet) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                defer func() </span><span class="cov0" title="0">{
                                        if r := recover(); r != nil </span><span class="cov0" title="0">{
                                                ec.Error(ctx, ec.Recover(ctx, r))
                                        }</span>
                                }()
                                <span class="cov0" title="0">res = ec._Entity_findCartByID(ctx, field)
                                if res == graphql.Null </span><span class="cov0" title="0">{
                                        atomic.AddUint32(&amp;fs.Invalids, 1)
                                }</span>
                                <span class="cov0" title="0">return res</span>
                        }

                        <span class="cov0" title="0">rrm := func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{
                                return ec.OperationContext.RootResolverMiddleware(ctx,
                                        func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{ return innerFunc(ctx, out) }</span>)
                        }

                        <span class="cov0" title="0">out.Concurrently(i, func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{ return rrm(innerCtx) }</span>)
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var mutationImplementors = []string{"Mutation"}

func (ec *executionContext) _Mutation(ctx context.Context, sel ast.SelectionSet) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, mutationImplementors)
        ctx = graphql.WithFieldContext(ctx, &amp;graphql.FieldContext{
                Object: "Mutation",
        })

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                innerCtx := graphql.WithRootFieldContext(ctx, &amp;graphql.RootFieldContext{
                        Object: field.Name,
                        Field:  field,
                })

                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("Mutation")</span>
                case "validateCart":<span class="cov0" title="0">
                        out.Values[i] = ec.OperationContext.RootResolverMiddleware(innerCtx, func(ctx context.Context) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                return ec._Mutation_validateCart(ctx, field)
                        }</span>)
                        <span class="cov0" title="0">if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "decrementArticle":<span class="cov0" title="0">
                        out.Values[i] = ec.OperationContext.RootResolverMiddleware(innerCtx, func(ctx context.Context) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                return ec._Mutation_decrementArticle(ctx, field)
                        }</span>)
                        <span class="cov0" title="0">if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "incrementArticle":<span class="cov0" title="0">
                        out.Values[i] = ec.OperationContext.RootResolverMiddleware(innerCtx, func(ctx context.Context) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                return ec._Mutation_incrementArticle(ctx, field)
                        }</span>)
                        <span class="cov0" title="0">if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "removeArticle":<span class="cov0" title="0">
                        out.Values[i] = ec.OperationContext.RootResolverMiddleware(innerCtx, func(ctx context.Context) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                return ec._Mutation_removeArticle(ctx, field)
                        }</span>)
                        <span class="cov0" title="0">if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "addArticle":<span class="cov0" title="0">
                        out.Values[i] = ec.OperationContext.RootResolverMiddleware(innerCtx, func(ctx context.Context) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                return ec._Mutation_addArticle(ctx, field)
                        }</span>)
                        <span class="cov0" title="0">if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "checkout":<span class="cov0" title="0">
                        out.Values[i] = ec.OperationContext.RootResolverMiddleware(innerCtx, func(ctx context.Context) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                return ec._Mutation_checkout(ctx, field)
                        }</span>)
                        <span class="cov0" title="0">if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var orderImplementors = []string{"Order", "_Entity"}

func (ec *executionContext) _Order(ctx context.Context, sel ast.SelectionSet, obj *Order) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, orderImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("Order")</span>
                case "id":<span class="cov0" title="0">
                        out.Values[i] = ec._Order_id(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var queryImplementors = []string{"Query"}

func (ec *executionContext) _Query(ctx context.Context, sel ast.SelectionSet) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, queryImplementors)
        ctx = graphql.WithFieldContext(ctx, &amp;graphql.FieldContext{
                Object: "Query",
        })

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                innerCtx := graphql.WithRootFieldContext(ctx, &amp;graphql.RootFieldContext{
                        Object: field.Name,
                        Field:  field,
                })

                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("Query")</span>
                case "currentCart":<span class="cov0" title="0">
                        field := field

                        innerFunc := func(ctx context.Context, fs *graphql.FieldSet) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                defer func() </span><span class="cov0" title="0">{
                                        if r := recover(); r != nil </span><span class="cov0" title="0">{
                                                ec.Error(ctx, ec.Recover(ctx, r))
                                        }</span>
                                }()
                                <span class="cov0" title="0">res = ec._Query_currentCart(ctx, field)
                                if res == graphql.Null </span><span class="cov0" title="0">{
                                        atomic.AddUint32(&amp;fs.Invalids, 1)
                                }</span>
                                <span class="cov0" title="0">return res</span>
                        }

                        <span class="cov0" title="0">rrm := func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{
                                return ec.OperationContext.RootResolverMiddleware(ctx,
                                        func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{ return innerFunc(ctx, out) }</span>)
                        }

                        <span class="cov0" title="0">out.Concurrently(i, func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{ return rrm(innerCtx) }</span>)
                case "_entities":<span class="cov0" title="0">
                        field := field

                        innerFunc := func(ctx context.Context, fs *graphql.FieldSet) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                defer func() </span><span class="cov0" title="0">{
                                        if r := recover(); r != nil </span><span class="cov0" title="0">{
                                                ec.Error(ctx, ec.Recover(ctx, r))
                                        }</span>
                                }()
                                <span class="cov0" title="0">res = ec._Query__entities(ctx, field)
                                if res == graphql.Null </span><span class="cov0" title="0">{
                                        atomic.AddUint32(&amp;fs.Invalids, 1)
                                }</span>
                                <span class="cov0" title="0">return res</span>
                        }

                        <span class="cov0" title="0">rrm := func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{
                                return ec.OperationContext.RootResolverMiddleware(ctx,
                                        func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{ return innerFunc(ctx, out) }</span>)
                        }

                        <span class="cov0" title="0">out.Concurrently(i, func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{ return rrm(innerCtx) }</span>)
                case "_service":<span class="cov0" title="0">
                        field := field

                        innerFunc := func(ctx context.Context, fs *graphql.FieldSet) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                defer func() </span><span class="cov0" title="0">{
                                        if r := recover(); r != nil </span><span class="cov0" title="0">{
                                                ec.Error(ctx, ec.Recover(ctx, r))
                                        }</span>
                                }()
                                <span class="cov0" title="0">res = ec._Query__service(ctx, field)
                                if res == graphql.Null </span><span class="cov0" title="0">{
                                        atomic.AddUint32(&amp;fs.Invalids, 1)
                                }</span>
                                <span class="cov0" title="0">return res</span>
                        }

                        <span class="cov0" title="0">rrm := func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{
                                return ec.OperationContext.RootResolverMiddleware(ctx,
                                        func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{ return innerFunc(ctx, out) }</span>)
                        }

                        <span class="cov0" title="0">out.Concurrently(i, func(ctx context.Context) graphql.Marshaler </span><span class="cov0" title="0">{ return rrm(innerCtx) }</span>)
                case "__type":<span class="cov0" title="0">
                        out.Values[i] = ec.OperationContext.RootResolverMiddleware(innerCtx, func(ctx context.Context) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                return ec._Query___type(ctx, field)
                        }</span>)
                case "__schema":<span class="cov0" title="0">
                        out.Values[i] = ec.OperationContext.RootResolverMiddleware(innerCtx, func(ctx context.Context) (res graphql.Marshaler) </span><span class="cov0" title="0">{
                                return ec._Query___schema(ctx, field)
                        }</span>)
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var userImplementors = []string{"User", "_Entity"}

func (ec *executionContext) _User(ctx context.Context, sel ast.SelectionSet, obj *User) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, userImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("User")</span>
                case "id":<span class="cov0" title="0">
                        out.Values[i] = ec._User_id(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var _ServiceImplementors = []string{"_Service"}

func (ec *executionContext) __Service(ctx context.Context, sel ast.SelectionSet, obj *fedruntime.Service) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, _ServiceImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("_Service")</span>
                case "sdl":<span class="cov0" title="0">
                        out.Values[i] = ec.__Service_sdl(ctx, field, obj)</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var __DirectiveImplementors = []string{"__Directive"}

func (ec *executionContext) ___Directive(ctx context.Context, sel ast.SelectionSet, obj *introspection.Directive) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, __DirectiveImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("__Directive")</span>
                case "name":<span class="cov0" title="0">
                        out.Values[i] = ec.___Directive_name(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "description":<span class="cov0" title="0">
                        out.Values[i] = ec.___Directive_description(ctx, field, obj)</span>
                case "locations":<span class="cov0" title="0">
                        out.Values[i] = ec.___Directive_locations(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "args":<span class="cov0" title="0">
                        out.Values[i] = ec.___Directive_args(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "isRepeatable":<span class="cov0" title="0">
                        out.Values[i] = ec.___Directive_isRepeatable(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var __EnumValueImplementors = []string{"__EnumValue"}

func (ec *executionContext) ___EnumValue(ctx context.Context, sel ast.SelectionSet, obj *introspection.EnumValue) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, __EnumValueImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("__EnumValue")</span>
                case "name":<span class="cov0" title="0">
                        out.Values[i] = ec.___EnumValue_name(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "description":<span class="cov0" title="0">
                        out.Values[i] = ec.___EnumValue_description(ctx, field, obj)</span>
                case "isDeprecated":<span class="cov0" title="0">
                        out.Values[i] = ec.___EnumValue_isDeprecated(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "deprecationReason":<span class="cov0" title="0">
                        out.Values[i] = ec.___EnumValue_deprecationReason(ctx, field, obj)</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var __FieldImplementors = []string{"__Field"}

func (ec *executionContext) ___Field(ctx context.Context, sel ast.SelectionSet, obj *introspection.Field) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, __FieldImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("__Field")</span>
                case "name":<span class="cov0" title="0">
                        out.Values[i] = ec.___Field_name(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "description":<span class="cov0" title="0">
                        out.Values[i] = ec.___Field_description(ctx, field, obj)</span>
                case "args":<span class="cov0" title="0">
                        out.Values[i] = ec.___Field_args(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "type":<span class="cov0" title="0">
                        out.Values[i] = ec.___Field_type(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "isDeprecated":<span class="cov0" title="0">
                        out.Values[i] = ec.___Field_isDeprecated(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "deprecationReason":<span class="cov0" title="0">
                        out.Values[i] = ec.___Field_deprecationReason(ctx, field, obj)</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var __InputValueImplementors = []string{"__InputValue"}

func (ec *executionContext) ___InputValue(ctx context.Context, sel ast.SelectionSet, obj *introspection.InputValue) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, __InputValueImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("__InputValue")</span>
                case "name":<span class="cov0" title="0">
                        out.Values[i] = ec.___InputValue_name(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "description":<span class="cov0" title="0">
                        out.Values[i] = ec.___InputValue_description(ctx, field, obj)</span>
                case "type":<span class="cov0" title="0">
                        out.Values[i] = ec.___InputValue_type(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "defaultValue":<span class="cov0" title="0">
                        out.Values[i] = ec.___InputValue_defaultValue(ctx, field, obj)</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var __SchemaImplementors = []string{"__Schema"}

func (ec *executionContext) ___Schema(ctx context.Context, sel ast.SelectionSet, obj *introspection.Schema) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, __SchemaImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("__Schema")</span>
                case "description":<span class="cov0" title="0">
                        out.Values[i] = ec.___Schema_description(ctx, field, obj)</span>
                case "types":<span class="cov0" title="0">
                        out.Values[i] = ec.___Schema_types(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "queryType":<span class="cov0" title="0">
                        out.Values[i] = ec.___Schema_queryType(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "mutationType":<span class="cov0" title="0">
                        out.Values[i] = ec.___Schema_mutationType(ctx, field, obj)</span>
                case "subscriptionType":<span class="cov0" title="0">
                        out.Values[i] = ec.___Schema_subscriptionType(ctx, field, obj)</span>
                case "directives":<span class="cov0" title="0">
                        out.Values[i] = ec.___Schema_directives(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

var __TypeImplementors = []string{"__Type"}

func (ec *executionContext) ___Type(ctx context.Context, sel ast.SelectionSet, obj *introspection.Type) graphql.Marshaler <span class="cov0" title="0">{
        fields := graphql.CollectFields(ec.OperationContext, sel, __TypeImplementors)

        out := graphql.NewFieldSet(fields)
        deferred := make(map[string]*graphql.FieldSet)
        for i, field := range fields </span><span class="cov0" title="0">{
                switch field.Name </span>{
                case "__typename":<span class="cov0" title="0">
                        out.Values[i] = graphql.MarshalString("__Type")</span>
                case "kind":<span class="cov0" title="0">
                        out.Values[i] = ec.___Type_kind(ctx, field, obj)
                        if out.Values[i] == graphql.Null </span><span class="cov0" title="0">{
                                out.Invalids++
                        }</span>
                case "name":<span class="cov0" title="0">
                        out.Values[i] = ec.___Type_name(ctx, field, obj)</span>
                case "description":<span class="cov0" title="0">
                        out.Values[i] = ec.___Type_description(ctx, field, obj)</span>
                case "fields":<span class="cov0" title="0">
                        out.Values[i] = ec.___Type_fields(ctx, field, obj)</span>
                case "interfaces":<span class="cov0" title="0">
                        out.Values[i] = ec.___Type_interfaces(ctx, field, obj)</span>
                case "possibleTypes":<span class="cov0" title="0">
                        out.Values[i] = ec.___Type_possibleTypes(ctx, field, obj)</span>
                case "enumValues":<span class="cov0" title="0">
                        out.Values[i] = ec.___Type_enumValues(ctx, field, obj)</span>
                case "inputFields":<span class="cov0" title="0">
                        out.Values[i] = ec.___Type_inputFields(ctx, field, obj)</span>
                case "ofType":<span class="cov0" title="0">
                        out.Values[i] = ec.___Type_ofType(ctx, field, obj)</span>
                case "specifiedByURL":<span class="cov0" title="0">
                        out.Values[i] = ec.___Type_specifiedByURL(ctx, field, obj)</span>
                default:<span class="cov0" title="0">
                        panic("unknown field " + strconv.Quote(field.Name))</span>
                }
        }
        <span class="cov0" title="0">out.Dispatch(ctx)
        if out.Invalids &gt; 0 </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>

        <span class="cov0" title="0">atomic.AddInt32(&amp;ec.deferred, int32(len(deferred)))

        for label, dfs := range deferred </span><span class="cov0" title="0">{
                ec.processDeferredGroup(graphql.DeferredGroup{
                        Label:    label,
                        Path:     graphql.GetPath(ctx),
                        FieldSet: dfs,
                        Context:  ctx,
                })
        }</span>

        <span class="cov0" title="0">return out</span>
}

// endregion **************************** object.gotpl ****************************

// region    ***************************** type.gotpl *****************************

func (ec *executionContext) unmarshalNBoolean2bool(ctx context.Context, v interface{}) (bool, error) <span class="cov0" title="0">{
        res, err := graphql.UnmarshalBoolean(v)
        return res, graphql.ErrorOnPath(ctx, err)
}</span>

func (ec *executionContext) marshalNBoolean2bool(ctx context.Context, sel ast.SelectionSet, v bool) graphql.Marshaler <span class="cov0" title="0">{
        res := graphql.MarshalBoolean(v)
        if res == graphql.Null </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
        }
        <span class="cov0" title="0">return res</span>
}

func (ec *executionContext) marshalNCart2github·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêCart(ctx context.Context, sel ast.SelectionSet, v Cart) graphql.Marshaler <span class="cov0" title="0">{
        return ec._Cart(ctx, sel, &amp;v)
}</span>

func (ec *executionContext) marshalNCart2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêCart(ctx context.Context, sel ast.SelectionSet, v *Cart) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">return ec._Cart(ctx, sel, v)</span>
}

func (ec *executionContext) marshalNCartArticle2·öï·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêCartArticle·öÑ(ctx context.Context, sel ast.SelectionSet, v []*CartArticle) graphql.Marshaler <span class="cov0" title="0">{
        ret := make(graphql.Array, len(v))
        var wg sync.WaitGroup
        isLen1 := len(v) == 1
        if !isLen1 </span><span class="cov0" title="0">{
                wg.Add(len(v))
        }</span>
        <span class="cov0" title="0">for i := range v </span><span class="cov0" title="0">{
                i := i
                fc := &amp;graphql.FieldContext{
                        Index:  &amp;i,
                        Result: &amp;v[i],
                }
                ctx := graphql.WithFieldContext(ctx, fc)
                f := func(i int) </span><span class="cov0" title="0">{
                        defer func() </span><span class="cov0" title="0">{
                                if r := recover(); r != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, ec.Recover(ctx, r))
                                        ret = nil
                                }</span>
                        }()
                        <span class="cov0" title="0">if !isLen1 </span><span class="cov0" title="0">{
                                defer wg.Done()
                        }</span>
                        <span class="cov0" title="0">ret[i] = ec.marshalNCartArticle2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêCartArticle(ctx, sel, v[i])</span>
                }
                <span class="cov0" title="0">if isLen1 </span><span class="cov0" title="0">{
                        f(i)
                }</span> else<span class="cov0" title="0"> {
                        go f(i)
                }</span>

        }
        <span class="cov0" title="0">wg.Wait()

        for _, e := range ret </span><span class="cov0" title="0">{
                if e == graphql.Null </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
        }

        <span class="cov0" title="0">return ret</span>
}

func (ec *executionContext) marshalNCartArticle2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêCartArticle(ctx context.Context, sel ast.SelectionSet, v *CartArticle) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">return ec._CartArticle(ctx, sel, v)</span>
}

func (ec *executionContext) unmarshalNInt2int(ctx context.Context, v interface{}) (int, error) <span class="cov0" title="0">{
        res, err := graphql.UnmarshalInt(v)
        return res, graphql.ErrorOnPath(ctx, err)
}</span>

func (ec *executionContext) marshalNInt2int(ctx context.Context, sel ast.SelectionSet, v int) graphql.Marshaler <span class="cov0" title="0">{
        res := graphql.MarshalInt(v)
        if res == graphql.Null </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
        }
        <span class="cov0" title="0">return res</span>
}

func (ec *executionContext) unmarshalNString2string(ctx context.Context, v interface{}) (string, error) <span class="cov0" title="0">{
        res, err := graphql.UnmarshalString(v)
        return res, graphql.ErrorOnPath(ctx, err)
}</span>

func (ec *executionContext) marshalNString2string(ctx context.Context, sel ast.SelectionSet, v string) graphql.Marshaler <span class="cov0" title="0">{
        res := graphql.MarshalString(v)
        if res == graphql.Null </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
        }
        <span class="cov0" title="0">return res</span>
}

func (ec *executionContext) unmarshalN_Any2map(ctx context.Context, v interface{}) (map[string]interface{}, error) <span class="cov0" title="0">{
        res, err := graphql.UnmarshalMap(v)
        return res, graphql.ErrorOnPath(ctx, err)
}</span>

func (ec *executionContext) marshalN_Any2map(ctx context.Context, sel ast.SelectionSet, v map[string]interface{}) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">res := graphql.MarshalMap(v)
        if res == graphql.Null </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
        }
        <span class="cov0" title="0">return res</span>
}

func (ec *executionContext) unmarshalN_Any2·öïmap·öÑ(ctx context.Context, v interface{}) ([]map[string]interface{}, error) <span class="cov0" title="0">{
        var vSlice []interface{}
        if v != nil </span><span class="cov0" title="0">{
                vSlice = graphql.CoerceList(v)
        }</span>
        <span class="cov0" title="0">var err error
        res := make([]map[string]interface{}, len(vSlice))
        for i := range vSlice </span><span class="cov0" title="0">{
                ctx := graphql.WithPathContext(ctx, graphql.NewPathWithIndex(i))
                res[i], err = ec.unmarshalN_Any2map(ctx, vSlice[i])
                if err != nil </span><span class="cov0" title="0">{
                        return nil, err
                }</span>
        }
        <span class="cov0" title="0">return res, nil</span>
}

func (ec *executionContext) marshalN_Any2·öïmap·öÑ(ctx context.Context, sel ast.SelectionSet, v []map[string]interface{}) graphql.Marshaler <span class="cov0" title="0">{
        ret := make(graphql.Array, len(v))
        for i := range v </span><span class="cov0" title="0">{
                ret[i] = ec.marshalN_Any2map(ctx, sel, v[i])
        }</span>

        <span class="cov0" title="0">for _, e := range ret </span><span class="cov0" title="0">{
                if e == graphql.Null </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
        }

        <span class="cov0" title="0">return ret</span>
}

func (ec *executionContext) marshalN_Entity2·öïgithub·öócom·öã99designs·öãgqlgen·öãplugin·öãfederation·öãfedruntime·öêEntity(ctx context.Context, sel ast.SelectionSet, v []fedruntime.Entity) graphql.Marshaler <span class="cov0" title="0">{
        ret := make(graphql.Array, len(v))
        var wg sync.WaitGroup
        isLen1 := len(v) == 1
        if !isLen1 </span><span class="cov0" title="0">{
                wg.Add(len(v))
        }</span>
        <span class="cov0" title="0">for i := range v </span><span class="cov0" title="0">{
                i := i
                fc := &amp;graphql.FieldContext{
                        Index:  &amp;i,
                        Result: &amp;v[i],
                }
                ctx := graphql.WithFieldContext(ctx, fc)
                f := func(i int) </span><span class="cov0" title="0">{
                        defer func() </span><span class="cov0" title="0">{
                                if r := recover(); r != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, ec.Recover(ctx, r))
                                        ret = nil
                                }</span>
                        }()
                        <span class="cov0" title="0">if !isLen1 </span><span class="cov0" title="0">{
                                defer wg.Done()
                        }</span>
                        <span class="cov0" title="0">ret[i] = ec.marshalO_Entity2github·öócom·öã99designs·öãgqlgen·öãplugin·öãfederation·öãfedruntime·öêEntity(ctx, sel, v[i])</span>
                }
                <span class="cov0" title="0">if isLen1 </span><span class="cov0" title="0">{
                        f(i)
                }</span> else<span class="cov0" title="0"> {
                        go f(i)
                }</span>

        }
        <span class="cov0" title="0">wg.Wait()

        return ret</span>
}

func (ec *executionContext) unmarshalN_FieldSet2string(ctx context.Context, v interface{}) (string, error) <span class="cov0" title="0">{
        res, err := graphql.UnmarshalString(v)
        return res, graphql.ErrorOnPath(ctx, err)
}</span>

func (ec *executionContext) marshalN_FieldSet2string(ctx context.Context, sel ast.SelectionSet, v string) graphql.Marshaler <span class="cov0" title="0">{
        res := graphql.MarshalString(v)
        if res == graphql.Null </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
        }
        <span class="cov0" title="0">return res</span>
}

func (ec *executionContext) marshalN_Service2github·öócom·öã99designs·öãgqlgen·öãplugin·öãfederation·öãfedruntime·öêService(ctx context.Context, sel ast.SelectionSet, v fedruntime.Service) graphql.Marshaler <span class="cov0" title="0">{
        return ec.__Service(ctx, sel, &amp;v)
}</span>

func (ec *executionContext) marshalN__Directive2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêDirective(ctx context.Context, sel ast.SelectionSet, v introspection.Directive) graphql.Marshaler <span class="cov0" title="0">{
        return ec.___Directive(ctx, sel, &amp;v)
}</span>

func (ec *executionContext) marshalN__Directive2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêDirective·öÑ(ctx context.Context, sel ast.SelectionSet, v []introspection.Directive) graphql.Marshaler <span class="cov0" title="0">{
        ret := make(graphql.Array, len(v))
        var wg sync.WaitGroup
        isLen1 := len(v) == 1
        if !isLen1 </span><span class="cov0" title="0">{
                wg.Add(len(v))
        }</span>
        <span class="cov0" title="0">for i := range v </span><span class="cov0" title="0">{
                i := i
                fc := &amp;graphql.FieldContext{
                        Index:  &amp;i,
                        Result: &amp;v[i],
                }
                ctx := graphql.WithFieldContext(ctx, fc)
                f := func(i int) </span><span class="cov0" title="0">{
                        defer func() </span><span class="cov0" title="0">{
                                if r := recover(); r != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, ec.Recover(ctx, r))
                                        ret = nil
                                }</span>
                        }()
                        <span class="cov0" title="0">if !isLen1 </span><span class="cov0" title="0">{
                                defer wg.Done()
                        }</span>
                        <span class="cov0" title="0">ret[i] = ec.marshalN__Directive2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêDirective(ctx, sel, v[i])</span>
                }
                <span class="cov0" title="0">if isLen1 </span><span class="cov0" title="0">{
                        f(i)
                }</span> else<span class="cov0" title="0"> {
                        go f(i)
                }</span>

        }
        <span class="cov0" title="0">wg.Wait()

        for _, e := range ret </span><span class="cov0" title="0">{
                if e == graphql.Null </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
        }

        <span class="cov0" title="0">return ret</span>
}

func (ec *executionContext) unmarshalN__DirectiveLocation2string(ctx context.Context, v interface{}) (string, error) <span class="cov0" title="0">{
        res, err := graphql.UnmarshalString(v)
        return res, graphql.ErrorOnPath(ctx, err)
}</span>

func (ec *executionContext) marshalN__DirectiveLocation2string(ctx context.Context, sel ast.SelectionSet, v string) graphql.Marshaler <span class="cov0" title="0">{
        res := graphql.MarshalString(v)
        if res == graphql.Null </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
        }
        <span class="cov0" title="0">return res</span>
}

func (ec *executionContext) unmarshalN__DirectiveLocation2·öïstring·öÑ(ctx context.Context, v interface{}) ([]string, error) <span class="cov0" title="0">{
        var vSlice []interface{}
        if v != nil </span><span class="cov0" title="0">{
                vSlice = graphql.CoerceList(v)
        }</span>
        <span class="cov0" title="0">var err error
        res := make([]string, len(vSlice))
        for i := range vSlice </span><span class="cov0" title="0">{
                ctx := graphql.WithPathContext(ctx, graphql.NewPathWithIndex(i))
                res[i], err = ec.unmarshalN__DirectiveLocation2string(ctx, vSlice[i])
                if err != nil </span><span class="cov0" title="0">{
                        return nil, err
                }</span>
        }
        <span class="cov0" title="0">return res, nil</span>
}

func (ec *executionContext) marshalN__DirectiveLocation2·öïstring·öÑ(ctx context.Context, sel ast.SelectionSet, v []string) graphql.Marshaler <span class="cov0" title="0">{
        ret := make(graphql.Array, len(v))
        var wg sync.WaitGroup
        isLen1 := len(v) == 1
        if !isLen1 </span><span class="cov0" title="0">{
                wg.Add(len(v))
        }</span>
        <span class="cov0" title="0">for i := range v </span><span class="cov0" title="0">{
                i := i
                fc := &amp;graphql.FieldContext{
                        Index:  &amp;i,
                        Result: &amp;v[i],
                }
                ctx := graphql.WithFieldContext(ctx, fc)
                f := func(i int) </span><span class="cov0" title="0">{
                        defer func() </span><span class="cov0" title="0">{
                                if r := recover(); r != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, ec.Recover(ctx, r))
                                        ret = nil
                                }</span>
                        }()
                        <span class="cov0" title="0">if !isLen1 </span><span class="cov0" title="0">{
                                defer wg.Done()
                        }</span>
                        <span class="cov0" title="0">ret[i] = ec.marshalN__DirectiveLocation2string(ctx, sel, v[i])</span>
                }
                <span class="cov0" title="0">if isLen1 </span><span class="cov0" title="0">{
                        f(i)
                }</span> else<span class="cov0" title="0"> {
                        go f(i)
                }</span>

        }
        <span class="cov0" title="0">wg.Wait()

        for _, e := range ret </span><span class="cov0" title="0">{
                if e == graphql.Null </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
        }

        <span class="cov0" title="0">return ret</span>
}

func (ec *executionContext) marshalN__EnumValue2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêEnumValue(ctx context.Context, sel ast.SelectionSet, v introspection.EnumValue) graphql.Marshaler <span class="cov0" title="0">{
        return ec.___EnumValue(ctx, sel, &amp;v)
}</span>

func (ec *executionContext) marshalN__Field2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêField(ctx context.Context, sel ast.SelectionSet, v introspection.Field) graphql.Marshaler <span class="cov0" title="0">{
        return ec.___Field(ctx, sel, &amp;v)
}</span>

func (ec *executionContext) marshalN__InputValue2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêInputValue(ctx context.Context, sel ast.SelectionSet, v introspection.InputValue) graphql.Marshaler <span class="cov0" title="0">{
        return ec.___InputValue(ctx, sel, &amp;v)
}</span>

func (ec *executionContext) marshalN__InputValue2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêInputValue·öÑ(ctx context.Context, sel ast.SelectionSet, v []introspection.InputValue) graphql.Marshaler <span class="cov0" title="0">{
        ret := make(graphql.Array, len(v))
        var wg sync.WaitGroup
        isLen1 := len(v) == 1
        if !isLen1 </span><span class="cov0" title="0">{
                wg.Add(len(v))
        }</span>
        <span class="cov0" title="0">for i := range v </span><span class="cov0" title="0">{
                i := i
                fc := &amp;graphql.FieldContext{
                        Index:  &amp;i,
                        Result: &amp;v[i],
                }
                ctx := graphql.WithFieldContext(ctx, fc)
                f := func(i int) </span><span class="cov0" title="0">{
                        defer func() </span><span class="cov0" title="0">{
                                if r := recover(); r != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, ec.Recover(ctx, r))
                                        ret = nil
                                }</span>
                        }()
                        <span class="cov0" title="0">if !isLen1 </span><span class="cov0" title="0">{
                                defer wg.Done()
                        }</span>
                        <span class="cov0" title="0">ret[i] = ec.marshalN__InputValue2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêInputValue(ctx, sel, v[i])</span>
                }
                <span class="cov0" title="0">if isLen1 </span><span class="cov0" title="0">{
                        f(i)
                }</span> else<span class="cov0" title="0"> {
                        go f(i)
                }</span>

        }
        <span class="cov0" title="0">wg.Wait()

        for _, e := range ret </span><span class="cov0" title="0">{
                if e == graphql.Null </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
        }

        <span class="cov0" title="0">return ret</span>
}

func (ec *executionContext) marshalN__Type2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx context.Context, sel ast.SelectionSet, v introspection.Type) graphql.Marshaler <span class="cov0" title="0">{
        return ec.___Type(ctx, sel, &amp;v)
}</span>

func (ec *executionContext) marshalN__Type2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType·öÑ(ctx context.Context, sel ast.SelectionSet, v []introspection.Type) graphql.Marshaler <span class="cov0" title="0">{
        ret := make(graphql.Array, len(v))
        var wg sync.WaitGroup
        isLen1 := len(v) == 1
        if !isLen1 </span><span class="cov0" title="0">{
                wg.Add(len(v))
        }</span>
        <span class="cov0" title="0">for i := range v </span><span class="cov0" title="0">{
                i := i
                fc := &amp;graphql.FieldContext{
                        Index:  &amp;i,
                        Result: &amp;v[i],
                }
                ctx := graphql.WithFieldContext(ctx, fc)
                f := func(i int) </span><span class="cov0" title="0">{
                        defer func() </span><span class="cov0" title="0">{
                                if r := recover(); r != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, ec.Recover(ctx, r))
                                        ret = nil
                                }</span>
                        }()
                        <span class="cov0" title="0">if !isLen1 </span><span class="cov0" title="0">{
                                defer wg.Done()
                        }</span>
                        <span class="cov0" title="0">ret[i] = ec.marshalN__Type2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx, sel, v[i])</span>
                }
                <span class="cov0" title="0">if isLen1 </span><span class="cov0" title="0">{
                        f(i)
                }</span> else<span class="cov0" title="0"> {
                        go f(i)
                }</span>

        }
        <span class="cov0" title="0">wg.Wait()

        for _, e := range ret </span><span class="cov0" title="0">{
                if e == graphql.Null </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
        }

        <span class="cov0" title="0">return ret</span>
}

func (ec *executionContext) marshalN__Type2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx context.Context, sel ast.SelectionSet, v *introspection.Type) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
                <span class="cov0" title="0">return graphql.Null</span>
        }
        <span class="cov0" title="0">return ec.___Type(ctx, sel, v)</span>
}

func (ec *executionContext) unmarshalN__TypeKind2string(ctx context.Context, v interface{}) (string, error) <span class="cov0" title="0">{
        res, err := graphql.UnmarshalString(v)
        return res, graphql.ErrorOnPath(ctx, err)
}</span>

func (ec *executionContext) marshalN__TypeKind2string(ctx context.Context, sel ast.SelectionSet, v string) graphql.Marshaler <span class="cov0" title="0">{
        res := graphql.MarshalString(v)
        if res == graphql.Null </span><span class="cov0" title="0">{
                if !graphql.HasFieldError(ctx, graphql.GetFieldContext(ctx)) </span><span class="cov0" title="0">{
                        ec.Errorf(ctx, "the requested element is null which the schema does not allow")
                }</span>
        }
        <span class="cov0" title="0">return res</span>
}

func (ec *executionContext) marshalOArticle2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêArticle(ctx context.Context, sel ast.SelectionSet, v *Article) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">return ec._Article(ctx, sel, v)</span>
}

func (ec *executionContext) unmarshalOBoolean2bool(ctx context.Context, v interface{}) (bool, error) <span class="cov0" title="0">{
        res, err := graphql.UnmarshalBoolean(v)
        return res, graphql.ErrorOnPath(ctx, err)
}</span>

func (ec *executionContext) marshalOBoolean2bool(ctx context.Context, sel ast.SelectionSet, v bool) graphql.Marshaler <span class="cov0" title="0">{
        res := graphql.MarshalBoolean(v)
        return res
}</span>

func (ec *executionContext) unmarshalOBoolean2·öñbool(ctx context.Context, v interface{}) (*bool, error) <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return nil, nil
        }</span>
        <span class="cov0" title="0">res, err := graphql.UnmarshalBoolean(v)
        return &amp;res, graphql.ErrorOnPath(ctx, err)</span>
}

func (ec *executionContext) marshalOBoolean2·öñbool(ctx context.Context, sel ast.SelectionSet, v *bool) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := graphql.MarshalBoolean(*v)
        return res</span>
}

func (ec *executionContext) marshalOOrder2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêOrder(ctx context.Context, sel ast.SelectionSet, v *Order) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">return ec._Order(ctx, sel, v)</span>
}

func (ec *executionContext) unmarshalOString2string(ctx context.Context, v interface{}) (string, error) <span class="cov0" title="0">{
        res, err := graphql.UnmarshalString(v)
        return res, graphql.ErrorOnPath(ctx, err)
}</span>

func (ec *executionContext) marshalOString2string(ctx context.Context, sel ast.SelectionSet, v string) graphql.Marshaler <span class="cov0" title="0">{
        res := graphql.MarshalString(v)
        return res
}</span>

func (ec *executionContext) unmarshalOString2·öñstring(ctx context.Context, v interface{}) (*string, error) <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return nil, nil
        }</span>
        <span class="cov0" title="0">res, err := graphql.UnmarshalString(v)
        return &amp;res, graphql.ErrorOnPath(ctx, err)</span>
}

func (ec *executionContext) marshalOString2·öñstring(ctx context.Context, sel ast.SelectionSet, v *string) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">res := graphql.MarshalString(*v)
        return res</span>
}

func (ec *executionContext) marshalOUser2·öñgithub·öócom·öãnmarsollier·öãcartgo·öãgraph·öãmodel·öêUser(ctx context.Context, sel ast.SelectionSet, v *User) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">return ec._User(ctx, sel, v)</span>
}

func (ec *executionContext) marshalO_Entity2github·öócom·öã99designs·öãgqlgen·öãplugin·öãfederation·öãfedruntime·öêEntity(ctx context.Context, sel ast.SelectionSet, v fedruntime.Entity) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">return ec.__Entity(ctx, sel, v)</span>
}

func (ec *executionContext) marshalO__EnumValue2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêEnumValue·öÑ(ctx context.Context, sel ast.SelectionSet, v []introspection.EnumValue) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ret := make(graphql.Array, len(v))
        var wg sync.WaitGroup
        isLen1 := len(v) == 1
        if !isLen1 </span><span class="cov0" title="0">{
                wg.Add(len(v))
        }</span>
        <span class="cov0" title="0">for i := range v </span><span class="cov0" title="0">{
                i := i
                fc := &amp;graphql.FieldContext{
                        Index:  &amp;i,
                        Result: &amp;v[i],
                }
                ctx := graphql.WithFieldContext(ctx, fc)
                f := func(i int) </span><span class="cov0" title="0">{
                        defer func() </span><span class="cov0" title="0">{
                                if r := recover(); r != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, ec.Recover(ctx, r))
                                        ret = nil
                                }</span>
                        }()
                        <span class="cov0" title="0">if !isLen1 </span><span class="cov0" title="0">{
                                defer wg.Done()
                        }</span>
                        <span class="cov0" title="0">ret[i] = ec.marshalN__EnumValue2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêEnumValue(ctx, sel, v[i])</span>
                }
                <span class="cov0" title="0">if isLen1 </span><span class="cov0" title="0">{
                        f(i)
                }</span> else<span class="cov0" title="0"> {
                        go f(i)
                }</span>

        }
        <span class="cov0" title="0">wg.Wait()

        for _, e := range ret </span><span class="cov0" title="0">{
                if e == graphql.Null </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
        }

        <span class="cov0" title="0">return ret</span>
}

func (ec *executionContext) marshalO__Field2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêField·öÑ(ctx context.Context, sel ast.SelectionSet, v []introspection.Field) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ret := make(graphql.Array, len(v))
        var wg sync.WaitGroup
        isLen1 := len(v) == 1
        if !isLen1 </span><span class="cov0" title="0">{
                wg.Add(len(v))
        }</span>
        <span class="cov0" title="0">for i := range v </span><span class="cov0" title="0">{
                i := i
                fc := &amp;graphql.FieldContext{
                        Index:  &amp;i,
                        Result: &amp;v[i],
                }
                ctx := graphql.WithFieldContext(ctx, fc)
                f := func(i int) </span><span class="cov0" title="0">{
                        defer func() </span><span class="cov0" title="0">{
                                if r := recover(); r != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, ec.Recover(ctx, r))
                                        ret = nil
                                }</span>
                        }()
                        <span class="cov0" title="0">if !isLen1 </span><span class="cov0" title="0">{
                                defer wg.Done()
                        }</span>
                        <span class="cov0" title="0">ret[i] = ec.marshalN__Field2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêField(ctx, sel, v[i])</span>
                }
                <span class="cov0" title="0">if isLen1 </span><span class="cov0" title="0">{
                        f(i)
                }</span> else<span class="cov0" title="0"> {
                        go f(i)
                }</span>

        }
        <span class="cov0" title="0">wg.Wait()

        for _, e := range ret </span><span class="cov0" title="0">{
                if e == graphql.Null </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
        }

        <span class="cov0" title="0">return ret</span>
}

func (ec *executionContext) marshalO__InputValue2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêInputValue·öÑ(ctx context.Context, sel ast.SelectionSet, v []introspection.InputValue) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ret := make(graphql.Array, len(v))
        var wg sync.WaitGroup
        isLen1 := len(v) == 1
        if !isLen1 </span><span class="cov0" title="0">{
                wg.Add(len(v))
        }</span>
        <span class="cov0" title="0">for i := range v </span><span class="cov0" title="0">{
                i := i
                fc := &amp;graphql.FieldContext{
                        Index:  &amp;i,
                        Result: &amp;v[i],
                }
                ctx := graphql.WithFieldContext(ctx, fc)
                f := func(i int) </span><span class="cov0" title="0">{
                        defer func() </span><span class="cov0" title="0">{
                                if r := recover(); r != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, ec.Recover(ctx, r))
                                        ret = nil
                                }</span>
                        }()
                        <span class="cov0" title="0">if !isLen1 </span><span class="cov0" title="0">{
                                defer wg.Done()
                        }</span>
                        <span class="cov0" title="0">ret[i] = ec.marshalN__InputValue2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêInputValue(ctx, sel, v[i])</span>
                }
                <span class="cov0" title="0">if isLen1 </span><span class="cov0" title="0">{
                        f(i)
                }</span> else<span class="cov0" title="0"> {
                        go f(i)
                }</span>

        }
        <span class="cov0" title="0">wg.Wait()

        for _, e := range ret </span><span class="cov0" title="0">{
                if e == graphql.Null </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
        }

        <span class="cov0" title="0">return ret</span>
}

func (ec *executionContext) marshalO__Schema2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêSchema(ctx context.Context, sel ast.SelectionSet, v *introspection.Schema) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">return ec.___Schema(ctx, sel, v)</span>
}

func (ec *executionContext) marshalO__Type2·öïgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType·öÑ(ctx context.Context, sel ast.SelectionSet, v []introspection.Type) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">ret := make(graphql.Array, len(v))
        var wg sync.WaitGroup
        isLen1 := len(v) == 1
        if !isLen1 </span><span class="cov0" title="0">{
                wg.Add(len(v))
        }</span>
        <span class="cov0" title="0">for i := range v </span><span class="cov0" title="0">{
                i := i
                fc := &amp;graphql.FieldContext{
                        Index:  &amp;i,
                        Result: &amp;v[i],
                }
                ctx := graphql.WithFieldContext(ctx, fc)
                f := func(i int) </span><span class="cov0" title="0">{
                        defer func() </span><span class="cov0" title="0">{
                                if r := recover(); r != nil </span><span class="cov0" title="0">{
                                        ec.Error(ctx, ec.Recover(ctx, r))
                                        ret = nil
                                }</span>
                        }()
                        <span class="cov0" title="0">if !isLen1 </span><span class="cov0" title="0">{
                                defer wg.Done()
                        }</span>
                        <span class="cov0" title="0">ret[i] = ec.marshalN__Type2github·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx, sel, v[i])</span>
                }
                <span class="cov0" title="0">if isLen1 </span><span class="cov0" title="0">{
                        f(i)
                }</span> else<span class="cov0" title="0"> {
                        go f(i)
                }</span>

        }
        <span class="cov0" title="0">wg.Wait()

        for _, e := range ret </span><span class="cov0" title="0">{
                if e == graphql.Null </span><span class="cov0" title="0">{
                        return graphql.Null
                }</span>
        }

        <span class="cov0" title="0">return ret</span>
}

func (ec *executionContext) marshalO__Type2·öñgithub·öócom·öã99designs·öãgqlgen·öãgraphql·öãintrospection·öêType(ctx context.Context, sel ast.SelectionSet, v *introspection.Type) graphql.Marshaler <span class="cov0" title="0">{
        if v == nil </span><span class="cov0" title="0">{
                return graphql.Null
        }</span>
        <span class="cov0" title="0">return ec.___Type(ctx, sel, v)</span>
}

// endregion ***************************** type.gotpl *****************************
</pre>
		
		<pre class="file" id="file16" style="display: none">package resolvers

import (
        "context"

        "github.com/nmarsollier/cartgo/graph/tools"
        "github.com/nmarsollier/cartgo/services"
)

func AddArticle(ctx context.Context, articleID string, quantity int) (bool, error) <span class="cov0" title="0">{
        user, err := tools.ValidateLoggedIn(ctx)
        if err != nil </span><span class="cov0" title="0">{
                return false, err
        }</span>

        <span class="cov0" title="0">env := tools.GqlCtx(ctx)

        _, err = services.AddArticle(user.ID, articleID, quantity, env...)
        if err != nil </span><span class="cov0" title="0">{
                return false, err
        }</span>

        <span class="cov0" title="0">return true, nil</span>
}
</pre>
		
		<pre class="file" id="file17" style="display: none">package resolvers

import (
        "context"

        "github.com/nmarsollier/cartgo/graph/tools"
        "github.com/nmarsollier/cartgo/services"
)

func CheckoutResolver(ctx context.Context) (result bool, err error) <span class="cov0" title="0">{
        user, err := tools.ValidateLoggedIn(ctx)
        if err != nil </span><span class="cov0" title="0">{
                return
        }</span>
        <span class="cov0" title="0">tokenString, err := tools.TokenString(ctx)
        if err != nil </span><span class="cov0" title="0">{
                return
        }</span>

        <span class="cov0" title="0">env := tools.GqlCtx(ctx)

        err = services.Checkout(user.ID, tokenString, env...)
        result = err == nil
        return</span>
}
</pre>
		
		<pre class="file" id="file18" style="display: none">package resolvers

import (
        "context"

        "github.com/nmarsollier/cartgo/graph/model"
        "github.com/nmarsollier/cartgo/graph/tools"
        "github.com/nmarsollier/cartgo/services"
)

func CurrentCartResolver(ctx context.Context) (*model.Cart, error) <span class="cov0" title="0">{
        env := tools.GqlCtx(ctx)

        user, err := tools.ValidateLoggedIn(ctx)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">cart, err := services.GetCurrentCart(user.ID, env...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">return cartToModel(cart), nil</span>
}
</pre>
		
		<pre class="file" id="file19" style="display: none">package resolvers

import (
        "context"

        "github.com/nmarsollier/cartgo/graph/tools"
        "github.com/nmarsollier/cartgo/services"
)

func DecrementArticleResolver(ctx context.Context, articleID string) (bool, error) <span class="cov0" title="0">{
        user, err := tools.ValidateLoggedIn(ctx)
        if err != nil </span><span class="cov0" title="0">{
                return false, err
        }</span>

        <span class="cov0" title="0">env := tools.GqlCtx(ctx)

        _, err = services.AddArticle(user.ID, articleID, -1, env...)
        if err != nil </span><span class="cov0" title="0">{
                return false, err
        }</span>

        <span class="cov0" title="0">return true, nil</span>
}
</pre>
		
		<pre class="file" id="file20" style="display: none">package resolvers

import (
        "context"

        "github.com/nmarsollier/cartgo/graph/model"
        "github.com/nmarsollier/cartgo/graph/tools"
        "github.com/nmarsollier/cartgo/services"
)

func FindCartById(ctx context.Context, id string) (*model.Cart, error) <span class="cov0" title="0">{
        env := tools.GqlCtx(ctx)

        _, err := tools.ValidateLoggedIn(ctx)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">cart, err := services.FindCartById(id, env...)

        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">return cartToModel(cart), nil</span>
}
</pre>
		
		<pre class="file" id="file21" style="display: none">package resolvers

import (
        "context"

        "github.com/nmarsollier/cartgo/graph/tools"
        "github.com/nmarsollier/cartgo/services"
)

func IncrementArticleResolver(ctx context.Context, articleID string) (bool, error) <span class="cov0" title="0">{
        user, err := tools.ValidateLoggedIn(ctx)
        if err != nil </span><span class="cov0" title="0">{
                return false, err
        }</span>

        <span class="cov0" title="0">env := tools.GqlCtx(ctx)

        _, err = services.AddArticle(user.ID, articleID, 1, env...)
        if err != nil </span><span class="cov0" title="0">{
                return false, err
        }</span>

        <span class="cov0" title="0">return true, nil</span>
}
</pre>
		
		<pre class="file" id="file22" style="display: none">package resolvers

import (
        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/graph/model"
)

func cartToModel(cart *cart.Cart) *model.Cart <span class="cov0" title="0">{
        var Order *model.Order
        if cart.OrderId != "" </span><span class="cov0" title="0">{
                Order = &amp;model.Order{ID: cart.OrderId}
        }</span>

        <span class="cov0" title="0">var User *model.User
        if cart.UserId != "" </span><span class="cov0" title="0">{
                User = &amp;model.User{ID: cart.UserId}
        }</span>

        <span class="cov0" title="0">return &amp;model.Cart{
                ID:       cart.ID,
                UserID:   cart.UserId,
                User:     User,
                OrderID:  &amp;cart.OrderId,
                Order:    Order,
                Articles: articlesToModel(cart.Articles),
                Enabled:  cart.Enabled,
        }</span>
}

func articlesToModel(articles []*cart.Article) []*model.CartArticle <span class="cov0" title="0">{
        result := make([]*model.CartArticle, len(articles))
        for i, a := range articles </span><span class="cov0" title="0">{
                var Article *model.Article
                if a.ArticleId != "" &amp;&amp; a.Valid </span><span class="cov0" title="0">{
                        Article = &amp;model.Article{ID: a.ArticleId}
                }</span>

                <span class="cov0" title="0">result[i] = &amp;model.CartArticle{
                        ArticleID: a.ArticleId,
                        Article:   Article,
                        Quantity:  a.Quantity,
                        Valid:     a.Valid,
                        Validated: a.Validated,
                }</span>
        }
        <span class="cov0" title="0">return result</span>
}
</pre>
		
		<pre class="file" id="file23" style="display: none">package resolvers

import (
        "context"

        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/graph/tools"
)

func RemoveArticleResolver(ctx context.Context, articleID string) (bool, error) <span class="cov0" title="0">{
        user, err := tools.ValidateLoggedIn(ctx)
        if err != nil </span><span class="cov0" title="0">{
                return false, err
        }</span>

        <span class="cov0" title="0">env := tools.GqlCtx(ctx)

        _, err = cart.RemoveArticle(user.ID, articleID, env...)
        if err != nil </span><span class="cov0" title="0">{
                return false, err
        }</span>

        <span class="cov0" title="0">return true, nil</span>
}
</pre>
		
		<pre class="file" id="file24" style="display: none">package resolvers

import (
        "context"

        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/graph/tools"
        "github.com/nmarsollier/cartgo/services"
)

func ValidateCartResolver(ctx context.Context) (bool, error) <span class="cov0" title="0">{
        user, err := tools.ValidateLoggedIn(ctx)
        if err != nil </span><span class="cov0" title="0">{
                return false, err
        }</span>
        <span class="cov0" title="0">token, err := tools.TokenString(ctx)

        env := tools.GqlCtx(ctx)

        currentCart, err := cart.CurrentCart(user.ID, env...)
        if err != nil </span><span class="cov0" title="0">{
                return false, err

        }</span>

        <span class="cov0" title="0">err = services.ValidateCheckout(currentCart, token, env...)
        if err != nil </span><span class="cov0" title="0">{
                return false, err

        }</span>

        <span class="cov0" title="0">return true, nil</span>
}
</pre>
		
		<pre class="file" id="file25" style="display: none">package graph

// This file will be automatically regenerated based on the schema, any resolver implementations
// will be copied through when generating and any unknown code will be moved to the end.
// Code generated by github.com/99designs/gqlgen version v0.17.56

import (
        "context"

        "github.com/nmarsollier/cartgo/graph/model"
        "github.com/nmarsollier/cartgo/graph/resolvers"
)

// ValidateCart is the resolver for the validateCart field.
func (r *mutationResolver) ValidateCart(ctx context.Context) (bool, error) <span class="cov0" title="0">{
        return resolvers.ValidateCartResolver(ctx)
}</span>

// DecrementArticle is the resolver for the decrementArticle field.
func (r *mutationResolver) DecrementArticle(ctx context.Context, articleID string) (bool, error) <span class="cov0" title="0">{
        return resolvers.DecrementArticleResolver(ctx, articleID)
}</span>

// IncrementArticle is the resolver for the incrementArticle field.
func (r *mutationResolver) IncrementArticle(ctx context.Context, articleID string) (bool, error) <span class="cov0" title="0">{
        return resolvers.IncrementArticleResolver(ctx, articleID)
}</span>

// RemoveArticle is the resolver for the removeArticle field.
func (r *mutationResolver) RemoveArticle(ctx context.Context, articleID string) (bool, error) <span class="cov0" title="0">{
        return resolvers.RemoveArticleResolver(ctx, articleID)
}</span>

// AddArticle is the resolver for the addArticle field.
func (r *mutationResolver) AddArticle(ctx context.Context, articleID string, quantity int) (bool, error) <span class="cov0" title="0">{
        return resolvers.AddArticle(ctx, articleID, quantity)
}</span>

// Checkout is the resolver for the checkout field.
func (r *mutationResolver) Checkout(ctx context.Context) (bool, error) <span class="cov0" title="0">{
        return resolvers.CheckoutResolver(ctx)
}</span>

// CurrentCart is the resolver for the currentCart field.
func (r *queryResolver) CurrentCart(ctx context.Context) (*model.Cart, error) <span class="cov0" title="0">{
        return resolvers.CurrentCartResolver(ctx)
}</span>

// Mutation returns model.MutationResolver implementation.
func (r *Resolver) Mutation() model.MutationResolver <span class="cov0" title="0">{ return &amp;mutationResolver{r} }</span>

// Query returns model.QueryResolver implementation.
func (r *Resolver) Query() model.QueryResolver <span class="cov0" title="0">{ return &amp;queryResolver{r} }</span>

type mutationResolver struct{ *Resolver }
type queryResolver struct{ *Resolver }
</pre>
		
		<pre class="file" id="file26" style="display: none">package server

import (
        "fmt"
        "net/http"

        "github.com/99designs/gqlgen/graphql/handler"
        "github.com/99designs/gqlgen/graphql/playground"
        "github.com/nmarsollier/cartgo/graph"
        "github.com/nmarsollier/cartgo/graph/model"
        "github.com/nmarsollier/cartgo/tools/env"
        "github.com/nmarsollier/cartgo/tools/log"
)

func Start() <span class="cov0" title="0">{
        logger := log.Get()
        port := env.Get().GqlPort
        srv := handler.NewDefaultServer(model.NewExecutableSchema(model.Config{Resolvers: &amp;graph.Resolver{}}))

        http.Handle("/", playground.Handler("GraphQL playground", "/query"))
        http.Handle("/query", srv)

        logger.Info("GraphQL playground on port : ", port)
        logger.Error(http.ListenAndServe(fmt.Sprintf(":%d", env.Get().GqlPort), nil))
}</span>
</pre>
		
		<pre class="file" id="file27" style="display: none">package tools

import (
        "context"
        "strings"

        "github.com/99designs/gqlgen/graphql"
        "github.com/nmarsollier/cartgo/security"
        "github.com/nmarsollier/cartgo/tools/errs"
)

func ValidateLoggedIn(ctx context.Context) (*security.User, error) <span class="cov0" title="0">{
        env := GqlCtx(ctx)

        tokenString, err := TokenString(ctx)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">user, err := security.Validate(tokenString, env...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>
        <span class="cov0" title="0">return user, nil</span>
}

// HeaderToken Token data from Authorization header
func TokenString(ctx context.Context) (string, error) <span class="cov0" title="0">{
        operationContext := graphql.GetOperationContext(ctx)
        tokenString := operationContext.Headers.Get("Authorization")

        if strings.Index(strings.ToUpper(tokenString), "BEARER ") == 0 </span><span class="cov0" title="0">{
                tokenString = tokenString[7:]
        }</span> else<span class="cov0" title="0"> {
                return "", errs.Unauthorized
        }</span>

        <span class="cov0" title="0">return tokenString, nil</span>
}
</pre>
		
		<pre class="file" id="file28" style="display: none">package tools

import (
        "context"
)

func GqlCtx(c context.Context) []interface{} <span class="cov0" title="0">{

        var ctx []interface{}

        ctx = append(ctx, gqlLogger(c))

        return ctx
}</span>
</pre>
		
		<pre class="file" id="file29" style="display: none">package tools

import (
        "context"

        "github.com/99designs/gqlgen/graphql"
        "github.com/nmarsollier/cartgo/tools/log"
        uuid "github.com/satori/go.uuid"
)

func newLogger(ctx context.Context, deps ...interface{}) log.LogRusEntry <span class="cov0" title="0">{
        operationContext := graphql.GetOperationContext(ctx)

        return log.Get(deps...).
                WithField(log.LOG_FIELD_CORRELATION_ID, getCorrelationId(ctx)).
                WithField(log.LOG_FIELD_CONTROLLER, "Rest").
                WithField(log.LOG_FIELD_HTTP_METHOD, operationContext.OperationName).
                WithField(log.LOG_FIELD_HTTP_PATH, operationContext.OperationName)
}</span>

func gqlLogger(ctx context.Context) log.LogRusEntry <span class="cov0" title="0">{
        operationContext := graphql.GetOperationContext(ctx)

        logger, exist := operationContext.Variables["logger"]
        if !exist </span><span class="cov0" title="0">{
                return newLogger(ctx)
        }</span>
        <span class="cov0" title="0">return logger.(log.LogRusEntry)</span>
}

func getCorrelationId(ctx context.Context) string <span class="cov0" title="0">{
        operationContext := graphql.GetOperationContext(ctx)
        value := operationContext.Headers.Get("Authorization")

        if len(value) == 0 </span><span class="cov0" title="0">{
                value = uuid.NewV4().String()
        }</span>

        <span class="cov0" title="0">return value</span>
}
</pre>
		
		<pre class="file" id="file30" style="display: none">package main

import (
        "github.com/nmarsollier/cartgo/graph/server"
        "github.com/nmarsollier/cartgo/rabbit/consume"
        routes "github.com/nmarsollier/cartgo/rest"
)

//        @title                        CartGo
//        @version                1.0
//        @description        Microservicio de Carrito.
//        @contact.name        Nestor Marsollier
//        @contact.email        nmarsollier@gmail.com
//
//        @host                        localhost:3003
//        @BasePath                /v1
//
// Main Method
func main() <span class="cov0" title="0">{
        go server.Start()

        consume.Init()
        routes.Start()
}</span>
</pre>
		
		<pre class="file" id="file31" style="display: none">package consume

import (
        "encoding/json"

        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/tools/env"
        "github.com/nmarsollier/cartgo/tools/log"
        "github.com/nmarsollier/cartgo/tools/strs"
        uuid "github.com/satori/go.uuid"
        "github.com/streadway/amqp"
)

//        @Summary                Mensage Rabbit article_exist/cart_article_exist
//        @Description        Luego de solicitar validaciones de catalogo, Escucha article_exist/cart_article_exist.
//        @Tags                        Rabbit
//        @Accept                        json
//        @Produce                json
//        @Param                        type        body        consumeArticleExistMessage        true        "Mensaje"
//        @Router                        /rabbit/article_exist [get]
//
// Validar Art√≠culos
func consumeArticleExist() error <span class="cov0" title="0">{
        logger := log.Get().
                WithField(log.LOG_FIELD_CONTROLLER, "Rabbit").
                WithField(log.LOG_FIELD_RABBIT_QUEUE, "cart_article_exist").
                WithField(log.LOG_FIELD_RABBIT_EXCHANGE, "article_exist").
                WithField(log.LOG_FIELD_RABBIT_ACTION, "Consume")

        conn, err := amqp.Dial(env.Get().RabbitURL)
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>
        <span class="cov0" title="0">defer conn.Close()

        chn, err := conn.Channel()
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>
        <span class="cov0" title="0">defer chn.Close()

        err = chn.ExchangeDeclare(
                "article_exist", // name
                "direct",        // type
                false,           // durable
                false,           // auto-deleted
                false,           // internal
                false,           // no-wait
                nil,             // arguments
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">queue, err := chn.QueueDeclare(
                "cart_article_exist", // name
                false,                // durable
                false,                // delete when unused
                false,                // exclusive
                false,                // no-wait
                nil,                  // arguments
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">err = chn.QueueBind(
                queue.Name,           // queue name
                "cart_article_exist", // routing key
                "article_exist",      // exchange
                false,
                nil)
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">mgs, err := chn.Consume(
                queue.Name, // queue
                "",         // consumer
                false,      // auto-ack
                false,      // exclusive
                false,      // no-local
                false,      // no-wait
                nil,        // args
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">go func() </span><span class="cov0" title="0">{
                for d := range mgs </span><span class="cov0" title="0">{
                        newMessage := &amp;consumeArticleExistMessage{}
                        body := d.Body

                        err = json.Unmarshal(body, newMessage)
                        if err == nil </span><span class="cov0" title="0">{
                                l := logger.WithField(log.LOG_FIELD_CORRELATION_ID, getArticleExistCorrelationId(newMessage))
                                l.Info("Incoming article_exist :", string(body))

                                processArticleExist(newMessage, l)

                                if err := d.Ack(false); err != nil </span><span class="cov0" title="0">{
                                        l.Info("Failed ACK article_exist :", strs.ToJson(newMessage), err)
                                }</span> else<span class="cov0" title="0"> {
                                        l.Info("Consumed article_exist :", strs.ToJson(newMessage))
                                }</span>
                        } else<span class="cov0" title="0"> {
                                logger.Error(err)
                        }</span>
                }
        }()

        <span class="cov0" title="0">logger.Info("Closed connection: ", &lt;-conn.NotifyClose(make(chan *amqp.Error)))

        return nil</span>
}

func processArticleExist(newMessage *consumeArticleExistMessage, deps ...interface{}) <span class="cov0" title="0">{
        data := newMessage.Message

        err := cart.ProcessArticleData(data, deps...)
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>
}

type consumeArticleExistMessage struct {
        CorrelationId string `json:"correlation_id" example:"123123" `
        Message       *cart.ValidationEvent
}

func getArticleExistCorrelationId(c *consumeArticleExistMessage) string <span class="cov0" title="0">{
        value := c.CorrelationId

        if len(value) == 0 </span><span class="cov0" title="0">{
                value = uuid.NewV4().String()
        }</span>

        <span class="cov0" title="0">return value</span>
}
</pre>
		
		<pre class="file" id="file32" style="display: none">package consume

import (
        "encoding/json"

        "github.com/nmarsollier/cartgo/security"
        "github.com/nmarsollier/cartgo/tools/env"
        "github.com/nmarsollier/cartgo/tools/log"
        "github.com/nmarsollier/cartgo/tools/strs"
        uuid "github.com/satori/go.uuid"
        "github.com/streadway/amqp"
)

//        @Summary                Mensage Rabbit logout
//        @Description        Escucha de mensajes logout desde auth.
//        @Tags                        Rabbit
//        @Accept                        json
//        @Produce                json
//        @Param                        body        body        logoutMessage        true        "Estructura general del mensage"
//        @Router                        /rabbit/logout [get]
//
// Escucha de mensajes logout desde auth.
func consumeLogout() error <span class="cov0" title="0">{
        logger := log.Get().
                WithField(log.LOG_FIELD_CONTROLLER, "Rabbit").
                WithField(log.LOG_FIELD_RABBIT_QUEUE, "logout").
                WithField(log.LOG_FIELD_RABBIT_EXCHANGE, "auth").
                WithField(log.LOG_FIELD_RABBIT_ACTION, "Consume")

        conn, err := amqp.Dial(env.Get().RabbitURL)
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>
        <span class="cov0" title="0">defer conn.Close()

        chn, err := conn.Channel()
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>
        <span class="cov0" title="0">defer chn.Close()

        err = chn.ExchangeDeclare(
                "auth",   // name
                "fanout", // type
                false,    // durable
                false,    // auto-deleted
                false,    // internal
                false,    // no-wait
                nil,      // arguments
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">queue, err := chn.QueueDeclare(
                "",    // name
                false, // durable
                false, // delete when unused
                false, // exclusive
                false, // no-wait
                nil,   // arguments
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">err = chn.QueueBind(
                queue.Name, // queue name
                "",         // routing key
                "auth",     // exchange
                false,
                nil)
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">mgs, err := chn.Consume(
                queue.Name, // queue
                "",         // consumer
                true,       // auto-ack
                false,      // exclusive
                false,      // no-local
                false,      // no-wait
                nil,        // args
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">go func() </span><span class="cov0" title="0">{
                for d := range mgs </span><span class="cov0" title="0">{
                        newMessage := &amp;logoutMessage{}
                        body := d.Body

                        err = json.Unmarshal(body, newMessage)
                        if err == nil </span><span class="cov0" title="0">{
                                l := logger.WithField(log.LOG_FIELD_CORRELATION_ID, getLogoutCorrelationId(newMessage))
                                l.Info("Incoming logout :", string(body))

                                security.Invalidate(newMessage.Message, l)
                                l.Info("Consumed :", strs.ToJson(newMessage))

                        }</span> else<span class="cov0" title="0"> {
                                logger.Error(err)
                        }</span>
                }
        }()

        <span class="cov0" title="0">logger.Info("Closed connection: ", &lt;-conn.NotifyClose(make(chan *amqp.Error)))

        return nil</span>
}

type logoutMessage struct {
        CorrelationId string `json:"correlation_id" example:"123123" `
        Message       string `json:"message" example:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbklEIjoiNjZiNjBlYzhlMGYzYzY4OTUzMzJlOWNmIiwidXNlcklEIjoiNjZhZmQ3ZWU4YTBhYjRjZjQ0YTQ3NDcyIn0.who7upBctOpmlVmTvOgH1qFKOHKXmuQCkEjMV3qeySg"`
}

func getLogoutCorrelationId(c *logoutMessage) string <span class="cov0" title="0">{
        value := c.CorrelationId

        if len(value) == 0 </span><span class="cov0" title="0">{
                value = uuid.NewV4().String()
        }</span>

        <span class="cov0" title="0">return value</span>
}
</pre>
		
		<pre class="file" id="file33" style="display: none">package consume

import (
        "encoding/json"

        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/tools/env"
        "github.com/nmarsollier/cartgo/tools/log"
        "github.com/nmarsollier/cartgo/tools/strs"
        uuid "github.com/satori/go.uuid"
        "github.com/streadway/amqp"
)

//        @Summary                Mensage Rabbit order_placed/order_placed
//        @Description        Cuando se recibe order_placed se actualiza el order id del carrito. No se respode a este evento.
//        @Tags                        Rabbit
//        @Accept                        json
//        @Produce                json
//        @Param                        type        body        consumeOrderPlacedMessage        true        "Message order_placed"
//        @Router                        /rabbit/order_placed [get]
//
// Consume Order Placed
func consumeOrderPlaced() error <span class="cov0" title="0">{
        logger := log.Get().
                WithField(log.LOG_FIELD_CONTROLLER, "Rabbit").
                WithField(log.LOG_FIELD_RABBIT_QUEUE, "cart_order_placed").
                WithField(log.LOG_FIELD_RABBIT_EXCHANGE, "order_placed").
                WithField(log.LOG_FIELD_RABBIT_ACTION, "Consume")

        conn, err := amqp.Dial(env.Get().RabbitURL)
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>
        <span class="cov0" title="0">defer conn.Close()

        chn, err := conn.Channel()
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>
        <span class="cov0" title="0">defer chn.Close()

        err = chn.ExchangeDeclare(
                "order_placed", // name
                "fanout",       // type
                false,          // durable
                false,          // auto-deleted
                false,          // internal
                false,          // no-wait
                nil,            // arguments
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">queue, err := chn.QueueDeclare(
                "cart_order_placed", // name
                false,               // durable
                false,               // delete when unused
                false,               // exclusive
                false,               // no-wait
                nil,                 // arguments
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">err = chn.QueueBind(
                queue.Name,     // queue name
                "",             // routing key
                "order_placed", // exchange
                false,
                nil)
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">mgs, err := chn.Consume(
                queue.Name, // queue
                "",         // consumer
                false,      // auto-ack
                false,      // exclusive
                false,      // no-local
                false,      // no-wait
                nil,        // args
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">go func() </span><span class="cov0" title="0">{
                for d := range mgs </span><span class="cov0" title="0">{
                        newMessage := &amp;consumeOrderPlacedMessage{}
                        body := d.Body

                        err = json.Unmarshal(body, newMessage)
                        if err == nil </span><span class="cov0" title="0">{
                                l := logger.WithField(log.LOG_FIELD_CORRELATION_ID, getOrderPlacedCorrelationId(newMessage))
                                l.Info("Incoming order_placed :", string(body))

                                processOrderPlaced(newMessage, l)

                                if err := d.Ack(false); err != nil </span><span class="cov0" title="0">{
                                        l.Info("Failed ACK order_placed : ", strs.ToJson(newMessage), err)
                                }</span> else<span class="cov0" title="0"> {
                                        l.Info("Consumed order_placed :", strs.ToJson(newMessage))
                                }</span>
                        } else<span class="cov0" title="0"> {
                                logger.Error(err)
                        }</span>
                }
        }()

        <span class="cov0" title="0">logger.Info("Closed connection: ", &lt;-conn.NotifyClose(make(chan *amqp.Error)))

        return nil</span>
}

func processOrderPlaced(newMessage *consumeOrderPlacedMessage, deps ...interface{}) <span class="cov0" title="0">{
        data := newMessage.Message

        err := cart.ProcessOrderPlaced(data, deps...)
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return
        }</span>
}

type consumeOrderPlacedMessage struct {
        CorrelationId string `json:"correlation_id" example:"123123" `
        Message       *cart.OrderPlacedEvent
}

func getOrderPlacedCorrelationId(c *consumeOrderPlacedMessage) string <span class="cov0" title="0">{
        value := c.CorrelationId

        if len(value) == 0 </span><span class="cov0" title="0">{
                value = uuid.NewV4().String()
        }</span>

        <span class="cov0" title="0">return value</span>
}
</pre>
		
		<pre class="file" id="file34" style="display: none">package consume

import (
        "time"

        "github.com/nmarsollier/cartgo/tools/log"
)

func Init() <span class="cov0" title="0">{
        logger := log.Get().
                WithField(log.LOG_FIELD_CONTROLLER, "Rabbit").
                WithField(log.LOG_FIELD_RABBIT_ACTION, "Init")

        go func() </span><span class="cov0" title="0">{
                for </span><span class="cov0" title="0">{
                        err := consumeLogout()
                        if err != nil </span><span class="cov0" title="0">{
                                logger.Error(err)
                        }</span>
                        <span class="cov0" title="0">logger.Info("RabbitMQ listenLogout conectando en 5 segundos.")
                        time.Sleep(5 * time.Second)</span>
                }
        }()

        <span class="cov0" title="0">go func() </span><span class="cov0" title="0">{
                for </span><span class="cov0" title="0">{
                        err := consumeArticleExist()
                        if err != nil </span><span class="cov0" title="0">{
                                logger.Error(err)
                        }</span>
                        <span class="cov0" title="0">logger.Info("RabbitMQ consumeCart conectando en 5 segundos.")
                        time.Sleep(5 * time.Second)</span>
                }
        }()

        <span class="cov0" title="0">go func() </span><span class="cov0" title="0">{
                for </span><span class="cov0" title="0">{
                        err := consumeOrderPlaced()
                        if err != nil </span><span class="cov0" title="0">{
                                logger.Error(err)
                        }</span>
                        <span class="cov0" title="0">logger.Info("RabbitMQ consumeOrderPlaced conectando en 5 segundos.")
                        time.Sleep(5 * time.Second)</span>
                }
        }()

}
</pre>
		
		<pre class="file" id="file35" style="display: none">package emit

import (
        "errors"

        "github.com/nmarsollier/cartgo/tools/env"
        "github.com/nmarsollier/cartgo/tools/log"
        "github.com/streadway/amqp"
)

// ErrChannelNotInitialized Rabbit channel could not be initialized
var ErrChannelNotInitialized = errors.New("channel not initialized")

func getChannel(deps ...interface{}) (RabbitChannel, error) <span class="cov0" title="0">{
        for _, o := range deps </span><span class="cov0" title="0">{
                if ti, ok := o.(RabbitChannel); ok </span><span class="cov0" title="0">{
                        return ti, nil
                }</span>
        }

        <span class="cov0" title="0">conn, err := amqp.Dial(env.Get().RabbitURL)
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return nil, err
        }</span>

        <span class="cov0" title="0">channel, err := conn.Channel()
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return nil, err
        }</span>

        <span class="cov0" title="0">return rabbitChannel{ch: channel}, nil</span>
}
</pre>
		
		<pre class="file" id="file36" style="display: none">package emit

import "github.com/streadway/amqp"

type RabbitChannel interface {
        ExchangeDeclare(name string, chType string) error
        Publish(exchange string, routingKey string, body []byte) error
}

type rabbitChannel struct {
        ch *amqp.Channel
}

func (c rabbitChannel) ExchangeDeclare(
        name string,
        chType string,
) error <span class="cov0" title="0">{
        return c.ch.ExchangeDeclare(
                name,   // name
                chType, // type
                false,  // durable
                false,  // auto-deleted
                false,  // internal
                false,  // no-wait
                nil,    // arguments
        )
}</span>
func (c rabbitChannel) Publish(
        exchange string,
        routingKey string,
        body []byte,
) error <span class="cov0" title="0">{
        return c.ch.Publish(
                exchange,   // exchange
                routingKey, // routing key
                false,      // mandatory
                false,      // immediate
                amqp.Publishing{
                        Body: body,
                })
}</span>
</pre>
		
		<pre class="file" id="file37" style="display: none">// Code generated by MockGen. DO NOT EDIT.
// Source: ./rabbit/emit/rabbit_channel.go

// Package emit is a generated GoMock package.
package emit

import (
        reflect "reflect"

        gomock "github.com/golang/mock/gomock"
)

// MockRabbitChannel is a mock of RabbitChannel interface.
type MockRabbitChannel struct {
        ctrl     *gomock.Controller
        recorder *MockRabbitChannelMockRecorder
}

// MockRabbitChannelMockRecorder is the mock recorder for MockRabbitChannel.
type MockRabbitChannelMockRecorder struct {
        mock *MockRabbitChannel
}

// NewMockRabbitChannel creates a new mock instance.
func NewMockRabbitChannel(ctrl *gomock.Controller) *MockRabbitChannel <span class="cov0" title="0">{
        mock := &amp;MockRabbitChannel{ctrl: ctrl}
        mock.recorder = &amp;MockRabbitChannelMockRecorder{mock}
        return mock
}</span>

// EXPECT returns an object that allows the caller to indicate expected use.
func (m *MockRabbitChannel) EXPECT() *MockRabbitChannelMockRecorder <span class="cov0" title="0">{
        return m.recorder
}</span>

// ExchangeDeclare mocks base method.
func (m *MockRabbitChannel) ExchangeDeclare(name, chType string) error <span class="cov0" title="0">{
        m.ctrl.T.Helper()
        ret := m.ctrl.Call(m, "ExchangeDeclare", name, chType)
        ret0, _ := ret[0].(error)
        return ret0
}</span>

// ExchangeDeclare indicates an expected call of ExchangeDeclare.
func (mr *MockRabbitChannelMockRecorder) ExchangeDeclare(name, chType interface{}) *gomock.Call <span class="cov0" title="0">{
        mr.mock.ctrl.T.Helper()
        return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ExchangeDeclare", reflect.TypeOf((*MockRabbitChannel)(nil).ExchangeDeclare), name, chType)
}</span>

// Publish mocks base method.
func (m *MockRabbitChannel) Publish(exchange, routingKey string, body []byte) error <span class="cov0" title="0">{
        m.ctrl.T.Helper()
        ret := m.ctrl.Call(m, "Publish", exchange, routingKey, body)
        ret0, _ := ret[0].(error)
        return ret0
}</span>

// Publish indicates an expected call of Publish.
func (mr *MockRabbitChannelMockRecorder) Publish(exchange, routingKey, body interface{}) *gomock.Call <span class="cov0" title="0">{
        mr.mock.ctrl.T.Helper()
        return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Publish", reflect.TypeOf((*MockRabbitChannel)(nil).Publish), exchange, routingKey, body)
}</span>
</pre>
		
		<pre class="file" id="file38" style="display: none">package emit

import (
        "encoding/json"

        "github.com/nmarsollier/cartgo/tools/log"
)

//        @Summary                Emite Validar Art√≠culos a Cart article_exist/article_exist
//        @Description        Solicitamos las validaciones ar articulos a catalogo. Responde en article_exist/cart_article_exist.
//        @Tags                        Rabbit
//        @Accept                        json
//        @Produce                json
//        @Param                        body        body        SendValidationMessage        true        "Mensage de validacion article_exist/cart_article_exist"
//        @Router                        /rabbit/article_exist [put]
//
// Emite Validar Art√≠culos a Cart
func SendArticleValidation(data ArticleValidationData, deps ...interface{}) error <span class="cov0" title="0">{
        logger := log.Get(deps...).
                WithField(log.LOG_FIELD_CONTROLLER, "Rabbit").
                WithField(log.LOG_FIELD_RABBIT_ACTION, "Emit").
                WithField(log.LOG_FIELD_RABBIT_EXCHANGE, "article_exist").
                WithField(log.LOG_FIELD_RABBIT_QUEUE, "article_exist")

        corrId, _ := logger.Data()[log.LOG_FIELD_CORRELATION_ID].(string)
        send := SendValidationMessage{
                CorrelationId: corrId,
                Exchange:      "article_exist",
                RoutingKey:    "cart_article_exist",
                Message:       data,
        }
        chn, err := getChannel(deps...)
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                chn = nil
                return err
        }</span>

        <span class="cov0" title="0">err = chn.ExchangeDeclare(
                "catalog", // name
                "direct",  // type
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                chn = nil
                return err
        }</span>

        <span class="cov0" title="0">body, err := json.Marshal(send)
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">err = chn.Publish(
                "article_exist", // exchange
                "article_exist", // routing key
                body,
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                chn = nil
                return err
        }</span>

        <span class="cov0" title="0">logger.Info(string(body))

        return nil</span>
}

type ArticleValidationData struct {
        ReferenceId string `json:"referenceId" example:"UserId"`

        ArticleId string `json:"articleId" example:"ArticleId"`
}

type SendValidationMessage struct {
        CorrelationId string                `json:"correlation_id" example:"123123" `
        Exchange      string                `json:"exchange" example:"cart"`
        RoutingKey    string                `json:"routing_key" example:""`
        Message       ArticleValidationData `json:"message"`
}
</pre>
		
		<pre class="file" id="file39" style="display: none">package emit

import (
        "encoding/json"

        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/tools/log"
)

//        @Summary                Emite place_order/place_order
//        @Description        Cuando se hace checkout enviamos un comando a orders para que inicie el proceso de la orden.
//        @Tags                        Rabbit
//        @Accept                        json
//        @Produce                json
//        @Param                        body        body        SendPlacedMessage        true        "Place order"
//        @Router                        /rabbit/place_order [put]
//
// Emite Placed Order desde Cart
func SendPlaceOrder(cart *cart.Cart, deps ...interface{}) error <span class="cov0" title="0">{
        logger := log.Get(deps...).
                WithField(log.LOG_FIELD_CONTROLLER, "Rabbit").
                WithField(log.LOG_FIELD_RABBIT_ACTION, "Emit").
                WithField(log.LOG_FIELD_RABBIT_EXCHANGE, "place_order").
                WithField(log.LOG_FIELD_RABBIT_QUEUE, "place_order")

        articles := []PlaceArticlesData{}
        for _, a := range cart.Articles </span><span class="cov0" title="0">{
                articles = append(articles, PlaceArticlesData{
                        a.ArticleId,
                        a.Quantity,
                })
        }</span>

        <span class="cov0" title="0">data := PlacedData{
                CartId:   cart.ID,
                UserId:   cart.UserId,
                Articles: articles,
        }

        corrId, _ := logger.Data()[log.LOG_FIELD_CORRELATION_ID].(string)
        send := SendPlacedMessage{
                CorrelationId: corrId,
                Message:       data,
        }

        chn, err := getChannel(deps...)
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                chn = nil
                return err
        }</span>

        <span class="cov0" title="0">err = chn.ExchangeDeclare(
                "place_order", // name
                "direct",      // type
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                chn = nil
                return err
        }</span>

        <span class="cov0" title="0">body, err := json.Marshal(send)
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                return err
        }</span>

        <span class="cov0" title="0">err = chn.Publish(
                "place_order", // exchange
                "place_order", // routing key
                body,
        )
        if err != nil </span><span class="cov0" title="0">{
                logger.Error(err)
                chn = nil
                return err
        }</span>

        <span class="cov0" title="0">logger.Info(string(body))
        return nil</span>
}

type PlacedData struct {
        CartId   string              `json:"cartId" example:"CartId"`
        UserId   string              `json:"userId" example:"UserId"`
        Articles []PlaceArticlesData `json:"articles"`
}

type PlaceArticlesData struct {
        Id       string `json:"id" example:"ArticleId"`
        Quantity int    `json:"quantity" example:"10"`
}

type SendPlacedMessage struct {
        CorrelationId string     `json:"correlation_id" example:"123123" `
        Message       PlacedData `json:"message" example:"order"`
}
</pre>
		
		<pre class="file" id="file40" style="display: none">package emit

import (
        "github.com/golang/mock/gomock"
)

func DefaultRabbitChannel(ctrl *gomock.Controller, times int) *MockRabbitChannel <span class="cov0" title="0">{
        channel := NewMockRabbitChannel(ctrl)
        channel.EXPECT().ExchangeDeclare(gomock.Any(), gomock.Any()).Return(nil).Times(times)
        return channel
}</span>
</pre>
		
		<pre class="file" id="file41" style="display: none">package rest

import (
        "github.com/gin-gonic/gin"
        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/rest/server"
        "github.com/nmarsollier/cartgo/security"
)

//        @Summary                Eliminar Articulo
//        @Description        Elimina un articulo del carrito actual.
//        @Tags                        Cart
//        @Accept                        json
//        @Produce                json
//        @Param                        articleId                path        string        true        "ID de articlo"
//        @Param                        Authorization        header        string        true        "Bearer {token}"
//        @Success                200                                "No Content"
//        @Failure                400                                {object}        errs.ValidationErr        "Bad Request"
//        @Failure                401                                {object}        server.ErrorData        "Unauthorized"
//        @Failure                404                                {object}        server.ErrorData        "Not Found"
//        @Failure                500                                {object}        server.ErrorData        "Internal Server Error"
//        @Router                        /v1/cart/article/:articleId [delete]
//
// Elimina un articulo del carrito actual.
func initDeleteCart() <span class="cov0" title="0">{
        server.Router().DELETE(
                "/v1/cart/article/:articleId",
                server.ValidateAuthentication,
                deleteArticle,
        )
}</span>

func deleteArticle(c *gin.Context) <span class="cov0" title="0">{
        user := c.MustGet("user").(security.User)
        articleId := c.Param("articleId")

        deps := server.GinDeps(c)
        _, err := cart.RemoveArticle(user.ID, articleId, deps...)
        if err != nil </span><span class="cov0" title="0">{
                server.AbortWithError(c, err)
                return
        }</span>

        <span class="cov0" title="0">c.JSON(200, "")</span>
}
</pre>
		
		<pre class="file" id="file42" style="display: none">package rest

import (
        "github.com/gin-gonic/gin"
        "github.com/nmarsollier/cartgo/rest/server"
        "github.com/nmarsollier/cartgo/security"
        "github.com/nmarsollier/cartgo/services"
)

//        @Summary                Obtener carrito.
//        @Description        Obtiene el carrito actual.
//        @Tags                        Cart
//        @Accept                        json
//        @Produce                json
//        @Param                        Authorization        header                string                                true        "Bearer {token}"
//        @Success                200                                {object}        cart.Cart                        "Cart"
//        @Failure                400                                {object}        errs.ValidationErr        "Bad Request"
//        @Failure                401                                {object}        server.ErrorData        "Unauthorized"
//        @Failure                404                                {object}        server.ErrorData        "Not Found"
//        @Failure                500                                {object}        server.ErrorData        "Internal Server Error"
//        @Router                        /v1/cart [get]
//
// Obtiene el carrito actual del usuario.
func initGetCart() <span class="cov0" title="0">{
        server.Router().GET(
                "/v1/cart",
                server.ValidateAuthentication,
                currentCart,
        )
}</span>

func currentCart(c *gin.Context) <span class="cov0" title="0">{
        user := c.MustGet("user").(security.User)

        deps := server.GinDeps(c)
        cart, err := services.GetCurrentCart(user.ID, deps...)

        if err != nil </span><span class="cov0" title="0">{
                server.AbortWithError(c, err)
                return
        }</span>

        <span class="cov0" title="0">c.JSON(200, cart)</span>
}
</pre>
		
		<pre class="file" id="file43" style="display: none">package rest

import (
        "github.com/gin-gonic/gin"
        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/rest/server"
        "github.com/nmarsollier/cartgo/security"
        "github.com/nmarsollier/cartgo/services"
)

//        @Summary                Validar Carrito
//        @Description        Valida el carrito para checkout
//        @Tags                        Cart
//        @Accept                        json
//        @Produce                json
//        @Param                        Authorization        header        string        true        "Bearer {token}"
//        @Success                200                                "No Content"
//        @Failure                400                                {object}        errs.ValidationErr        "Bad Request"
//        @Failure                401                                {object}        server.ErrorData        "Unauthorized"
//        @Failure                404                                {object}        server.ErrorData        "Not Found"
//        @Failure                500                                {object}        server.ErrorData        "Internal Server Error"
//        @Router                        /v1/cart/validate [get]
//
// Valida el carrito para checkout.
func initGetCartValidate() <span class="cov0" title="0">{
        server.Router().GET(
                "/v1/cart/validate",
                server.ValidateAuthentication,
                validate,
        )
}</span>

func validate(c *gin.Context) <span class="cov0" title="0">{
        user := c.MustGet("user").(security.User)
        token := c.MustGet("tokenString").(string)

        deps := server.GinDeps(c)
        currentCart, err := cart.CurrentCart(user.ID, deps...)
        if err != nil </span><span class="cov0" title="0">{
                server.AbortWithError(c, err)
                return
        }</span>

        <span class="cov0" title="0">err = services.ValidateCheckout(currentCart, token, deps...)
        if err != nil </span><span class="cov0" title="0">{
                server.AbortWithError(c, err)
                return
        }</span>

        <span class="cov0" title="0">c.JSON(200, "")</span>
}
</pre>
		
		<pre class="file" id="file44" style="display: none">package rest

import (
        "github.com/gin-gonic/gin"
        "github.com/nmarsollier/cartgo/rest/server"
        "github.com/nmarsollier/cartgo/security"
        "github.com/nmarsollier/cartgo/services"
)

type AddArticleData struct {
        ArticleId string `bson:"articleId" validate:"required,min=1,max=100"`
        Quantity  int    `bson:"quantity" validate:"required,min=1,max=100"`
}

//        @Summary                Agregar Articulo
//        @Description        Agrega un articulo del carrito actual.
//        @Tags                        Cart
//        @Accept                        json
//        @Produce                json
//        @Param                        articleId                path                string                                true        "ID de articlo"
//        @Param                        Authorization        header                string                                true        "Bearer {token}"
//        @Success                200                                {object}        cart.Cart                        "Cart"
//        @Param                        body                        body                AddArticleData                true        "Articulo a Agregar"
//        @Failure                400                                {object}        errs.ValidationErr        "Bad Request"
//        @Failure                401                                {object}        server.ErrorData        "Unauthorized"
//        @Failure                404                                {object}        server.ErrorData        "Not Found"
//        @Failure                500                                {object}        server.ErrorData        "Internal Server Error"
//        @Router                        /v1/cart/article [post]
//
// Agrega un articulo del carrito actual.
func initPostCartArticle() <span class="cov0" title="0">{
        server.Router().POST(
                "/v1/cart/article",
                server.ValidateAuthentication,
                addArticle,
        )
}</span>

func addArticle(c *gin.Context) <span class="cov0" title="0">{
        user := c.MustGet("user").(security.User)
        body := AddArticleData{}
        if err := c.ShouldBindJSON(&amp;body); err != nil </span><span class="cov0" title="0">{
                server.AbortWithError(c, err)
                return
        }</span>

        <span class="cov0" title="0">deps := server.GinDeps(c)
        _, err := services.AddArticle(user.ID, body.ArticleId, body.Quantity, deps...)
        if err != nil </span><span class="cov0" title="0">{
                server.AbortWithError(c, err)
                return
        }</span>

        <span class="cov0" title="0">c.JSON(200, "")</span>
}
</pre>
		
		<pre class="file" id="file45" style="display: none">package rest

import (
        "github.com/gin-gonic/gin"
        "github.com/nmarsollier/cartgo/rest/server"
        "github.com/nmarsollier/cartgo/security"
        "github.com/nmarsollier/cartgo/services"
)

//        @Summary                Agregar 1 Articulo
//        @Description        Eliminar 1 al articulo actual.
//        @Tags                        Cart
//        @Accept                        json
//        @Produce                json
//        @Param                        articleId                path                string                                true        "ID de articlo"
//        @Param                        Authorization        header                string                                true        "Bearer {token}"
//        @Success                200                                {object}        cart.Cart                        "Cart"
//        @Failure                400                                {object}        errs.ValidationErr        "Bad Request"
//        @Failure                401                                {object}        server.ErrorData        "Unauthorized"
//        @Failure                404                                {object}        server.ErrorData        "Not Found"
//        @Failure                500                                {object}        server.ErrorData        "Internal Server Error"
//        @Router                        /v1/cart/article/:articleId/decrement [post]
//
// Eliminar 1 al articulo actual.
func initPostCartArticleDecrement() <span class="cov0" title="0">{
        server.Router().POST(
                "/v1/cart/article/:articleId/decrement",
                server.ValidateAuthentication,
                decrementArticle,
        )
}</span>

func decrementArticle(c *gin.Context) <span class="cov0" title="0">{
        user := c.MustGet("user").(security.User)
        articleId := c.Param("articleId")

        deps := server.GinDeps(c)
        _, err := services.AddArticle(user.ID, articleId, -1, deps...)
        if err != nil </span><span class="cov0" title="0">{
                server.AbortWithError(c, err)
                return
        }</span>

        <span class="cov0" title="0">c.JSON(200, "")</span>
}
</pre>
		
		<pre class="file" id="file46" style="display: none">package rest

import (
        "github.com/gin-gonic/gin"
        "github.com/nmarsollier/cartgo/rest/server"
        "github.com/nmarsollier/cartgo/security"
        "github.com/nmarsollier/cartgo/services"
)

//        @Summary                Agregar 1 Articulo
//        @Description        Agregar 1 al articulo actual.
//        @Tags                        Cart
//        @Accept                        json
//        @Produce                json
//        @Param                        articleId                path                string                                true        "ID de articlo"
//        @Param                        Authorization        header                string                                true        "Bearer {token}"
//        @Success                200                                {object}        cart.Cart                        "Cart"
//        @Failure                400                                {object}        errs.ValidationErr        "Bad Request"
//        @Failure                401                                {object}        server.ErrorData        "Unauthorized"
//        @Failure                404                                {object}        server.ErrorData        "Not Found"
//        @Failure                500                                {object}        server.ErrorData        "Internal Server Error"
//        @Router                        /v1/cart/article/:articleId/increment [post]
//
// Agregar 1 al articulo actual.
func initPostCartArticleIncrement() <span class="cov0" title="0">{
        server.Router().POST(
                "/v1/cart/article/:articleId/increment",
                server.ValidateAuthentication,
                incrementArticle,
        )
}</span>

func incrementArticle(c *gin.Context) <span class="cov0" title="0">{

        user := c.MustGet("user").(security.User)
        articleId := c.Param("articleId")

        deps := server.GinDeps(c)
        _, err := services.AddArticle(user.ID, articleId, 1, deps...)
        if err != nil </span><span class="cov0" title="0">{
                server.AbortWithError(c, err)
                return
        }</span>

        <span class="cov0" title="0">c.JSON(200, "")</span>
}
</pre>
		
		<pre class="file" id="file47" style="display: none">package rest

import (
        "github.com/gin-gonic/gin"
        "github.com/nmarsollier/cartgo/rest/server"
        "github.com/nmarsollier/cartgo/security"
        "github.com/nmarsollier/cartgo/services"
)

//        @Summary                Checkout Articulo
//        @Description        Hace checkout del carrito actual
//        @Tags                        Cart
//        @Accept                        json
//        @Produce                json
//        @Param                        articleId                path        string        true        "ID de articlo"
//        @Param                        Authorization        header        string        true        "Bearer {token}"
//        @Success                200                                "No Content"
//        @Failure                400                                {object}        errs.ValidationErr        "Bad Request"
//        @Failure                401                                {object}        server.ErrorData        "Unauthorized"
//        @Failure                404                                {object}        server.ErrorData        "Not Found"
//        @Failure                500                                {object}        server.ErrorData        "Internal Server Error"
//        @Router                        /v1/cart/checkouts [post]
//
// Hace checkout del carrito actual.
func initPostCartCheckout() <span class="cov0" title="0">{
        server.Router().POST(
                "/v1/cart/checkout",
                server.ValidateAuthentication,
                checkout,
        )
}</span>

func checkout(c *gin.Context) <span class="cov0" title="0">{
        user := c.MustGet("user").(security.User)
        token := c.MustGet("tokenString").(string)

        deps := server.GinDeps(c)
        err := services.Checkout(user.ID, token, deps...)
        if err != nil </span><span class="cov0" title="0">{
                server.AbortWithError(c, err)
                return
        }</span>

        <span class="cov0" title="0">c.JSON(200, "")</span>
}
</pre>
		
		<pre class="file" id="file48" style="display: none">package rest

import (
        "fmt"

        "github.com/nmarsollier/cartgo/rest/server"
        "github.com/nmarsollier/cartgo/tools/env"
)

// Start this server
func Start() <span class="cov0" title="0">{
        InitRoutes()
        server.Router().Run(fmt.Sprintf(":%d", env.Get().Port))
}</span>

func InitRoutes() <span class="cov0" title="0">{
        initDeleteCart()
        initGetCartValidate()
        initGetCart()
        initPostCartArticleDecrement()
        initPostCartArticleIncrement()
        initPostCartArticle()
        initPostCartCheckout()
}</span>
</pre>
		
		<pre class="file" id="file49" style="display: none">package server

import (
        "strings"

        "github.com/gin-gonic/gin"
        "github.com/nmarsollier/cartgo/security"
        "github.com/nmarsollier/cartgo/tools/errs"
        "github.com/nmarsollier/cartgo/tools/log"
)

/**
 * @apiDefine AuthHeader
 *
 * @apiExample {String} Header Autorizaci√≥n
 *    Authorization=bearer {token}
 *
 * @apiErrorExample 401 Unauthorized
 *    HTTP/1.1 401 Unauthorized
 */

// ValidateAuthentication validate gets and check variable body to create new variable
// puts model.Variable in context as body if everything is correct
func ValidateAuthentication(c *gin.Context) <span class="cov0" title="0">{
        user, err := validateToken(c)
        if err != nil </span><span class="cov0" title="0">{
                c.Error(err)
                c.Abort()
                return
        }</span>

        <span class="cov0" title="0">deps := GinDeps(c)
        c.Set("logger", log.Get(deps...).WithField(log.LOG_FIELD_USER_ID, user.ID))</span>
}

// get token from Authorization header
func HeaderToken(c *gin.Context) (string, error) <span class="cov0" title="0">{
        tokenString := c.GetHeader("Authorization")
        if strings.Index(strings.ToUpper(tokenString), "BEARER ") != 0 </span><span class="cov0" title="0">{
                return "", errs.Unauthorized
        }</span>
        <span class="cov0" title="0">return tokenString[7:], nil</span>
}

func validateToken(c *gin.Context) (*security.User, error) <span class="cov0" title="0">{
        tokenString, err := HeaderToken(c)
        if err != nil </span><span class="cov0" title="0">{
                return nil, errs.Unauthorized
        }</span>

        <span class="cov0" title="0">deps := GinDeps(c)
        user, err := security.Validate(tokenString, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, errs.Unauthorized
        }</span>

        <span class="cov0" title="0">c.Set("tokenString", tokenString)
        c.Set("user", *user)

        return user, nil</span>
}
</pre>
		
		<pre class="file" id="file50" style="display: none">package server

import (
        "time"

        "github.com/gin-contrib/gzip"
        "github.com/gin-gonic/gin"
        cors "github.com/itsjamie/gin-cors"
        _ "github.com/nmarsollier/cartgo/docs"
        swaggerFiles "github.com/swaggo/files"
        ginSwagger "github.com/swaggo/gin-swagger"
)

var server *gin.Engine = nil

func Router(deps ...interface{}) *gin.Engine <span class="cov0" title="0">{
        if server == nil </span><span class="cov0" title="0">{

                server = gin.Default()

                server.Use(gzip.Gzip(gzip.DefaultCompression))
                server.Use(GinLoggerMiddleware(deps...))

                server.Use(cors.Middleware(cors.Config{
                        Origins:         "*",
                        Methods:         "GET, PUT, POST, DELETE",
                        RequestHeaders:  "Origin, Authorization, Content-Type",
                        ExposedHeaders:  "",
                        MaxAge:          50 * time.Second,
                        Credentials:     false,
                        ValidateHeaders: false,
                }))

                server.Use(ErrorHandler)

                server.GET("/docs/*any", ginSwagger.WrapHandler(swaggerFiles.Handler))
        }</span>

        <span class="cov0" title="0">return server</span>
}

// Obtiene el contexto a serivcios externos
// En prod este contexto esta vacio.
func GinDeps(c *gin.Context) []interface{} <span class="cov0" title="0">{
        var deps []interface{}
        // mock_deps solo es para mocks en testing
        if mocks, ok := c.Get("mock_deps"); ok </span><span class="cov0" title="0">{
                deps = mocks.([]interface{})
        }</span>

        <span class="cov0" title="0">deps = append(deps, ginLogger(c))

        return deps</span>
}
</pre>
		
		<pre class="file" id="file51" style="display: none">package server

import (
        "strings"

        "github.com/gin-gonic/gin"
        "github.com/go-playground/validator/v10"
        "github.com/nmarsollier/cartgo/tools/errs"
)

// ErrorHandler a middleware to handle errors
func ErrorHandler(c *gin.Context) <span class="cov0" title="0">{
        c.Next()

        handleErrorIfNeeded(c)
}</span>

func AbortWithError(c *gin.Context, err error) <span class="cov0" title="0">{
        c.Error(err)
        c.Abort()
}</span>

func handleErrorIfNeeded(c *gin.Context) <span class="cov0" title="0">{
        lastErr := c.Errors.Last()
        if lastErr == nil </span><span class="cov0" title="0">{
                return
        }</span>

        <span class="cov0" title="0">err := lastErr.Err
        if err == nil </span><span class="cov0" title="0">{
                return
        }</span>

        <span class="cov0" title="0">handleError(c, err)</span>
}

// handleError maneja cualquier error para serializarlo como JSON al cliente
func handleError(c *gin.Context, err interface{}) <span class="cov0" title="0">{
        // Compruebo tipos de errores conocidos
        switch value := err.(type) </span>{
        case errs.RestError:<span class="cov0" title="0">
                // Son validaciones hechas con NewCustom
                handleCustom(c, value)</span>
        case errs.Validation:<span class="cov0" title="0">
                // Son validaciones hechas con NewValidation
                c.JSON(400, err)</span>
        case validator.ValidationErrors:<span class="cov0" title="0">
                // Son las validaciones de validator usadas en validaciones de estructuras
                handleValidationError(c, value)</span>
        case error:<span class="cov0" title="0">
                // Otros errores
                c.JSON(500, ErrorData{
                        Error: value.Error(),
                })</span>
        default:<span class="cov0" title="0">
                // No se sabe que es, devolvemos internal
                handleCustom(c, errs.Internal)</span>
        }
}

/**
 * @apiDefine ParamValidationErrors
 *
 * @apiErrorExample 400 Bad Request
 *     HTTP/1.1 400 Bad Request
 *     {
 *        "messages" : [
 *          {
 *            "path" : "{Nombre de la propiedad}",
 *            "message" : "{Motivo del error}"
 *          },
 *          ...
 *       ]
 *     }
 */
func handleValidationError(c *gin.Context, validationErrors validator.ValidationErrors) <span class="cov0" title="0">{
        err := errs.NewValidation()

        for _, e := range validationErrors </span><span class="cov0" title="0">{
                err.Add(strings.ToLower(e.Field()), e.Tag())
        }</span>

        <span class="cov0" title="0">c.JSON(400, err)</span>
}

/**
 * @apiDefine OtherErrors
 *
 * @apiErrorExample 500 Server Error
 *     HTTP/1.1 500 Internal Server Error
 *     {
 *        "error" : "Not Found"
 *     }
 *
 */
func handleCustom(c *gin.Context, err errs.RestError) <span class="cov0" title="0">{
        c.JSON(err.Status(), err)
}</span>

type ErrorData struct {
        Error string `json:"error"`
}
</pre>
		
		<pre class="file" id="file52" style="display: none">package server

import (
        "github.com/gin-gonic/gin"
        "github.com/nmarsollier/cartgo/tools/log"
        uuid "github.com/satori/go.uuid"
)

func newGinLogger(c *gin.Context, deps ...interface{}) log.LogRusEntry <span class="cov0" title="0">{
        return log.Get(deps...).
                WithField(log.LOG_FIELD_CORRELATION_ID, getCorrelationId(c)).
                WithField(log.LOG_FIELD_CONTROLLER, "Rest").
                WithField(log.LOG_FIELD_HTTP_METHOD, c.Request.Method).
                WithField(log.LOG_FIELD_HTTP_PATH, c.Request.URL.Path)
}</span>

func GinLoggerMiddleware(deps ...interface{}) gin.HandlerFunc <span class="cov0" title="0">{
        return func(c *gin.Context) </span><span class="cov0" title="0">{
                logger := newGinLogger(c, deps...)
                c.Set("logger", logger)

                c.Next()

                if c.Request.Method != "OPTIONS" </span><span class="cov0" title="0">{
                        deps := GinDeps(c)
                        log.Get(deps...).WithField(log.LOG_FIELD_HTTP_STATUS, c.Writer.Status()).Info("Completed")
                }</span>
        }
}

func ginLogger(c *gin.Context) log.LogRusEntry <span class="cov0" title="0">{
        logger, exist := c.Get("logger")
        if !exist </span><span class="cov0" title="0">{
                return newGinLogger(c)
        }</span>
        <span class="cov0" title="0">return logger.(log.LogRusEntry)</span>
}

func getCorrelationId(c *gin.Context) string <span class="cov0" title="0">{
        value := c.GetHeader(log.LOG_FIELD_CORRELATION_ID)

        if len(value) == 0 </span><span class="cov0" title="0">{
                value = uuid.NewV4().String()
        }</span>

        <span class="cov0" title="0">return value</span>
}
</pre>
		
		<pre class="file" id="file53" style="display: none">package server

import (
        "bytes"
        "encoding/json"
        "net/http"
        "net/http/httptest"
        "testing"

        "github.com/gin-gonic/gin"

        "gopkg.in/go-playground/assert.v1"
)

// Obtiene Router server con el contexto de testing adecuado
// mockeando interfaces a serivcios externos
func TestRouter(deps ...interface{}) *gin.Engine <span class="cov0" title="0">{
        server = nil
        Router(deps...)
        if len(deps) &gt; 0 </span><span class="cov0" title="0">{
                server.Use(func(c *gin.Context) </span><span class="cov0" title="0">{
                        c.Set("mock_deps", deps)
                        c.Next()
                }</span>)
        }
        <span class="cov0" title="0">return server</span>
}

// Requests Test functions

func TestGetRequest(url string, tokenString string) (*http.Request, *httptest.ResponseRecorder) <span class="cov0" title="0">{
        req, _ := http.NewRequest("GET", url, bytes.NewBuffer([]byte{}))
        if len(tokenString) &gt; 0 </span><span class="cov0" title="0">{
                req.Header.Add("Authorization", "Bearer "+tokenString)
        }</span>
        <span class="cov0" title="0">w := httptest.NewRecorder()
        return req, w</span>
}

func TestDeleteRequest(url string, tokenString string) (*http.Request, *httptest.ResponseRecorder) <span class="cov0" title="0">{
        req, _ := http.NewRequest("DELETE", url, bytes.NewBuffer([]byte{}))
        if len(tokenString) &gt; 0 </span><span class="cov0" title="0">{
                req.Header.Add("Authorization", "Bearer "+tokenString)
        }</span>
        <span class="cov0" title="0">w := httptest.NewRecorder()
        return req, w</span>
}

func TestPostRequest(url string, body interface{}, tokenString string) (*http.Request, *httptest.ResponseRecorder) <span class="cov0" title="0">{
        jsonBody, _ := json.Marshal(body)

        req, _ := http.NewRequest("POST", url, bytes.NewBuffer(jsonBody))
        if len(tokenString) &gt; 0 </span><span class="cov0" title="0">{
                req.Header.Add("Authorization", "Bearer "+tokenString)
        }</span>
        <span class="cov0" title="0">w := httptest.NewRecorder()
        return req, w</span>
}

// Assertion Functions
func AssertUnauthorized(t *testing.T, w *httptest.ResponseRecorder) <span class="cov0" title="0">{
        assert.Equal(t, http.StatusUnauthorized, w.Code)

        var result map[string]interface{}
        json.Unmarshal(w.Body.Bytes(), &amp;result)

        assert.Equal(t, result["error"], "Unauthorized")
}</span>

func AssertDocumentNotFound(t *testing.T, w *httptest.ResponseRecorder) <span class="cov0" title="0">{
        assert.Equal(t, http.StatusNotFound, w.Code)

        var result map[string]interface{}
        json.Unmarshal(w.Body.Bytes(), &amp;result)
        assert.Equal(t, "Document not found", result["error"])
}</span>

func AssertInternalServerError(t *testing.T, w *httptest.ResponseRecorder) <span class="cov0" title="0">{
        assert.Equal(t, http.StatusInternalServerError, w.Code)
}</span>

func AssertBadRequestError(t *testing.T, w *httptest.ResponseRecorder) <span class="cov0" title="0">{
        assert.Equal(t, http.StatusBadRequest, w.Code)
}</span>
</pre>
		
		<pre class="file" id="file54" style="display: none">package security

import (
        "github.com/nmarsollier/cartgo/tools/log"
)

// Invalidate invalida un token del cache
func Invalidate(token string, deps ...interface{}) <span class="cov8" title="1">{
        if len(token) &lt;= 7 </span><span class="cov0" title="0">{
                log.Get(deps...).Info("Token no valido: ", token)
                return
        }</span>

        <span class="cov8" title="1">cache.Delete(token)
        log.Get(deps...).Info("Token invalidado: ", token)</span>
}
</pre>
		
		<pre class="file" id="file55" style="display: none">package security

import (
        "encoding/json"
        "net/http"
        "time"

        "github.com/go-playground/validator/v10"
        "github.com/nmarsollier/cartgo/tools/env"
        "github.com/nmarsollier/cartgo/tools/errs"
        "github.com/nmarsollier/cartgo/tools/httpx"
        "github.com/nmarsollier/cartgo/tools/log"
        gocache "github.com/patrickmn/go-cache"
)

var cache = gocache.New(60*time.Minute, 10*time.Minute)

func getRemoteToken(token string, deps ...interface{}) (*User, error) <span class="cov8" title="1">{
        // Buscamos el usuario remoto
        req, err := http.NewRequest("GET", env.Get().SecurityServerURL+"/v1/users/current", nil)
        if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return nil, errs.Unauthorized
        }</span>
        <span class="cov8" title="1">req.Header.Add("Authorization", "Bearer "+token)
        if corrId, ok := log.Get(deps...).Data()[log.LOG_FIELD_CORRELATION_ID].(string); ok </span><span class="cov8" title="1">{
                req.Header.Add(log.LOG_FIELD_CORRELATION_ID, corrId)
        }</span>

        <span class="cov8" title="1">resp, err := httpx.Get(deps...).Do(req)
        if err != nil || resp.StatusCode != 200 </span><span class="cov8" title="1">{
                log.Get(deps...).Error(err)
                return nil, errs.Unauthorized
        }</span>
        <span class="cov8" title="1">defer resp.Body.Close()

        user := &amp;User{}
        err = json.NewDecoder(resp.Body).Decode(user)
        if err != nil </span><span class="cov8" title="1">{
                log.Get(deps...).Error(err)
                return nil, err
        }</span>

        <span class="cov8" title="1">validate := validator.New()
        if err := validate.Struct(user); err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return nil, err
        }</span>
        <span class="cov8" title="1">return user, nil</span>
}
</pre>
		
		<pre class="file" id="file56" style="display: none">package security

import (
        "bytes"
        "io"
        "net/http"

        "github.com/golang/mock/gomock"
        "github.com/nmarsollier/cartgo/tools/httpx"
        "github.com/nmarsollier/cartgo/tools/strs"
        "go.mongodb.org/mongo-driver/bson/primitive"
)

// Mock Data
func TestUser() *User <span class="cov8" title="1">{
        return &amp;User{
                ID:          primitive.NewObjectID().Hex(),
                Login:       "Login",
                Name:        "Name",
                Permissions: []string{"user"},
        }
}</span>

// Http Mocks
func ExpectHttpToken(mock *httpx.MockHTTPClient, user *User) <span class="cov8" title="1">{
        response := &amp;http.Response{
                StatusCode: http.StatusOK,
                Body:       io.NopCloser(bytes.NewBufferString(strs.ToJson(user))),
        }
        mock.EXPECT().Do(gomock.Any()).Return(response, nil).Times(1)
}</span>

func ExpectHttpUnauthorized(mock *httpx.MockHTTPClient) <span class="cov8" title="1">{
        response := &amp;http.Response{
                StatusCode: http.StatusUnauthorized,
                Body:       io.NopCloser(bytes.NewBufferString("")),
        }
        mock.EXPECT().Do(gomock.Any()).Return(response, nil).Times(1)
}</span>
</pre>
		
		<pre class="file" id="file57" style="display: none">package security

import (
        "github.com/nmarsollier/cartgo/tools/errs"
        "github.com/nmarsollier/cartgo/tools/log"
        gocache "github.com/patrickmn/go-cache"
)

// Validate valida si el token es valido
func Validate(token string, deps ...interface{}) (*User, error) <span class="cov8" title="1">{
        // Si esta en cache, retornamos el cache
        if found, ok := cache.Get(token); ok </span><span class="cov0" title="0">{
                if user, ok := found.(*User); ok </span><span class="cov0" title="0">{
                        return user, nil
                }</span>
        }

        <span class="cov8" title="1">user, err := getRemoteToken(token, deps...)
        if err != nil </span><span class="cov8" title="1">{
                log.Get(deps...).Error(err)
                return nil, errs.Unauthorized
        }</span>

        // Todo bien, se agrega al cache y se retorna
        <span class="cov8" title="1">cache.Set(token, user, gocache.DefaultExpiration)

        return user, nil</span>
}
</pre>
		
		<pre class="file" id="file58" style="display: none">package services

import (
        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/rabbit/emit"
)

func AddArticle(userId string, articleID string, quantity int, deps ...interface{}) (*cart.Cart, error) <span class="cov0" title="0">{
        cart, err := cart.AddArticle(userId, articleID, quantity, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">for _, a := range cart.Articles </span><span class="cov0" title="0">{
                if !a.Validated </span><span class="cov0" title="0">{
                        emit.SendArticleValidation(
                                emit.ArticleValidationData{
                                        ReferenceId: cart.UserId,
                                        ArticleId:   a.ArticleId,
                                },
                                deps...)
                }</span>
        }

        <span class="cov0" title="0">return cart, nil</span>
}
</pre>
		
		<pre class="file" id="file59" style="display: none">package services

import (
        "net/http"

        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/rabbit/emit"
        "github.com/nmarsollier/cartgo/tools/log"

        "github.com/nmarsollier/cartgo/tools/env"
        "github.com/nmarsollier/cartgo/tools/errs"
        "github.com/nmarsollier/cartgo/tools/httpx"
)

func Checkout(userId string, token string, deps ...interface{}) (err error) <span class="cov0" title="0">{
        currentCart, err := cart.CurrentCart(userId, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return
        }</span>

        <span class="cov0" title="0">err = ValidateCheckout(currentCart, token, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return
        }</span>

        <span class="cov0" title="0">err = cart.InvalidateCurrentCart(currentCart, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return
        }</span>

        <span class="cov0" title="0">emit.SendPlaceOrder(currentCart, deps...)

        return</span>
}

func callValidate(article *cart.Article, token string, deps ...interface{}) error <span class="cov0" title="0">{
        // Buscamos el usuario remoto
        req, err := http.NewRequest("GET", env.Get().CatalogServerURL+"/v1/articles/"+article.ArticleId, nil)
        if corrId, ok := log.Get(deps...).Data()[log.LOG_FIELD_CORRELATION_ID].(string); ok </span><span class="cov0" title="0">{
                req.Header.Add(log.LOG_FIELD_CORRELATION_ID, corrId)
        }</span>

        <span class="cov0" title="0">if err != nil </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return errs.Invalid
        }</span>
        <span class="cov0" title="0">req.Header.Add("Authorization", "Bearer "+token)
        resp, err := httpx.Get(deps...).Do(req)
        if err != nil || resp.StatusCode != 200 </span><span class="cov0" title="0">{
                log.Get(deps...).Error(err)
                return errs.Invalid
        }</span>
        <span class="cov0" title="0">defer resp.Body.Close()

        return nil</span>
}
</pre>
		
		<pre class="file" id="file60" style="display: none">package services

import (
        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/rabbit/emit"
)

func GetCurrentCart(userId string, deps ...interface{}) (*cart.Cart, error) <span class="cov0" title="0">{
        cart, err := cart.CurrentCart(userId, deps...)
        if err != nil </span><span class="cov0" title="0">{
                return nil, err
        }</span>

        <span class="cov0" title="0">for _, a := range cart.Articles </span><span class="cov0" title="0">{
                if !a.Validated </span><span class="cov0" title="0">{
                        emit.SendArticleValidation(
                                emit.ArticleValidationData{
                                        ReferenceId: cart.UserId,
                                        ArticleId:   a.ArticleId,
                                },
                                deps...,
                        )
                }</span>
        }

        <span class="cov0" title="0">return cart, nil</span>
}
</pre>
		
		<pre class="file" id="file61" style="display: none">package services

import (
        "github.com/nmarsollier/cartgo/cart"
)

func FindCartById(cartId string, deps ...interface{}) (*cart.Cart, error) <span class="cov0" title="0">{
        cart, err := cart.FindCartById(cartId, deps...)
        if err != nil </span><span class="cov0" title="0">{
                if err.Error() != "mongo: no documents in result" </span><span class="cov0" title="0">{
                        return nil, err
                }</span>
        }

        <span class="cov0" title="0">return cart, nil</span>
}
</pre>
		
		<pre class="file" id="file62" style="display: none">package services

import (
        "github.com/nmarsollier/cartgo/cart"
        "github.com/nmarsollier/cartgo/tools/log"
)

func ValidateCheckout(cart *cart.Cart, token string, deps ...interface{}) error <span class="cov0" title="0">{
        for _, a := range cart.Articles </span><span class="cov0" title="0">{
                err := callValidate(a, token, deps...)
                if err != nil </span><span class="cov0" title="0">{
                        log.Get(deps...).Error(err)
                        return err
                }</span>
        }

        <span class="cov0" title="0">return nil</span>
}
</pre>
		
		<pre class="file" id="file63" style="display: none">package env

import (
        "os"
        "strconv"
)

// Configuration properties
type Configuration struct {
        Port              int    `json:"port"`
        GqlPort           int    `json:"gqlPort"`
        RabbitURL         string `json:"rabbitUrl"`
        SecurityServerURL string `json:"securityServerUrl"`
        CatalogServerURL  string `json:"catalogUrl"`
        FluentUrl         string `json:"fluentUrl"`
        AwsAccessKeyId    string `json:"AwsAccessKeyId"`
        AwsSecret         string `json:"AwsSecret"`
        AwsRegion         string `json:"AwsRegion"`
}

var config *Configuration

func new() *Configuration <span class="cov8" title="1">{
        return &amp;Configuration{
                Port:              3003,
                GqlPort:           4003,
                RabbitURL:         "amqp://localhost",
                SecurityServerURL: "http://localhost:3000",
                CatalogServerURL:  "http://localhost:3002",
                FluentUrl:         "localhost:24224",
                AwsAccessKeyId:    "placeholder_value",
                AwsSecret:         "placeholder_value",
                AwsRegion:         "placeholder_value",
        }
}</span>

// Get Obtiene las variables de entorno del sistema
func Get() *Configuration <span class="cov8" title="1">{
        if config == nil </span><span class="cov8" title="1">{
                config = load()
        }</span>

        <span class="cov8" title="1">return config</span>
}

// Load file properties
func load() *Configuration <span class="cov8" title="1">{
        result := new()

        if value := os.Getenv("RABBIT_URL"); len(value) &gt; 0 </span><span class="cov8" title="1">{
                result.RabbitURL = value
        }</span>

        <span class="cov8" title="1">if value := os.Getenv("AWS_ACCESS_KEY_ID"); len(value) &gt; 0 </span><span class="cov8" title="1">{
                result.AwsAccessKeyId = value
        }</span>

        <span class="cov8" title="1">if value := os.Getenv("AWS_SECRET_ACCESS_KEY"); len(value) &gt; 0 </span><span class="cov8" title="1">{
                result.AwsSecret = value
        }</span>

        <span class="cov8" title="1">if value := os.Getenv("AWS_REGION"); len(value) &gt; 0 </span><span class="cov8" title="1">{
                result.AwsRegion = value
        }</span>

        <span class="cov8" title="1">if value := os.Getenv("PORT"); len(value) &gt; 0 </span><span class="cov8" title="1">{
                if intVal, err := strconv.Atoi(value); err == nil </span><span class="cov8" title="1">{
                        result.Port = intVal
                }</span>
        }

        <span class="cov8" title="1">if value := os.Getenv("GQL_PORT"); len(value) &gt; 0 </span><span class="cov0" title="0">{
                if intVal, err := strconv.Atoi(value); err == nil </span><span class="cov0" title="0">{
                        result.GqlPort = intVal
                }</span>
        }

        <span class="cov8" title="1">if value := os.Getenv("AUTH_SERVICE_URL"); len(value) &gt; 0 </span><span class="cov8" title="1">{
                result.SecurityServerURL = value
        }</span>

        <span class="cov8" title="1">if value := os.Getenv("FLUENT_URL"); len(value) &gt; 0 </span><span class="cov8" title="1">{
                result.FluentUrl = value
        }</span>

        <span class="cov8" title="1">if value := os.Getenv("CATALOG_SERVICE_URL"); len(value) &gt; 0 </span><span class="cov8" title="1">{
                result.CatalogServerURL = value
        }</span>

        <span class="cov8" title="1">return result</span>
}
</pre>
		
		<pre class="file" id="file64" style="display: none">package errs

// Unauthorized el usuario no esta autorizado al recurso
var Unauthorized = NewRestError(401, "Unauthorized")

// NotFound cuando un registro no se encuentra en la db
var NotFound = NewRestError(404, "Document not found")

// AlreadyExist cuando no se puede ingresar un registro a la db
var AlreadyExist = NewRestError(400, "Already exist")

// Internal esta aplicaci√≥n no sabe como manejar el error
var Internal = NewRestError(500, "Internal server error")

var Invalid = NewRestError(400, "Invalid Document")

// - Creaci√≥n de errors -
// NewRestError creates a new errCustom
func NewRestError(status int, message string) RestError <span class="cov8" title="1">{
        return &amp;restError{
                status:  status,
                Message: message,
        }
}</span>

//  - Algunas definiciones necesarias -

// RestError es una interfaz para definir errores custom
type RestError interface {
        Status() int
        Error() string
}

// restError es un error personalizado para http
type restError struct {
        status  int
        Message string `json:"error"`
}

func (e *restError) Error() string <span class="cov0" title="0">{
        return e.Message
}</span>

// Status http status code
func (e *restError) Status() int <span class="cov0" title="0">{
        return e.status
}</span>
</pre>
		
		<pre class="file" id="file65" style="display: none">package errs

import (
        "encoding/json"
)

// Validation es una interfaz para definir errores custom
// Validation es un error de validaciones de parameteros o de campos
type Validation interface {
        Add(path string, message string) Validation
        Error() string
}

func NewValidation() Validation <span class="cov0" title="0">{
        return &amp;ValidationErr{
                Messages: []errField{},
        }
}</span>

type ValidationErr struct {
        Messages []errField `json:"messages"`
}

func (e *ValidationErr) Error() string <span class="cov0" title="0">{
        body, err := json.Marshal(e)
        if err != nil </span><span class="cov0" title="0">{
                return "ErrValidation invalid."
        }</span>
        <span class="cov0" title="0">return string(body)</span>
}

// Add agrega errores a un validation error
func (e *ValidationErr) Add(path string, message string) Validation <span class="cov0" title="0">{
        err := errField{
                Path:    path,
                Message: message,
        }
        e.Messages = append(e.Messages, err)
        return e
}</span>

// errField define un campo inv√°lido. path y mensaje de error
type errField struct {
        Path    string `json:"path"`
        Message string `json:"message"`
}
</pre>
		
		<pre class="file" id="file66" style="display: none">package httpx

import "net/http"

type HTTPClient interface {
        Do(req *http.Request) (*http.Response, error)
}

func Get(deps ...interface{}) HTTPClient <span class="cov8" title="1">{
        for _, o := range deps </span><span class="cov8" title="1">{
                if client, ok := o.(HTTPClient); ok </span><span class="cov8" title="1">{
                        return client
                }</span>
        }

        <span class="cov0" title="0">return http.DefaultClient</span>
}
</pre>
		
		<pre class="file" id="file67" style="display: none">// Code generated by MockGen. DO NOT EDIT.
// Source: ./tools/httpx/client.go

// Package httpx is a generated GoMock package.
package httpx

import (
        http "net/http"
        reflect "reflect"

        gomock "github.com/golang/mock/gomock"
)

// MockHTTPClient is a mock of HTTPClient interface.
type MockHTTPClient struct {
        ctrl     *gomock.Controller
        recorder *MockHTTPClientMockRecorder
}

// MockHTTPClientMockRecorder is the mock recorder for MockHTTPClient.
type MockHTTPClientMockRecorder struct {
        mock *MockHTTPClient
}

// NewMockHTTPClient creates a new mock instance.
func NewMockHTTPClient(ctrl *gomock.Controller) *MockHTTPClient <span class="cov8" title="1">{
        mock := &amp;MockHTTPClient{ctrl: ctrl}
        mock.recorder = &amp;MockHTTPClientMockRecorder{mock}
        return mock
}</span>

// EXPECT returns an object that allows the caller to indicate expected use.
func (m *MockHTTPClient) EXPECT() *MockHTTPClientMockRecorder <span class="cov8" title="1">{
        return m.recorder
}</span>

// Do mocks base method.
func (m *MockHTTPClient) Do(req *http.Request) (*http.Response, error) <span class="cov8" title="1">{
        m.ctrl.T.Helper()
        ret := m.ctrl.Call(m, "Do", req)
        ret0, _ := ret[0].(*http.Response)
        ret1, _ := ret[1].(error)
        return ret0, ret1
}</span>

// Do indicates an expected call of Do.
func (mr *MockHTTPClientMockRecorder) Do(req interface{}) *gomock.Call <span class="cov8" title="1">{
        mr.mock.ctrl.T.Helper()
        return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Do", reflect.TypeOf((*MockHTTPClient)(nil).Do), req)
}</span>
</pre>
		
		<pre class="file" id="file68" style="display: none">package log

import (
        "fmt"
        "net"

        "github.com/nmarsollier/cartgo/tools/env"
        uuid "github.com/satori/go.uuid"
        "github.com/sirupsen/logrus"
)

const LOG_FIELD_CORRELATION_ID = "correlation_id"
const LOG_FIELD_CONTROLLER = "controller"
const LOG_FIELD_RABBIT_ACTION = "rabbit_action"
const LOG_FIELD_RABBIT_EXCHANGE = "exchange"
const LOG_FIELD_RABBIT_QUEUE = "queue"
const LOG_FIELD_HTTP_METHOD = "http_method"
const LOG_FIELD_HTTP_PATH = "http_path"
const LOG_FIELD_HTTP_STATUS = "http_status"
const LOG_FIELD_SERVER = "server"
const LOG_FIELD_USER_ID = "user_id"
const LOG_FIELD_THREAD = "thread"

func Get(deps ...interface{}) LogRusEntry <span class="cov8" title="1">{
        for _, o := range deps </span><span class="cov8" title="1">{
                if ti, ok := o.(LogRusEntry); ok </span><span class="cov8" title="1">{
                        return ti
                }</span>
        }
        <span class="cov0" title="0">logger := logrus.New()
        configureFluent(logger)

        logger.SetLevel(logrus.DebugLevel)
        result := logger.WithField(LOG_FIELD_SERVER, "cartgo").WithField(LOG_FIELD_THREAD, uuid.NewV4().String())
        return logRusEntry{entry: result}</span>
}

type logrusConnectionHook struct {
        conn net.Conn
        fmt  logrus.Formatter
}

func (hook *logrusConnectionHook) Fire(entry *logrus.Entry) error <span class="cov0" title="0">{
        msg, err := hook.fmt.Format(entry)
        if err == nil </span><span class="cov0" title="0">{
                fmt.Println(string(msg))
        }</span>
        <span class="cov0" title="0">return nil</span>
}

func (hook *logrusConnectionHook) Levels() []logrus.Level <span class="cov0" title="0">{
        return logrus.AllLevels
}</span>

func (hook *logrusConnectionHook) Close() error <span class="cov0" title="0">{
        hook.conn.Close()
        return nil
}</span>

func configureFluent(logger *logrus.Logger) <span class="cov0" title="0">{
        conn, err := net.Dial("tcp", env.Get().FluentUrl)
        if err == nil </span><span class="cov0" title="0">{
                logger.SetFormatter(&amp;logrus.JSONFormatter{})
                logger.SetOutput(conn)
                logger.AddHook(&amp;logrusConnectionHook{
                        conn: conn,
                        fmt: &amp;logrus.TextFormatter{
                                FullTimestamp:  true,
                                ForceColors:    true,
                                DisableSorting: false,
                        },
                })
        }</span>
}
</pre>
		
		<pre class="file" id="file69" style="display: none">package log

import "github.com/sirupsen/logrus"

type LogRusEntry interface {
        Data() logrus.Fields
        Info(args ...interface{})
        Error(args ...interface{})
        WithField(key string, value interface{}) LogRusEntry
}

type logRusEntry struct {
        entry *logrus.Entry
}

func (l logRusEntry) Error(args ...interface{}) <span class="cov0" title="0">{
        l.entry.Log(logrus.ErrorLevel, args...)
}</span>

func (l logRusEntry) WithField(key string, value interface{}) LogRusEntry <span class="cov0" title="0">{
        return logRusEntry{
                entry: l.entry.WithField(key, value),
        }
}</span>

func (l logRusEntry) Info(args ...interface{}) <span class="cov0" title="0">{
        l.entry.Info(args...)
}</span>

func (l logRusEntry) Data() logrus.Fields <span class="cov0" title="0">{
        return l.entry.Data
}</span>
</pre>
		
		<pre class="file" id="file70" style="display: none">// Code generated by MockGen. DO NOT EDIT.
// Source: ./tools/log/logrus_logger.go

// Package log is a generated GoMock package.
package log

import (
        reflect "reflect"

        gomock "github.com/golang/mock/gomock"
        logrus "github.com/sirupsen/logrus"
)

// MockLogRusEntry is a mock of LogRusEntry interface.
type MockLogRusEntry struct {
        ctrl     *gomock.Controller
        recorder *MockLogRusEntryMockRecorder
}

// MockLogRusEntryMockRecorder is the mock recorder for MockLogRusEntry.
type MockLogRusEntryMockRecorder struct {
        mock *MockLogRusEntry
}

// NewMockLogRusEntry creates a new mock instance.
func NewMockLogRusEntry(ctrl *gomock.Controller) *MockLogRusEntry <span class="cov8" title="1">{
        mock := &amp;MockLogRusEntry{ctrl: ctrl}
        mock.recorder = &amp;MockLogRusEntryMockRecorder{mock}
        return mock
}</span>

// EXPECT returns an object that allows the caller to indicate expected use.
func (m *MockLogRusEntry) EXPECT() *MockLogRusEntryMockRecorder <span class="cov8" title="1">{
        return m.recorder
}</span>

// Data mocks base method.
func (m *MockLogRusEntry) Data() logrus.Fields <span class="cov8" title="1">{
        m.ctrl.T.Helper()
        ret := m.ctrl.Call(m, "Data")
        ret0, _ := ret[0].(logrus.Fields)
        return ret0
}</span>

// Data indicates an expected call of Data.
func (mr *MockLogRusEntryMockRecorder) Data() *gomock.Call <span class="cov8" title="1">{
        mr.mock.ctrl.T.Helper()
        return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Data", reflect.TypeOf((*MockLogRusEntry)(nil).Data))
}</span>

// Error mocks base method.
func (m *MockLogRusEntry) Error(args ...interface{}) <span class="cov8" title="1">{
        m.ctrl.T.Helper()
        varargs := []interface{}{}
        for _, a := range args </span><span class="cov8" title="1">{
                varargs = append(varargs, a)
        }</span>
        <span class="cov8" title="1">m.ctrl.Call(m, "Error", varargs...)</span>
}

// Error indicates an expected call of Error.
func (mr *MockLogRusEntryMockRecorder) Error(args ...interface{}) *gomock.Call <span class="cov8" title="1">{
        mr.mock.ctrl.T.Helper()
        return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Error", reflect.TypeOf((*MockLogRusEntry)(nil).Error), args...)
}</span>

// Info mocks base method.
func (m *MockLogRusEntry) Info(args ...interface{}) <span class="cov8" title="1">{
        m.ctrl.T.Helper()
        varargs := []interface{}{}
        for _, a := range args </span><span class="cov8" title="1">{
                varargs = append(varargs, a)
        }</span>
        <span class="cov8" title="1">m.ctrl.Call(m, "Info", varargs...)</span>
}

// Info indicates an expected call of Info.
func (mr *MockLogRusEntryMockRecorder) Info(args ...interface{}) *gomock.Call <span class="cov8" title="1">{
        mr.mock.ctrl.T.Helper()
        return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Info", reflect.TypeOf((*MockLogRusEntry)(nil).Info), args...)
}</span>

// WithField mocks base method.
func (m *MockLogRusEntry) WithField(key string, value interface{}) LogRusEntry <span class="cov0" title="0">{
        m.ctrl.T.Helper()
        ret := m.ctrl.Call(m, "WithField", key, value)
        ret0, _ := ret[0].(LogRusEntry)
        return ret0
}</span>

// WithField indicates an expected call of WithField.
func (mr *MockLogRusEntryMockRecorder) WithField(key, value interface{}) *gomock.Call <span class="cov8" title="1">{
        mr.mock.ctrl.T.Helper()
        return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "WithField", reflect.TypeOf((*MockLogRusEntry)(nil).WithField), key, value)
}</span>
</pre>
		
		<pre class="file" id="file71" style="display: none">package log

import (
        "github.com/golang/mock/gomock"
        "github.com/sirupsen/logrus"
)

func NewTestLogger(ctrl *gomock.Controller, withFieldCount int, errorCount int, infoCount int, dataCount int) LogRusEntry <span class="cov8" title="1">{
        logger := NewMockLogRusEntry(ctrl)
        logger.EXPECT().WithField(gomock.Any(), gomock.Any()).Return(logger).Times(withFieldCount)
        logger.EXPECT().Error(gomock.Any()).Return().Times(errorCount)
        logger.EXPECT().Info(gomock.Any()).Return().Times(infoCount)

        logger.EXPECT().Data().Return(logrus.Fields{
                LOG_FIELD_CORRELATION_ID: "correlationId",
        }).Times(dataCount)

        return logger
}</span>
</pre>
		
		<pre class="file" id="file72" style="display: none">package strs

import "encoding/json"

func ToJson(obj interface{}) string <span class="cov8" title="1">{
        jsonData, _ := json.Marshal(obj)
        return string(jsonData)
}</span>
</pre>
		
		</div>
	</body>
	<script>
	(function() {
		var files = document.getElementById('files');
		var visible;
		files.addEventListener('change', onChange, false);
		function select(part) {
			if (visible)
				visible.style.display = 'none';
			visible = document.getElementById(part);
			if (!visible)
				return;
			files.value = part;
			visible.style.display = 'block';
			location.hash = part;
		}
		function onChange() {
			select(files.value);
			window.scrollTo(0, 0);
		}
		if (location.hash != "") {
			select(location.hash.substr(1));
		}
		if (!visible) {
			select("file0");
		}
	})();
	</script>
</html>
